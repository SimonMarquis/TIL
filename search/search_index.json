{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"\ud83d\uddd3\ufe0f Today I Learned","text":"<p>Tip</p> <p>Select a theme in the navigation sidebar () or use the search bar ().</p>"},{"location":"android/","title":"\ud83e\udd16 Android","text":""},{"location":"android/#aapt-and-gz-files","title":"AAPT and GZ files","text":"<p>AAPT will silently decompress any <code>.gz</code> file from the <code>assets</code> directory. If you store a (compressed) <code>/assets/data.json.gz</code> file, AAPT will only package a (decompressed) <code>/assets/data.json</code> file in the resulting apk and aab.</p> <p>A workaround is to move the file in Java's resources folder <code>/resources/assets/data.json.gz</code>.</p> <p>\ud83d\udd17</p>"},{"location":"android/#aapt-ignore-assets-from-third-party-libraries","title":"AAPT ignore assets from third party libraries","text":"<pre><code>android {\nandroidResources {\nignoreAssetsPatterns += \"SomeFont.ttf\"\n}\n}\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"android/#apk-mime-type","title":"APK MIME type","text":"<p><code>application/vnd.android.package-archive</code></p> <p>\ud83d\udd17</p>"},{"location":"android/#app-links","title":"App Links","text":"<p>Quote</p> <p>To test an existing statement file, you can use the official Statement List Generator and Tester tool. During app install/update, an Android service will verify if the App Links configuration complies with the server side <code>assetlinks.json</code> file. The results will be sent to logcat, with these tags: <code>IntentFilterIntentSvc</code> and <code>SingleHostAsyncVerifier</code>.  </p> <p>The following command will filter the appropriate logcat messages: <pre><code>adb logcat -s \"IntentFilterIntentSvc:*\" \"SingleHostAsyncVerifier:*\" \"AppLinksAsyncVerifierV2:*\" \"AppLinksHostsVerifierV2:*\"\n</code></pre></p> Logcat Android 12+Android 11 <p>Success</p> <pre><code>AppLinksAsyncVerifierV2  I  Verification result: checking for a statement with source https://smarquis.fr, relation delegate_permission/common.handle_all_urls, and target fr.smarquis.applinks --&gt; true. [CONTEXT service_id=244 ]\nAppLinksHostsVerifierV2  I  Verification fr.smarquis.applinks complete. Successful hosts: smarquis.fr. Failed hosts: . Error hosts: . [CONTEXT service_id=244 ]\n</code></pre> <p>Failure</p> <pre><code>AppLinksAsyncVerifierV2  I  Verification result: checking for a statement with source https://smarquis.fr, relation delegate_permission/common.handle_all_urls, and target fr.smarquis.applinks --&gt; false. [CONTEXT service_id=244 ]\nAppLinksHostsVerifierV2  I  Verification fr.smarquis.applinks complete. Successful hosts: . Failed hosts: smarquis.fr. Error hosts: . [CONTEXT service_id=244 ]\n</code></pre> <p>Success</p> <pre><code>I/IntentFilterIntentSvc: Verifying IntentFilter. verificationId:0 scheme:\"https\" hosts:\"smarquis.fr\" package:\"fr.smarquis.applinks\".\nI/SingleHostAsyncVerifier: Verification result: checking for a statement with source a &lt;\n                             a: \"https://smarquis.fr\"\n                           &gt;\n                           , relation delegate_permission/common.handle_all_urls, and target b &lt;\n                             a: \"fr.smarquis.applinks\"\n                             b &lt;\n                               a: \"D2:18:2B:0E:34:38:3B:FD:A7:80:AC:21:88:F1:F7:1F:13:33:AD:CB:E3:94:2A:75:96:FB:A1:7A:0B:6B:CE:68\"\n                             &gt;\n                           &gt;\n                            --&gt; true.\nI/IntentFilterIntentSvc: Verification 0 complete. Success:true. Failed hosts:.\n</code></pre> <p>Failure</p> <pre><code>I/IntentFilterIntentSvc: Verifying IntentFilter. verificationId:1 scheme:\"https\" hosts:\"smarquis.fr\" package:\"fr.smarquis.applinks\".\nI/SingleHostAsyncVerifier: Verification result: checking for a statement with source a &lt;\n                             a: \"https://smarquis.fr\"\n                           &gt;\n                           , relation delegate_permission/common.handle_all_urls, and target b &lt;\n                             a: \"fr.smarquis.applinks\"\n                             b &lt;\n                               a: \"D2:18:2B:0E:34:38:3B:FD:A7:80:AC:21:88:F1:F7:1F:13:33:AD:CB:E3:94:2A:75:96:FB:A1:7A:0B:6B:CE:68\"\n                             &gt;\n                           &gt;\n                            --&gt; false.\nI/IntentFilterIntentSvc: Verification 1 complete. Success:false. Failed hosts:smarquis.fr.\n</code></pre> <p>\ud83d\udd17 </p> <p>ADB also offers some commands to troubleshoot App Links:</p> <ul> <li>Reset the state of App Links   <pre><code>adb shell pm set-app-links --package &lt;package.name&gt; 0 all\n</code></pre></li> <li>Restart the verification process   <pre><code>adb shell pm verify-app-links --re-verify &lt;package.name&gt;\n</code></pre></li> <li>Dump the current status   <pre><code>adb shell pm get-app-links &lt;package.name&gt;\n</code></pre></li> </ul> <p>\ud83d\udd17</p>"},{"location":"android/#autocleanedvalue","title":"AutoCleanedValue","text":"<pre><code>import androidx.fragment.app.Fragment\nimport androidx.lifecycle.DefaultLifecycleObserver\nimport androidx.lifecycle.Lifecycle.State.INITIALIZED\nimport androidx.lifecycle.LifecycleOwner\nimport androidx.lifecycle.Observer\nimport kotlin.properties.ReadWriteProperty\nimport kotlin.reflect.KProperty\n\nclass AutoCleanedValue&lt;T : Any&gt;(\nfragment: Fragment,\nprivate val initializer: (() -&gt; T)?\n) : ReadWriteProperty&lt;Fragment, T&gt; {\n\nprivate var _value: T? = null\n\ninit {\nfragment.lifecycle.addObserver(object : DefaultLifecycleObserver {\nval viewLifecycleOwnerObserver = Observer&lt;LifecycleOwner&gt; {\nit?.lifecycle?.addObserver(object : DefaultLifecycleObserver {\noverride fun onDestroy(owner: LifecycleOwner) {\n_value = null\n}\n})\n}\n\noverride fun onCreate(owner: LifecycleOwner) =\nfragment.viewLifecycleOwnerLiveData.observeForever(viewLifecycleOwnerObserver)\n\noverride fun onDestroy(owner: LifecycleOwner) =\nfragment.viewLifecycleOwnerLiveData.removeObserver(viewLifecycleOwnerObserver)\n})\n}\n\noverride fun getValue(thisRef: Fragment, property: KProperty&lt;*&gt;): T = _value ?: run {\nif (!thisRef.viewLifecycleOwner.lifecycle.currentState.isAtLeast(INITIALIZED)) throw IllegalStateException(\"Fragment might have been destroyed or is not initialized yet!\")\nif (initializer == null) throw IllegalStateException(\"No default initializer provided!\")\ninitializer.invoke().also { _value = it }\n}\n\noverride fun setValue(thisRef: Fragment, property: KProperty&lt;*&gt;, value: T) {\n_value = value\n}\n}\n\nfun &lt;T : Any&gt; Fragment.autoCleaned(\ninitializer: (() -&gt; T)? = null\n): AutoCleanedValue&lt;T&gt; = AutoCleanedValue(this, initializer)\n</code></pre> <pre><code>class MyFragment : Fragment() {\n\nprivate val adapter: MyAdapter by autoCleaned(::MyAdapter)\nprivate var binding: MyBinding by autoCleaned()\n\noverride fun onCreateView(\ninflater: LayoutInflater,\ncontainer: ViewGroup?,\nsavedInstanceState: Bundle?\n): View = MyBinding.inflate(inflater, container, false).also { binding = it }.root\n\n}\n</code></pre> <p>\ud83d\udd17 \ud83d\udd17</p>"},{"location":"android/#bottomsheetbehavior-extensions","title":"BottomSheetBehavior extensions","text":"<pre><code>fun &lt;V : View&gt; V.behavior(): BottomSheetBehavior&lt;V&gt; = BottomSheetBehavior.from(this)\n\nfun BottomSheetBehavior&lt;*&gt;.isExpanded(): Boolean = state == STATE_EXPANDED\nfun BottomSheetBehavior&lt;*&gt;.isHalfExpanded(): Boolean = state == STATE_HALF_EXPANDED\nfun BottomSheetBehavior&lt;*&gt;.isCollapsed(): Boolean = state == STATE_COLLAPSED\nfun BottomSheetBehavior&lt;*&gt;.isHidden(): Boolean = state == STATE_HIDDEN\nfun BottomSheetBehavior&lt;*&gt;.isDragging(): Boolean = state == STATE_DRAGGING\nfun BottomSheetBehavior&lt;*&gt;.isSettling(): Boolean = state == STATE_SETTLING\n\nfun BottomSheetBehavior&lt;*&gt;.collapse() { state = STATE_COLLAPSED }\nfun BottomSheetBehavior&lt;*&gt;.expand() { state = STATE_EXPANDED }\nfun BottomSheetBehavior&lt;*&gt;.halfExpand() { state = STATE_HALF_EXPANDED }\nfun BottomSheetBehavior&lt;*&gt;.hide() { state = STATE_HIDDEN }\n\nfun BottomSheetBehavior&lt;*&gt;.toggle() { if (isExpanded()) collapse() else expand() }\n\n/**\n * @param onBottomSheetStateChanged [BottomSheetCallback.onStateChanged]\n */\nfun BottomSheetBehavior&lt;*&gt;.addBottomSheetStateChangedCallback(onBottomSheetStateChanged: (bottomSheet: View, newState: Int) -&gt; Unit): BottomSheetCallback = object : BottomSheetCallback() {\noverride fun onStateChanged(bottomSheet: View, @BottomSheetBehavior.State newState: Int) = onBottomSheetStateChanged(bottomSheet, newState)\noverride fun onSlide(bottomSheet: View, slideOffset: Float) = Unit\n}.also(this::addBottomSheetCallback)\n\n/**\n * @param onBottomSheetSlide [BottomSheetCallback.onSlide]\n */\nfun BottomSheetBehavior&lt;*&gt;.addBottomSheetSlideCallback(onBottomSheetSlide: (bottomSheet: View, slideOffset: Float) -&gt; Unit): BottomSheetCallback = object : BottomSheetCallback() {\noverride fun onStateChanged(bottomSheet: View, @BottomSheetBehavior.State newState: Int) = Unit\noverride fun onSlide(bottomSheet: View, slideOffset: Float) = onBottomSheetSlide(bottomSheet, slideOffset)\n}.also(this::addBottomSheetCallback)\n</code></pre>"},{"location":"android/#concatadapter-find-global-position","title":"ConcatAdapter find global position","text":"<pre><code>/**\n * @return the (global) position for the (local) [position] of the [adapter], or [NO_POSITION] if the [adapter] is not part of [this].\n */\nfun ConcatAdapter.findPositionOf(\nposition: Int,\nadapter: Adapter&lt;*&gt;,\n): Int {\nvar offset = 0\nadapters.forEach {\nif (it == adapter) return offset + position\noffset += it.itemCount\n}\nreturn NO_POSITION\n}\n</code></pre>"},{"location":"android/#debuggable-apk","title":"Debuggable APK","text":"<pre><code>aapt dump badging &lt;path-to-apk&gt; | grep -c application-debuggable\n</code></pre>"},{"location":"android/#deeplinks","title":"Deeplinks","text":"<pre><code>adb shell am start -a android.intent.action.VIEW \\\n-c android.intent.category.BROWSABLE \\\n-d \"https://example.com\"\n</code></pre> <p>Or shorter:</p> <pre><code>adb shell \"am start 'https://example.com'\"\n</code></pre> <p>Note: Nested double/simple quotes might be necessary if the url contains special characters.</p>"},{"location":"android/#disable-samsung-vr","title":"Disable Samsung VR","text":"<pre><code>adb shell pm hide com.samsung.android.hmt.vrsvc\n</code></pre>"},{"location":"android/#disable-unnecessary-instrumented-tests","title":"Disable unnecessary instrumented tests","text":"<pre><code>/**\n * Disable unnecessary Android instrumented tests for the [project] if there is no `androidTest` folder.\n * Otherwise, these projects would be compiled, packaged, installed and ran only to end-up with the following message:\n *\n * &gt; Starting 0 tests on AVD\n *\n * Note: this could be improved by checking other potential sourceSets based on buildTypes and flavors.\n */\ninternal fun LibraryAndroidComponentsExtension.disableUnnecessaryAndroidTests(\nproject: Project,\n) = beforeVariants {\nval base = \"${project.projectDir}/src/androidTest\"\nval buildTyped = base + it.buildType?.capitalized()\nval flavored = base + it.flavorName?.capitalized()\nval variant = flavored + it.buildType?.capitalized()\nval dirs = sequenceOf(base, buildTyped, flavored, variant).map(project::file)\nit.enableAndroidTest = it.enableAndroidTest &amp;&amp; dirs.any(File::exists)\n}\n</code></pre>"},{"location":"android/#download-all-apk-files","title":"Download all APK files","text":"<pre><code>for package in $(adb shell pm list packages -3 | tr -d '\\r' | sed 's/package://g'); do apk=$(adb shell pm path $package | tr -d '\\r' | sed 's/package://g'); echo \"Pulling $apk\"; adb pull -p $apk \"$package\".apk; done\n</code></pre>"},{"location":"android/#edit-sharepreferences","title":"Edit SharePreferences","text":"<pre><code>~ adb shell am force-stop &lt;packageName&gt;\n~ adb shell run-as &lt;packageName&gt;\n$ ls shared_prefs\n$ cat shared_prefs/&lt;fileName&gt;.xml\n$ echo '&lt;?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\" ?&gt;\n&lt;map&gt;\n    &lt;!-- Prefs here --&gt;\n&lt;/map&gt;\n' &gt; shared_prefs/&lt;fileName&gt;.xml\n</code></pre> <p>or</p> <pre><code>cat &gt; shared_prefs/&lt;fileName&gt;.xml\n&lt;?xml version='1.0' encoding='utf-8' standalone='yes' ?&gt;\n&lt;map&gt;\n    &lt;!-- Prefs here --&gt;\n&lt;/map&gt;\nCtrl+C\n</code></pre>"},{"location":"android/#ellipsized-textview","title":"Ellipsized TextView","text":"<pre><code>fun TextView.isEllipsized(): Boolean = layout?.let { !TextUtils.equals(text, it.text) } ?: false\n</code></pre>"},{"location":"android/#espresso-appnotidleexception","title":"Espresso AppNotIdleException","text":"<p>On API &lt;= 21, indeterminate <code>ProgressBar</code>s would animate forever and trigger the following exception when running Espresso tests: </p> <pre><code>android.support.test.espresso.AppNotIdleException: Looped for [...] iterations over 60 SECONDS. The following Idle Conditions failed .\n</code></pre> <p>A simple solution is to disable such <code>ProgressBar</code>s by replacing their <code>indeterminateDrawable</code> with a static (non-animated) <code>Drawable</code>:</p> <pre><code>fun Activity.disableProgressBarAnimations() = window.decorView.rootView.disableProgressBarAnimations()\n\nfun Fragment.disableProgressBarAnimations() = requireView().disableProgressBarAnimations()\n\nfun View.disableProgressBarAnimations(\nreplacement: Drawable = ColorDrawable(Color.BLUE),\n) = recursiveChildren().filterIsInstance&lt;ProgressBar&gt;().forEach {\nit.indeterminateDrawable = replacement\n}\n</code></pre> <p>This can also happen for <code>AnimatedVectorDrawable</code>s.</p>"},{"location":"android/#firebase-analytics-debug","title":"Firebase Analytics debug","text":"<p>\ud83d\udd17 Enabling debug mode forces the app to send events immediately instead of waiting for batches.</p> <pre><code># Enable\nadb shell setprop debug.firebase.analytics.app my.package.name\n# Disable\nadb shell setprop debug.firebase.analytics.app .none.\n</code></pre> <p>\ud83d\udd17 To enable Firebase logs in logcat:</p> <pre><code>adb shell setprop log.tag.FA VERBOSE\nadb shell setprop log.tag.FA-SVC VERBOSE\nadb logcat -v time -s FA FA-SVC\n</code></pre>"},{"location":"android/#forcing-lint-version","title":"Forcing Lint version","text":"<p>This allows to run a specific version of Lint without changing the Android Gradle plugin (AGP).</p> gradle.properties<pre><code># lint = agp + 23.0.0\n# https://googlesamples.github.io/android-custom-lint-rules/api-guide.html#example:samplelintcheckgithubproject/lintversion?\nandroid.experimental.lint.version = 8.2.0-alpha07\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"android/#google-maps-outlined-marker-label","title":"Google Maps Outlined Marker Label","text":"\ud83d\udcf9 \ud83d\uddbc\ufe0f <pre><code>import android.content.Context\nimport android.graphics.Canvas\nimport android.graphics.Paint\nimport android.graphics.Paint.Cap\nimport android.graphics.Paint.Join\nimport android.graphics.Paint.Style\nimport android.graphics.Typeface\nimport android.text.Layout.Alignment.ALIGN_CENTER\nimport android.text.StaticLayout\nimport android.text.TextPaint\nimport android.text.style.TextAppearanceSpan\nimport android.view.View\nimport androidx.annotation.ColorInt\nimport androidx.annotation.Px\nimport androidx.annotation.StyleRes\nimport androidx.core.graphics.withTranslation\nimport com.google.android.gms.maps.model.Marker\n\n/**\n * Simulates Google Maps outlined labels on [Marker]s.\n * The current solution uses a [StaticLayout] and draws it twice for each [onDraw] call, modifying its [TextPaint] [TextPaint.setColor] and [TextPaint.setStyle].\n * &lt;/br&gt;\n * Alternate solutions are:\n * - Single [android.widget.TextView] drawing twice on each [onDraw] call (must prevent infinite loop when modifying text color)\n * - Single [android.widget.TextView] with [android.widget.TextView.setShadowLayer] and draw multiple times to get a more opaque shadow:\n *      &lt;pre&gt;override fun onDraw(canvas: Canvas?) = repeat(x) { super.onDraw(canvas) }&lt;/pre&gt;\n * - Custom Span using [android.text.style.MetricAffectingSpan]\n * - Two stacked [android.widget.TextView]s, one with {@code paint.style = STROKE} the other with {@code paint.style = FILL}\n */\nclass OutlinedMarkerLabel constructor(\ncontext: Context,\n@ColorInt val textColor: Int,\n@ColorInt val strokeColor: Int,\n@Px val strokeWidth: Float,\n@Px val maxWidth: Int = Int.MAX_VALUE,\n@StyleRes val textAppearance: Int,\n) : View(context) {\n\nprivate val textPaint = TextPaint(Paint.ANTI_ALIAS_FLAG).apply {\nval span = TextAppearanceSpan(context, textAppearance)\ntypeface = Typeface.create(span.family, span.textStyle)\ntextSize = span.textSize.toFloat()\nstrokeWidth = this@OutlinedMarkerLabel.strokeWidth\nstrokeCap = Cap.ROUND\nstrokeJoin = Join.ROUND\n}\n\nprivate var staticLayout: StaticLayout? = null\n\nprivate fun newStaticLayout(text: String): StaticLayout? {\nif (text.isBlank()) return null\n// Here we could improve the requiredWidth computation a bit by going through all lines and clamp to the largest\nval width = minOf(textPaint.measureText(text).toInt(), maxWidth)\nreturn StaticLayout.Builder.obtain(text, 0, text.length, textPaint, width)\n.setIncludePad(false)\n.setAlignment(ALIGN_CENTER)\n.build()\n}\n\noverride fun onMeasure(widthMeasureSpec: Int, heightMeasureSpec: Int) {\nval layout = staticLayout ?: return super.onMeasure(widthMeasureSpec, heightMeasureSpec)\nval offset = layout.paint.strokeWidth.toInt()\nsetMeasuredDimension(layout.width + offset, layout.height + offset)\n}\n\noverride fun onDraw(canvas: Canvas?) {\nwith(staticLayout ?: return) {\nwith(paint) {\ncanvas?.withTranslation(strokeWidth / 2F, strokeWidth / 2F) {\ncolor = strokeColor\nstyle = Style.FILL_AND_STROKE\ndraw(canvas)\ncolor = textColor\nstyle = Style.FILL\ndraw(canvas)\n}\n}\n}\n}\n\nfun bind(marker: Marker) {\nstaticLayout = newStaticLayout(marker.title.orEmpty())\nrequestLayout()\n}\n\n}\n</code></pre>"},{"location":"android/#gradle-managed-virtual-devices","title":"Gradle Managed Virtual Devices","text":"<pre><code>testOptions {\nanimationsDisabled = true\nmanagedDevices {\ndevices {\ncreate&lt;ManagedVirtualDevice&gt;(\"pixel2\") {\ndevice = \"Pixel 2\"\napiLevel = 30\nrequire64Bit = true\nsystemImageSource = \"google\" /* \"google-atd\", \"aosp\", or \"aosp-atd\" */\n}\n}\n}\ngroups {\ncreate(\"pixels\") {\ntargetDevices += devices.getByName(\"pixel2\")\n}\n}\n}\n</code></pre> <pre><code># Run tests on a single device\ngradlew pixel2DebugAndroidTest\n# or on a group of devices\ngradlew pixelsGroupDebugAndroidTest\n</code></pre> <p>\ud83d\udd17 \ud83d\udd17</p>"},{"location":"android/#kotlin-coroutines-debug-probes","title":"Kotlin Coroutines debug probes","text":"<p>Quote</p> <p>The <code>kotlinx-coroutines-core</code> artifact contains a resource file that is not required for the coroutines to operate normally and is only used by the debugger.</p> <pre><code>android {\npackagingOptions {\nresources.excludes += \"DebugProbesKt.bin\"\n}\n}\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"android/#ignore-generated-baseline-profile","title":"Ignore generated baseline profile","text":"<p>This generated file is generally very large (1 to 10 MiB), wastes precious indexing time and fills up search results.</p> <pre><code>plugins {\nid(\"idea\")\n}\n\nidea {\nmodule {\nexcludeDirs = excludeDirs + file(\"src/main/baseline-prof.txt\")\n}\n}\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"android/#lifecycle-cheatsheets","title":"Lifecycle CheatSheets","text":"<p>\ud83d\udd17 JoseAlcerreca/android-lifecycles</p>"},{"location":"android/#lint-easter-egg","title":"Lint easter egg","text":"<pre><code>public class Hidden {\n// This looks like a comment, but it's actually code that will be executed when the class is loaded!\n/* \\u002a\\u002f static { System.out.println(\"Oh no!\"); } \\u002f\\u002a */\n}\n</code></pre> <p>Fortunately, Kotlin does not seem to be affected by this</p> <pre><code>class Hidden {\n// This is correctly parsed as a comment\n/* \\u002A\\u002F companion object { init { println(\"Oh no!\") } } \\u002F\\u002A */\n}\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"android/#list-aosp-atd-devices","title":"List AOSP ATD devices","text":"<pre><code>\"$ANDROID_HOME\"/cmdline-tools/latest/bin/sdkmanager --list --channel=3 | grep atd | cut -d ' ' -f 3\n</code></pre> <pre><code>system-images;android-30;aosp_atd;arm64-v8a\nsystem-images;android-30;aosp_atd;x86\nsystem-images;android-30;aosp_atd;x86_64\nsystem-images;android-30;google_atd;arm64-v8a\nsystem-images;android-30;google_atd;x86\nsystem-images;android-30;google_atd;x86_64\nsystem-images;android-31;aosp_atd;x86_64\nsystem-images;android-31;google_atd;x86_64\n</code></pre>"},{"location":"android/#list-resources-at-runtime","title":"List resources at runtime","text":"<pre><code>/* Colors */\nR.color::class.java.fields.forEach {\nval name = it.name\nval colorRes /*@ColorRes*/ = it.getInt(null)\nval colorInt /*@ColorInt*/ = ContextCompat.getColor(this, colorRes)\n}\n\n/* Drawables */\nR.drawable::class.java.fields.forEach {\nval name = it.name\nval drawableRes /*@DrawableRes*/ = it.getInt(null)\nval drawable = ContextCompat.getDrawable(this, drawableRes)\n}\n\n/* Strings */\nR.string::class.java.fields.forEach {\nval name = it.name\nval stringRes /*@StringRes*/ = it.getInt(null)\nval string = getString(stringRes)\n}\n</code></pre>"},{"location":"android/#livedata-events","title":"LiveData Events","text":"<p>Previously known as <code>SingleLiveEvent</code> \ud83d\udd17</p> <pre><code>/**\n * Used as a wrapper for data that is exposed via a LiveData that represents an event.\n */\nopen class Event&lt;out T : Any&gt;(private val content: T) {\n\nvar hasBeenHandled = false\nprivate set\n\n/**\n     * Returns the [content], even if it's already been handled.\n     */\nfun peek(): T = content\n\n/**\n     * Returns the [content] and prevents its use again.\n     */\nfun getIfNotHandled(): T? = if (hasBeenHandled) null else content.also { hasBeenHandled = true }\n\n/**\n     * Executes the [block] if the [content] has not already been handled.\n     */\nfun ifNotHandled(block: (T) -&gt; Unit) = getIfNotHandled()?.let(block)\n\n}\n</code></pre> <p>\ud83d\udd17</p> <pre><code>/**\n * An [Observer] for [Event]s, simplifying the pattern of checking if the [Event]'s value has already been handled.\n *\n * [onEvent] is *only* called if the [Event]'s contents has not been handled.\n */\nclass EventObserver&lt;T : Any&gt;(\nprivate val onEvent: (T) -&gt; Unit,\n) : Observer&lt;Event&lt;T&gt;&gt; {\noverride fun onChanged(event: Event&lt;T&gt;) {\nevent.ifNotHandled(onEvent)\n}\n}\n\nfun &lt;T : Any&gt; LiveData&lt;Event&lt;T&gt;&gt;.observeEvent(\nowner: LifecycleOwner,\nonEvent: (T) -&gt; Unit,\n) = observe(owner, EventObserver(onEvent))\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"android/#livedata-observe-non-null-data","title":"LiveData observe non-null data","text":"<pre><code>fun &lt;T&gt; LiveData&lt;T&gt;.observeNotNull(\nowner: LifecycleOwner,\nobserver: (data: T &amp; Any) -&gt; Unit,\n) = observe(owner) { it?.let(observer) }\n</code></pre>"},{"location":"android/#livedata-unit-testing","title":"LiveData unit testing","text":"<pre><code>/**\n * Gets the value of a [LiveData] or waits for it to have one, with a timeout.\n *\n * Use this extension from host-side (JVM) tests. It's recommended to use it alongside\n * `InstantTaskExecutorRule` or a similar mechanism to execute tasks synchronously.\n */\nfun &lt;T&gt; LiveData&lt;T&gt;.awaitValue(\nduration: Duration = 2.seconds,\nafterObserve: () -&gt; Unit = {}\n): T {\nvar data: T? = null\nval latch = CountDownLatch(1)\nval observer = object : Observer&lt;T&gt; {\noverride fun onChanged(o: T?) {\ndata = o\nlatch.countDown()\nremoveObserver(this)\n}\n}\nobserveForever(observer)\nafterObserve.invoke()\nif (!latch.await(duration.inWholeMilliseconds, MILLISECONDS)) {\nremoveObserver(observer)\nthrow TimeoutException(\"LiveData value was never set.\")\n}\n@Suppress(\"UNCHECKED_CAST\")\nreturn data as T\n}\n\n/**\n * Observes a [LiveData] until the `block` is done executing.\n */\nsuspend fun &lt;T&gt; LiveData&lt;T&gt;.test(block: suspend () -&gt; Unit) {\nval observer = Observer&lt;T&gt; { }\ntry {\nobserveForever(observer)\nblock()\n} finally {\nremoveObserver(observer)\n}\n}\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"android/#locate-apk-files","title":"Locate APK files","text":"<pre><code>adb shell pm list packages -f\nadb shell pm path &lt;package-name&gt;\n</code></pre>"},{"location":"android/#manually-sign-apk","title":"Manually sign APK","text":"<pre><code>apksigner sign --ks debug.keystore --key-pass pass:android --ks-key-alias androiddebugkey --ks-pass pass:android app-release.apk\n</code></pre>"},{"location":"android/#mutliplatform-parcelize-plugin","title":"Mutliplatform Parcelize plugin","text":"<p>Kotlin's Parcelize plugin works only on Android project. Wrapping it in a Kotlin Multiplatform project allows us to use it in JVM projects, without leaking Android implementation details.</p> build.gradle.kts<pre><code>plugins {\nkotlin(\"multiplatform\")\nid(\"com.android.library\")\nid(\"kotlin-parcelize\")\n}\n\nandroid { /* ... */ }\n\nkotlin {\nandroid()\njvm()\n\nsourceSets {\nval commonMain by getting { /* ... */ }\nval commonTest by getting { /* ... */ }\nval jvmMain by getting { /* ... */ }\nval jvmTest by getting { /* ... */ }\nval androidMain by getting { /* ... */ }\nval androidUnitTest by getting { /* ... */ }\nval androidInstrumentedTest by getting { /* ... */ }\n}\n}\n</code></pre> CommonAndroidJVM commonMain/kotlin/Parcel.kt<pre><code>expect class Parcel {\nfun writeLong(long: Long)\nfun readLong(): Long\n}\n\nexpect interface Parcelable\n</code></pre> commonMain/kotlin/Parcelize.kt<pre><code>@OptIn(ExperimentalMultiplatform::class)\n@OptionalExpectation\n@Target(AnnotationTarget.CLASS)\n@Retention(AnnotationRetention.BINARY)\nexpect annotation class Parcelize()\n\n@OptIn(ExperimentalMultiplatform::class)\n@OptionalExpectation\n@Repeatable\n@Target(AnnotationTarget.CLASS, AnnotationTarget.PROPERTY)\nexpect annotation class TypeParceler&lt;T, P : Parceler&lt;in T&gt;&gt;\n\nexpect interface Parceler&lt;T&gt; {\nfun create(parcel: Parcel): T\nfun T.write(parcel: Parcel, flags: Int)\n}\n\n@OptIn(ExperimentalMultiplatform::class)\n@OptionalExpectation\n@Target(AnnotationTarget.PROPERTY)\n@Retention(AnnotationRetention.BINARY)\nexpect annotation class IgnoredOnParcel()\n</code></pre> androidMain/kotlin/Parcel.android.kt<pre><code>actual typealias Parcel = android.os.Parcel\n\nactual typealias Parcelable = android.os.Parcelable\n</code></pre> androidMain/kotlin/Parcelize.kt<pre><code>actual typealias Parcelize = kotlinx.parcelize.Parcelize\n\nactual typealias TypeParceler&lt;T, P&gt; = kotlinx.parcelize.TypeParceler&lt;T, P&gt;\n\nactual typealias Parceler&lt;T&gt; = kotlinx.parcelize.Parceler&lt;T&gt;\n\nactual typealias IgnoredOnParcel = kotlinx.parcelize.IgnoredOnParcel\n</code></pre> jvmMain/kotlin/Parcel.jvm.kt<pre><code>actual class Parcel {\nactual fun writeLong(long: Long): Unit = TODO()\nactual fun readLong(): Long = TODO()\n}\n\nactual interface Parcelable\n</code></pre> jvmMain/kotlin/Parcelize.kt<pre><code>actual annotation class Parcelize\n\nactual annotation class TypeParceler&lt;T, P : Parceler&lt;in T&gt;&gt;\n\nactual interface Parceler&lt;T&gt; {\nactual fun create(parcel: Parcel): T\nactual fun T.write(parcel: Parcel, flags: Int)\n}\n\nactual annotation class IgnoredOnParcel\n</code></pre>"},{"location":"android/#parcel-extensions","title":"Parcel extensions","text":"Testing utils<pre><code>fun &lt;T&gt; Parcel.use(block: (Parcel) -&gt; T): T = try { block(this) } finally { recycle() }\n\ncontext(Parceler&lt;T&gt;)\nfun &lt;T&gt; T.parcelize(): T = Parcel.obtain().use {\nwrite(it, 0)\nit.setDataPosition(0)\ncreate(it)\n}\n\ninline fun &lt;reified R : Parcelable&gt; R.marshall(): ByteArray = Parcel.obtain().use {\nit.writeValue(this)\nit.marshall()\n}\n\ninline fun &lt;reified R : Parcelable&gt; ByteArray.unmarshall(): R? = Parcel.obtain().use {\nit.unmarshall(this, 0, size)\nit.setDataPosition(0)\nit.readValue(R::class.java.classLoader) as T\n}\n</code></pre> Reading boxed primitive values<pre><code>//region Read boxed primitive values\n@SuppressLint(\"ParcelClassLoader\")\nfun Parcel.readIntValue(): Int? = readValue(null) as Int?\n\n@SuppressLint(\"ParcelClassLoader\")\nfun Parcel.readLongValue(): Long? = readValue(null) as Long?\n\n@SuppressLint(\"ParcelClassLoader\")\nfun Parcel.readFloatValue(): Float? = readValue(null) as Float?\n\n@SuppressLint(\"ParcelClassLoader\")\nfun Parcel.readDoubleValue(): Double? = readValue(null) as Double?\n\n@SuppressLint(\"ParcelClassLoader\")\nfun Parcel.readBooleanValue(): Boolean? = readValue(null) as Boolean?\n//endregion\n</code></pre> Read/Write nullable values<pre><code>/**\n * This will check an [Int] flag to switch between `null` and non-`null` value:\n *  - `0` means the value is `null` and nothing must be read\n *  - `1` means the value is non-`null` and can be read\n */\ninline fun &lt;T&gt; Parcel.readNullable(reader: Parcel.() -&gt; T) =\nif (readInt() != 0) reader() else null\n\n/**\n * This will write an [Int] flag to switch between `null` and non-`null` value:\n * - `0` when the value is `null`\n * - `1` when the value is non-`null`\n */\ninline fun &lt;T&gt; Parcel.writeNullable(value: T?, writer: Parcel.(value: T) -&gt; Unit) {\nif (value == null) return writeInt(0)\nwriteInt(1)\nwriter(value)\n}\n</code></pre>"},{"location":"android/#parcelize-and-typeparceler","title":"Parcelize and TypeParceler","text":"<pre><code>class Foo\n\nobject FooParceler : Parceler&lt;Foo?&gt; {\noverride fun create(parcel: Parcel): Foo? = TODO()\noverride fun Foo?.write(parcel: Parcel, flags: Int) = TODO()\n}\n\n// typealias helpers\ntypealias FooTypeParceler = TypeParceler&lt;Foo, FooParceler&gt;\ntypealias FooNullableTypeParceler = TypeParceler&lt;Foo?, FooParceler&gt;\n\n@Parcelize\n@FooTypeParceler\n@FooNullableTypeParceler\nclass Data(val foo: Foo, val nullableFoo: Foo?) : Parcelable\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"android/#print-apk-certificates","title":"Print APK certificates","text":"<pre><code>find . -name '*.apk' -type f -exec echo \"APK: {}\" \\; -exec keytool -printcert -jarfile \"{}\" \\;\n</code></pre>"},{"location":"android/#print-keystore-entries","title":"Print keystore entries","text":"<pre><code>keytool -list -v -keystore ~/.android/debug.keystore\n</code></pre> <pre><code>Keystore type: PKCS12\nKeystore provider: SUN\nYour keystore contains 1 entry\nAlias name: androiddebugkey\nCreation date: 24 Aug 2021\nEntry type: PrivateKeyEntry\nCertificate chain length: 1\nCertificate[1]:\nOwner: C=US, O=Android, CN=Android Debug\nIssuer: C=US, O=Android, CN=Android Debug\nSerial number: 1\nValid from: Tue Aug 24 14:21:42 CEST 2021 until: Thu Aug 17 14:21:42 CEST 2051\nCertificate fingerprints:\n         SHA1: 9C:2B:0E:AD:D2:12:ED:68:42:00:F5:41:4A:29:A8:10:FD:4F:94:62\n         SHA256: 35:21:3A:55:E0:8E:2F:98:34:B6:B1:0B:13:DD:2B:25:A7:E5:9E:39:85:8C:4E:C3:F1:82:CD:33:2E:91:57:4D\nSignature algorithm name: SHA1withRSA (weak)\nSubject Public Key Algorithm: 2048-bit RSA key\nVersion: 1\n</code></pre>"},{"location":"android/#project-view-by-default","title":"Project view by default","text":"<p><code>Help</code> \u2192 <code>Edit Custom Properties</code> \u2192 <code>studio.projectview=true</code></p>"},{"location":"android/#recursive-view-children-sequence","title":"Recursive View children sequence","text":"<pre><code>fun View.recursiveChildren(): Sequence&lt;View&gt; = sequence {\nyield(this@recursiveChildren)\nif (this@recursiveChildren !is ViewGroup) return@sequence\nchildren.forEach { yieldAll(it.recursiveChildren()) }\n}\n</code></pre>"},{"location":"android/#resource-identifier-for-match_parent-and-wrap_content","title":"Resource identifier for MATCH_PARENT and WRAP_CONTENT","text":"<pre><code>&lt;resources xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n&lt;!-- ViewGroup.LayoutParams.MATCH_PARENT --&gt;\n&lt;item name=\"match_parent\" type=\"dimen\" format=\"integer\" tools:ignore=\"ResourceName\"&gt;-1&lt;/item&gt;\n&lt;!-- ViewGroup.LayoutParams.WRAP_CONTENT --&gt;\n&lt;item name=\"wrap_content\" type=\"dimen\" format=\"integer\" tools:ignore=\"ResourceName\"&gt;-2&lt;/item&gt;\n&lt;/resources&gt;\n</code></pre>"},{"location":"android/#resources-abstraction","title":"Resources abstraction","text":"<code>BooleanResource.kt</code> <code>ColorResource.kt</code> <code>DrawableResource.kt</code> <code>TextResource.kt</code> <pre><code>import android.content.res.Resources\nimport androidx.annotation.BoolRes\n\nsealed class BooleanResource {\ncompanion object {\nfun from(boolean: Boolean): BooleanResource = BooleanValueResource(boolean)\nfun fromColorId(@BoolRes id: Int): BooleanResource = BooleanIdResource(id)\n}\n}\n\nprivate data class BooleanValueResource(val value: Boolean) : BooleanResource()\nprivate data class BooleanIdResource(@BoolRes val id: Int) : BooleanResource()\n\nfun BooleanResource.toBoolean(resources: Resources): Boolean = when (this) {\nis BooleanValueResource -&gt; value\nis BooleanIdResource -&gt; resources.getBoolean(id)\n}\n</code></pre> <pre><code>import android.content.res.ColorStateList\nimport android.content.res.Resources\nimport android.graphics.Color\nimport androidx.annotation.ColorInt\nimport androidx.annotation.ColorRes\nimport androidx.core.content.res.ResourcesCompat\n\nsealed class ColorResource {\ncompanion object {\nfun from(color: String): ColorResource = ColorStringResource(color)\nfun fromColorId(@ColorRes id: Int): ColorResource = ColorIdResource(id)\n}\n}\n\nprivate data class ColorStringResource(val value: String) : ColorResource()\nprivate data class ColorIdResource(@ColorRes val id: Int) : ColorResource()\n\n@ColorInt\nfun ColorResource.toColorInt(resources: Resources, theme: Resources.Theme? = null): Int = when (this) {\nis ColorStringResource -&gt; Color.parseColor(value)\nis ColorIdResource -&gt; ResourcesCompat.getColor(resources, id, theme)\n}\n\nfun ColorResource.toColorStateList(resources: Resources, theme: Resources.Theme? = null): ColorStateList? = when (this) {\nis ColorStringResource -&gt; ColorStateList.valueOf(toColorInt(resources))\nis ColorIdResource -&gt; ResourcesCompat.getColorStateList(resources, id, theme)\n}\n</code></pre> <pre><code>import android.content.res.Resources\nimport android.graphics.Bitmap\nimport android.graphics.drawable.Drawable\nimport androidx.annotation.DrawableRes\nimport androidx.core.content.res.ResourcesCompat\nimport androidx.core.graphics.drawable.toDrawable\n\nsealed class DrawableResource {\ncompanion object {\nfun from(drawable: Drawable): DrawableResource = DrawableValueResource(drawable)\nfun fromBitmap(bitmap: Bitmap): DrawableResource = DrawableBitmapResource(bitmap)\nfun fromDrawableId(@DrawableRes id: Int): DrawableResource = DrawableIdResource(id)\n}\n}\n\nprivate data class DrawableValueResource(val drawable: Drawable) : DrawableResource()\nprivate data class DrawableBitmapResource(val bitmap: Bitmap) : DrawableResource()\nprivate data class DrawableIdResource(@DrawableRes val id: Int) : DrawableResource()\n\nfun DrawableResource.toDrawable(resources: Resources, theme: Resources.Theme? = null): Drawable? = when (this) {\nis DrawableValueResource -&gt; drawable\nis DrawableBitmapResource -&gt; bitmap.toDrawable(resources)\nis DrawableIdResource -&gt; ResourcesCompat.getDrawable(resources, id, theme)\n}\n</code></pre> <pre><code>import android.content.res.Resources\nimport androidx.annotation.PluralsRes\nimport androidx.annotation.StringRes\nimport java.text.MessageFormat\n\nsealed class TextResource {\ncompanion object {\nfun none(): TextResource = NullTextResource\nfun fromString(text: CharSequence): TextResource = StringTextResource(text)\nfun fromStringId(@StringRes id: Int, vararg args: Any = emptyArray()): TextResource = StringIdTextResource(id, args.toList())\nfun fromPluralId(@PluralsRes id: Int, quantity: Int, vararg args: Any = emptyArray()): TextResource = PluralIdTextResource(id, quantity, args.toList())\nfun fromMessage(@StringRes id: Int, vararg args: Any = emptyArray()): TextResource = MessageIdTextResource(id, args.toList())\n}\n\n@Deprecated(\nmessage = \"Suspicious toString() usage, please use toString(resources) if you need to resolve the TextResource.\",\nreplaceWith = ReplaceWith(\"toString(resources)\"),\nlevel = DeprecationLevel.WARNING\n)\noverride fun toString(): String = super.toString()\n\n}\n\nprivate object NullTextResource : TextResource()\nprivate data class StringTextResource(val text: CharSequence) : TextResource()\nprivate data class StringIdTextResource(@StringRes val id: Int, val args: List&lt;Any&gt;) : TextResource()\nprivate data class PluralIdTextResource(@PluralsRes val id: Int, val quantity: Int, val args: List&lt;Any&gt;) : TextResource()\nprivate data class MessageIdTextResource(@StringRes val id: Int, val args: List&lt;Any&gt;) : TextResource()\n\nfun TextResource?.orNone(): TextResource = this ?: TextResource.none()\n\nfun TextResource.toText(resources: Resources): CharSequence? = when (this) {\nNullTextResource -&gt; null\nis StringTextResource -&gt; text\nis StringIdTextResource -&gt; if (args.isEmpty()) resources.getText(id) else toString(resources)\nis PluralIdTextResource -&gt; if (args.isEmpty()) resources.getQuantityText(id, quantity) else toString(resources)\nis MessageIdTextResource -&gt; if (args.isEmpty()) MessageFormat.format(resources.getString(id)) else toString(resources)\n}\n\nfun TextResource.toString(resources: Resources): String? = when (this) {\nNullTextResource -&gt; null\nis StringTextResource -&gt; text.toString()\nis StringIdTextResource -&gt; if (args.isEmpty()) resources.getString(id) else resources.getString(id, *args.mapTextResourceToString(resources))\nis PluralIdTextResource -&gt; if (args.isEmpty()) resources.getQuantityString(id, quantity) else resources.getQuantityString(id, quantity, *args.mapTextResourceToString(resources))\nis MessageIdTextResource -&gt; if (args.isEmpty()) MessageFormat.format(resources.getString(id)) else MessageFormat.format(resources.getString(id), *args.mapTextResourceToString(resources))\n}\n\nprivate fun &lt;E&gt; List&lt;E&gt;.mapTextResourceToString(resources: Resources) = map { if (it is TextResource) it.toString(resources) else it }.toTypedArray()\n</code></pre>"},{"location":"android/#run-command-as-a-specific-application-user-id","title":"Run command as a specific application user-id","text":"<pre><code>adb shell run-as &lt;package-name&gt; &lt;command&gt; [&lt;args&gt;]\n</code></pre>"},{"location":"android/#step-by-step-installation","title":"Step by step installation","text":"<pre><code># Installing OpenJDK\n# https://openjdk.org/install/\nsudo apt-get update\nsudo apt-get install openjdk-17-jdk\n\n# Installing Android Command Line Tools\n# https://developer.android.com/studio#command-line-tools-only\ncd ~\ncurl https://dl.google.com/android/repository/commandlinetools-linux-9477386_latest.zip -o /tmp/cmd-tools.zip\nmkdir -p android/cmdline-tools\nunzip -q -d android/cmdline-tools /tmp/cmd-tools.zip\nmv android/cmdline-tools/cmdline-tools android/cmdline-tools/latest\nrm /tmp/cmd-tools.zip\n\n# Setting up environment variables\nexport ANDROID_HOME=$HOME/android\nexport ANDROID_SDK_ROOT=${ANDROID_HOME}\nexport PATH=${ANDROID_HOME}/cmdline-tools/latest/bin:${ANDROID_HOME}/platform-tools:${ANDROID_HOME}/tools:${ANDROID_HOME}/tools/bin:${PATH}\n\n# Accepting SDK licenses\nyes | sdkmanager --licenses\n\n# Installing SDK components\nsdkmanager --update\nsdkmanager --list\nsdkmanager --list_installed\nsdkmanager --install \"platforms;android-33\"\n</code></pre>"},{"location":"android/#screencap","title":"screencap","text":"<pre><code>adb shell screencap -p \"/sdcard/screencap.png\" &amp;&amp; adb pull \"/sdcard/screencap.png\" \"$USER/Desktop/%time::=-%%random%.png\" &amp;&amp; adb shell rm \"/sdcard/screencap.png\"\n</code></pre> <pre><code>%comspec% /c adb shell screencap -p \"/sdcard/screencap.png\" &amp;&amp; adb pull \"/sdcard/screencap.png\" \"%UserProfile%\\Desktop\\%time::=-%%random%.png\" &amp;&amp; adb shell rm \"/sdcard/screencap.png\"\n</code></pre>"},{"location":"android/#scrcpy","title":"scrcpy","text":"<p>GitHub</p> <ul> <li> <p>record     <pre><code>scrcpy -m 1080 --show-touches --no-display --record \"$USER/Desktop/%time::=-%%random%.mp4\"\n</code></pre></p> <p><pre><code>%comspec% /c scrcpy -m 1080 --show-touches --no-display --record \"%UserProfile%\\Desktop\\%time::=-%%random%.mp4\"\n</code></pre> - mirror <pre><code>scrcpy -m 1080 --show-touches\n</code></pre></p> <pre><code>%comspec% /c scrcpy -m 1080 --show-touches\n</code></pre> </li> </ul>"},{"location":"android/#strict-modes","title":"Strict Modes","text":"<pre><code>StrictMode.ThreadPolicy.Builder()\n.detectAll()\n.penaltyFlashScreen()\n.penaltyLog()\n.build()\n.let(StrictMode::setThreadPolicy)\n\nStrictMode.VmPolicy.Builder()\n.detectAll()\n.penaltyLog()\n.build()\n.let(StrictMode::setVmPolicy)\n\nFragmentStrictMode.defaultPolicy = FragmentStrictMode.Policy.Builder()\n.detectFragmentReuse()\n.detectFragmentTagUsage()\n.detectRetainInstanceUsage()\n.detectTargetFragmentUsage()\n.detectWrongFragmentContainer()\n.detectSetUserVisibleHint()\n.penaltyLog().build()\n</code></pre>"},{"location":"android/#tools-sample-resources-as-json-files","title":"Tools sample resources as JSON files","text":"./sampledata/users.json<pre><code>{\n\"data\": [\n{\n\"name\": \"Mike Barrett\",\n\"address\": \"4898 Locust Rd\",\n\"avatar\": \"@sample/avatars\"\n},\n{\n\"name\": \"Kylie Long\",\n\"address\": \"2659 Taylor St\",\n\"avatar\": \"@sample/avatars\"\n}\n]\n}\n</code></pre> <pre><code>&lt;ImageView\nandroid:id=\"@+id/avatar\"\ntools:src=\"@sample/users.json/data/avatar\" /&gt;\n\n&lt;TextView\nandroid:id=\"@+id/name\"\ntools:text=\"@sample/users.json/data/name\" /&gt;\n\n&lt;TextView\nandroid:id=\"@+id/address\"\ntools:text=\"@sample/users.json/data/address\" /&gt;\n</code></pre> <p>\ud83d\udd17 <code>@tools:sample/*</code></p>"},{"location":"android/#ussd-and-secret-codes","title":"USSD and secret codes","text":"<p>These codes must be typed in the dialer app.</p> <ul> <li><code>*#06#</code>: IMEI</li> <li><code>*#*#4636#*#*</code>: Device info</li> <li><code>*#*#7780#*#*</code>: Factory reset \u267b\ufe0f</li> </ul> <p>I've created Secret Codes to help you find theses codes directly on your device.</p> <p>\ud83d\udd17</p>"},{"location":"android/#viewbinding-extension","title":"ViewBinding extension","text":"<pre><code>fun &lt;Binding : ViewBinding&gt; AppCompatActivity.setContentView(\ninflate: (LayoutInflater) -&gt; Binding\n): Binding = inflate(layoutInflater).also {\nsetContentView(it.root)\n}\n</code></pre> <pre><code>private lateinit var binding: MainViewBinding\n\noverride fun onCreate(savedInstanceState: Bundle?) {\nsuper.onCreate(savedInstanceState)\nbinding = setContentView(MainViewBinding::inflate)\n}\n</code></pre>"},{"location":"android/#viewbinding-one-liner","title":"ViewBinding one-liner","text":"<pre><code>private lateinit var binding: MainViewBinding\n\noverride fun onCreate(savedInstanceState: Bundle?) {\nsuper.onCreate(savedInstanceState)\nsetContentView(MainViewBinding.inflate(layoutInflater).also { binding = it }.root)\n}\n</code></pre>"},{"location":"android/#viewmodel-in-custom-view","title":"ViewModel in custom View","text":"<pre><code>class CustomView @JvmOverloads constructor(context: Context, attrs: AttributeSet? = null, defStyleAttr: Int = 0) : View(context, attrs, defStyleAttr) {\n\nprivate val viewModel by lazy { ViewModelProvider(findViewTreeViewModelStoreOwner()!!).get&lt;CustomViewModel&gt;() }\n\noverride fun onAttachedToWindow() {\nsuper.onAttachedToWindow()\nviewModel.state.observe(findViewTreeLifecycleOwner()!!) { TODO() }\n}\n\n}\n</code></pre>"},{"location":"android/#webview-safe-browsing","title":"WebView Safe Browsing","text":"<pre><code>&lt;manifest&gt;\n&lt;meta-data android:name=\"android.webkit.WebView.EnableSafeBrowsing\" android:value=\"true\" /&gt;\n&lt;!-- ... --&gt;\n&lt;/manifest&gt;\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"android/#workmanager-diagnostic","title":"WorkManager diagnostic","text":"<p>\ud83d\udd17 This provides information on:</p> <ul> <li>Work requests that were completed in the last 24 hours.</li> <li>Work requests that are currently running.</li> <li>Scheduled work requests.</li> </ul> <pre><code>adb shell am broadcast -a \"androidx.work.diagnostics.REQUEST_DIAGNOSTICS\" -p my.package.name\n</code></pre>"},{"location":"bash/","title":"\ud83d\udda5\ufe0f Bash","text":""},{"location":"bash/#command-options-and-positional-arguments","title":"Command options and positional arguments","text":"<p>Quote</p> <p>A double dash <code>--</code> is used in most Bash built-in commands and many other commands to signify the end of command options, after which only positional arguments are accepted. Example use: Let's say you want to grep a file for the string <code>-v</code>. Normally <code>-v</code> will be considered the option to reverse the matching meaning (only show lines that do not match), but with <code>--</code> you can grep for the string <code>-v</code> like this:</p> <pre><code>grep -- -v file\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"bash/#delete-empty-directories","title":"Delete empty directories","text":"<pre><code>find . -type d -empty -print -delete\n</code></pre>"},{"location":"bash/#dynamic-command-arguments","title":"Dynamic command arguments","text":"<pre><code>args=()\n[[ -n \"$INPUT\" ]] &amp;&amp; args+=( '--input' \"$INPUT\" )\nfoo \"${args[@]}\"\n</code></pre>"},{"location":"bash/#find-and-run-commands-in-parallel","title":"Find and run commands in parallel","text":"<pre><code>find . -type f -name \"*\" -print0 | xargs -0 --verbose --max-args=1 --max-procs=0 -I % echo \"%\"\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"bash/#heredoc","title":"Heredoc","text":"General syntax<pre><code>[cmd] &lt;&lt;[-] delimeter [cmd]\ncontent\ndelimeter\n</code></pre> <p>Notes</p> <ul> <li><code>&lt;&lt;-</code> instead of <code>&lt;&lt;</code> to ignore leading (tab-only) indentation</li> <li><code>|| true</code> to suppress the return code (1 by default)</li> <li><code>'EOF'</code> to disable command and variable expansion</li> <li><code>&gt;/dev/null</code> to not echo content to stdout</li> </ul> Multiline content to variable<pre><code>read -d '' my_var &lt;&lt; EOF || true\n\u2193\u2193\u2193\n$PWD\n\u2191\u2191\u2191\nEOF\n</code></pre> <pre><code>\u2193\u2193\u2193\n/home/user\n\u2191\u2191\u2191\n</code></pre> Multiline content without expansion to variable<pre><code>read -d '' my_var &lt;&lt; 'EOF' || true\n\u2193\u2193\u2193\n$PWD\n\u2191\u2191\u2191\nEOF\n</code></pre> <pre><code>\u2193\u2193\u2193\n$PWD\n\u2191\u2191\u2191\n</code></pre> Multiline content to file (overwrite)<pre><code>tee file &lt;&lt; EOF &gt;/dev/null || true\n\u2193\u2193\u2193\n$PWD\n\u2191\u2191\u2191\nEOF\n</code></pre> Multiline content to file (append)<pre><code>tee file.txt &lt;&lt; EOF &gt;/dev/null || true\n\u2193\u2193\u2193\n$PWD\n\u2191\u2191\u2191\nEOF\n</code></pre>"},{"location":"bash/#inline-comment-on-multiline-commands","title":"Inline comment on multiline commands","text":"<pre><code>cmd1 `# This is a comment` \\\ncmd2 # This is another comment\n</code></pre>"},{"location":"bash/#jvm-utilities","title":"JVM utilities","text":"<ul> <li>Heap info   <pre><code>jps -l `# list VMs` |\ngrep -E \"*\" `# optional filter` |\ncut -d \" \" -f1 `# extract pid` |\nxargs -t -n1 -I % jcmd % GC.heap_info\n</code></pre></li> <li>GC   <pre><code>jps -l `# list VMs` |\ngrep -E \"*\" `# optional filter` |\ncut -d \" \" -f1 `# extract pid` |\nxargs -t -n1 -I % jcmd % GC.run\n</code></pre></li> <li>Kill   <pre><code>jps -l `# list VMs` |\ngrep -E \"*\" `# optional filter` |\ncut -d \" \" -f1 `# extract pid` |\nxargs -t -n1 kill -9\n</code></pre></li> </ul>"},{"location":"bash/#merge-files-together","title":"Merge files together","text":"<pre><code>time {\necho \"\u2193\u2193\u2193\"\nfind . -type f -name \"*.txt\" -print0 | xargs -0 cat\n    echo \"\u2191\u2191\u2191\"\n} &gt; merged.log\n</code></pre>"},{"location":"bash/#multiline-commands-output-to-variable","title":"Multiline commands output to variable","text":"<pre><code>RESULT=$( \\\necho \"\u2193\u2193\u2193\" ;\\\necho \"Hello, $RANDOM!\" ;\\\necho \"\u2191\u2191\u2191\" ;\\\n)\n</code></pre> <p>And to capture <code>stderr</code> as well:</p> <pre><code>RESULT=$(( \\\necho \"\u2193\u2193\u2193\" ;\\\n&gt;&amp;2 echo \"Hello, $RANDOM!\" ;\\\necho \"\u2191\u2191\u2191\" ;\\\n) 2&gt;&amp;1 )\n</code></pre>"},{"location":"bash/#prefered-bash-shebang","title":"Prefered Bash shebang","text":"<pre><code>#!/usr/bin/env bash\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"bash/#prune-find-results","title":"Prune find results","text":"<pre><code>find . -path \"*/build\" -prune -o -name \"*.kt\" -print\n</code></pre>"},{"location":"bash/#remove-ansi-escape-sequences","title":"Remove ANSI escape sequences","text":"<pre><code>sed -e 's/\\x1b\\[[0-9;]*m//g'\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"bash/#safer-scripts","title":"Safer scripts","text":"<pre><code>#!/usr/bin/env bash\nset -euo pipefail\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"chrome/","title":"\ud83c\udf0d Chrome","text":""},{"location":"chrome/#chrome-urls","title":"Chrome URLs","text":"<ul> <li><code>chrome://chrome-urls</code> List of Chrome URLs</li> <li><code>chrome://whats-new</code> What\u2019s new in Chrome</li> <li><code>chrome://version</code></li> <li><code>chrome://settings</code></li> <li><code>chrome://settings/passwords</code></li> <li><code>chrome://system</code></li> <li><code>chrome://newtab</code></li> <li><code>chrome://dino</code></li> <li><code>chrome://inspect</code> DevTools to inspect devices, pages, extensions, etc.</li> <li><code>chrome://omnibox</code> Debug Omnibox results</li> <li><code>chrome://network-errors</code> List of network errors to test</li> <li><code>chrome://interstitials</code></li> <li><code>chrome://safe-browsing/match?type=billing</code></li> <li><code>chrome://safe-browsing/match?type=malware</code></li> <li><code>chrome://safe-browsing/match?type=phishing</code></li> <li><code>chrome://safe-browsing/match?type=unwanted</code></li> <li><code>chrome://flags</code></li> <li><code>chrome://history</code></li> <li><code>chrome://extensions</code></li> <li><code>chrome://downloads</code></li> <li><code>chrome://bookmarks</code></li> <li><code>chrome://apps</code></li> <li><code>chrome://hang</code></li> <li><code>chrome://shorthang</code></li> <li><code>chrome://crashes</code></li> <li><code>chrome://inducebrowsercrashforrealz</code></li> <li><code>chrome://badcastcrash</code></li> <li><code>chrome://crashdump</code></li> <li><code>chrome://gpucrash</code></li> <li><code>chrome://gpuhang</code></li> <li><code>chrome://memory-exhaust</code></li> <li><code>chrome://restart</code></li> <li><code>chrome://quit</code></li> <li><code>chrome://kill</code></li> </ul>"},{"location":"chrome/#overlay-scrollbar","title":"Overlay Scrollbar","text":"<pre><code>\"...\\chrome.exe\" --enable-features=OverlayScrollbar,OverlayScrollbarFlashAfterAnyScrollUpdate,OverlayScrollbarFlashWhenMouseEnter\n</code></pre>"},{"location":"css/","title":"\ud83c\udfa8 CSS","text":""},{"location":"css/#lobotomized-owl-selector","title":"Lobotomized Owl selector","text":"<pre><code>* + * { margin-top: 1.5rem;\n}\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"css/#viewport-relative-percentages","title":"Viewport relative percentages","text":"<pre><code>vw = 1% of the width of the viewport size\nvh = 1% of the height of the viewport size\nvi = 1% of the size of the viewport's inline axis\nvb = 1% of the size of the viewport's block axis\nvmin = the smaller of vw or vh\nvmax = the larger of vw or vh\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"css/#viewport-units","title":"Viewport units","text":"Small Viewport (<code>sv*</code>) <code>svh</code>, <code>svw</code>, <code>svmin</code>, <code>svmax</code>, <code>svi</code>, <code>svb</code> Large Viewport (<code>lv*</code>) <code>lvh</code>, <code>lvw</code>, <code>lvmin</code>, <code>lvmax</code>, <code>lvi</code>, <code>lvb</code> Dynamic Viewport (<code>dv*</code>) <code>dvh</code>, <code>dvw</code>, <code>dvmin</code>, <code>dvmax</code>, <code>dvi</code>, <code>dvb</code> UA-default Viewport (<code>v*</code>) <code>vh</code>, <code>vw</code>, <code>vmin</code>, <code>vmax</code>, <code>vi</code>, <code>vb</code> <p>\ud83d\udd17</p>"},{"location":"dagger/","title":"\ud83d\udde1\ufe0f Dagger","text":""},{"location":"dagger/#binding-extension-functions","title":"Binding extension functions","text":"<pre><code>@Module\nabstract class RepositoryModule {\n\n@Binds\nabstract fun RepositoryImpl.bind(): Repository\n\n@Binds\nabstract fun @receiver:MyQualifier RepositoryImpl.bind(): Repository\n\n}\n</code></pre> <pre><code>@Module\ninterface RepositoryModule {\n\n@get:Binds\nval RepositoryImpl.bind: Repository\n\n}\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"dagger/#coroutines-provider","title":"Coroutines provider","text":"<pre><code>@Qualifier\nannotation class Dispatcher(val type: Type) {\nenum class Type { Default, IO, Main, MainImmediate, Unconfined }\n}\n\n\n@Module @InstallIn(SingletonComponent::class)\nobject CoroutinesModule {\n\n@Provides @Dispatcher(Main)\nfun main(): CoroutineDispatcher = Dispatchers.Main\n\n@Provides @Dispatcher(MainImmediate)\nfun mainImmediate(): CoroutineDispatcher = Dispatchers.Main.immediate\n\n@Provides @Dispatcher(Default)\nfun default(): CoroutineDispatcher = Dispatchers.Default\n\n@Provides @Dispatcher(IO)\nfun io(): CoroutineDispatcher = Dispatchers.IO\n\n@Provides @Dispatcher(Unconfined)\nfun unconfined(): CoroutineDispatcher = Dispatchers.Unconfined\n\n@Provides\nfun provider(): CoroutineDispatcherProvider = object : CoroutineDispatcherProvider {}\n\n}\n\ninterface CoroutineDispatcherProvider {\nfun main(): CoroutineDispatcher = Main\nfun immediate(): CoroutineDispatcher = Main.immediate\nfun default(): CoroutineDispatcher = Default\nfun io(): CoroutineDispatcher = IO\nfun unconfined(): CoroutineDispatcher = Unconfined\n}\n\nfun CoroutineDispatcher.asDispatcherProvider() = object : DispatcherProvider {\noverride fun main(): CoroutineDispatcher = this@asDispatcherProvider\noverride fun mainImmediate(): CoroutineDispatcher = this@asDispatcherProvider\noverride fun default(): CoroutineDispatcher = this@asDispatcherProvider\noverride fun io(): CoroutineDispatcher = this@asDispatcherProvider\noverride fun unconfined(): CoroutineDispatcher = this@asDispatcherProvider\n}\n</code></pre>"},{"location":"dagger/#dagger-types-with-jvmsuppresswildcards","title":"Dagger types with JvmSuppressWildcards","text":"<pre><code>package dagger\n\ntypealias List&lt;T&gt; = @JvmSuppressWildcards kotlin.collections.List&lt;T&gt;\ntypealias Set&lt;T&gt; = @JvmSuppressWildcards kotlin.collections.Set&lt;T&gt;\ntypealias Map&lt;K, V&gt; = @JvmSuppressWildcards kotlin.collections.Map&lt;K, V&gt;\n</code></pre>"},{"location":"dagger/#extensions-for-lazy-provider","title":"Extensions for Lazy &amp; Provider","text":"<pre><code>package dagger\n\nimport kotlin.reflect.KProperty\n\noperator fun &lt;T&gt; Provider&lt;T&gt;.getValue(thisRef: Any?, property: KProperty&lt;*&gt;): T = get()\noperator fun &lt;T&gt; Lazy&lt;T&gt;.getValue(thisRef: Any?, property: KProperty&lt;*&gt;): T = get()\n\nclass Repository @Inject constructor(\napi: dagger.Lazy&lt;Api&gt;,\n) {\nprivate val api by api\n}\n</code></pre>"},{"location":"dagger/#private-dependencies","title":"Private dependencies","text":"<pre><code>@Qualifier private annotation class InternalApi\n\n@Module\nobject NetworkModule {\n\n@Provides @InternalApi fun provideClient(): OkHttpClient = ...\n\n@Provides\nfun provideRetrofit(@InternalApi client: Lazy&lt;OkHttpClient&gt;): Retrofit = ...\n\n}\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"firebase/","title":"\ud83d\udd25 Firebase","text":""},{"location":"firebase/#firebase-local-hosting","title":"Firebase local hosting","text":"Quote <p>Firebase Hosting reserves URLs in your site beginning with <code>/__</code>. This reserved namespace makes it easier to use other Firebase products together with Firebase Hosting. These reserved URLs are available both when you deploy to Firebase (<code>firebase deploy</code>) or when you run your app on a local server (<code>firebase serve</code>).</p> <pre><code>&lt;!-- Insert these scripts at the bottom of the HTML, but before you use any Firebase services --&gt;\n&lt;!-- Firebase App (the core Firebase SDK) is always required and must be listed first --&gt;\n&lt;script src=\"/__/firebase/x.y.z/firebase-app.js\"&gt;&lt;/script&gt;\n\n&lt;!-- Add Firebase products that you want to use --&gt;\n&lt;script src=\"/__/firebase/x.y.z/firebase-auth.js\"&gt;&lt;/script&gt;\n&lt;script src=\"/__/firebase/x.y.z/firebase-firestore.js\"&gt;&lt;/script&gt;\n\n&lt;!-- Load the Firebase SDKs before loading this file --&gt;\n&lt;script src=\"/__/firebase/init.js\"&gt;&lt;/script&gt;\n</code></pre> <p>\ud83d\udd17 \ud83d\udd17</p>"},{"location":"firebase/#backup-restore","title":"Backup &amp; Restore","text":"<ul> <li> Backup     <pre><code>gsutil -m cp -R gs://xyz.appspot.com .\nfirebase database:get / --pretty &gt; xyz.json\n</code></pre></li> <li> Restore     <pre><code>gsutil -m cp -R . gs://xyz.appspot.com\nfirebase database:set / xyz.json\n</code></pre></li> </ul>"},{"location":"gerrit/","title":"\ud83c\udfe2 Gerrit","text":""},{"location":"gerrit/#customized-dashboard","title":"Customized dashboard","text":"<pre><code>/dashboard/?title=\ud83d\udc68%E2%80%8D\ud83d\udcbbMy+Dashboard&amp;\ud83d\udd14=status:open+(ownerin:my-group+OR+project:my-project)+hashtag:prio&amp;\ud83d\udcc4=has:draft&amp;\ud83e\uddea=is:open+owner:self+is:wip&amp;\ud83d\udce7=is:open+-is:ignored+cc:self&amp;\ud83d\udce4=is:open+owner:self+-is:wip+-is:ignored&amp;\ud83d\udce5=is:open+(ownerin:my-group+OR+project:my-project)+-owner:self+-is:wip+-is:ignored+-label:Code-Review=2+(reviewer:self+OR+assignee:self)+limit:50\n</code></pre>"},{"location":"gerrit/#gmail-filters","title":"Gmail filters","text":"<pre><code>from:(review@domain.tld) -{(\"Gerrit-Owner: Simon MARQUIS\" \"Gerrit-HasComments: Yes\") \"Gerrit-Comment-In-Reply-To: Simon MARQUIS\" (\"Gerrit-MessageType: setassignee\" \"Gerrit-Assignee: Simon MARQUIS\")}\n</code></pre>"},{"location":"git/","title":"\ud83d\udcbd Git","text":"Personal Git config files <code>~/.gitconfig</code> <code>~/.gitignore_global</code> <code>~/.gitattributes</code> <code>~/setup-code-review.sh</code> <pre><code>[user]\nname = Simon Marquis\n    email = contact@simon-marquis.fr\n\n[branch]\nautosetuprebase = always\n\n[alias]\naliases = !git config --global -l | grep alias | sort;\nauthors = !git log --pretty=format:%aN | sort | uniq -c | sort -rn\n    branches = branch -a\n    changelog = \"!f() { git log --topo-order --pretty=format:\\\"%h ~ %s\\\" \\\"$1..${2:-HEAD}\\\" --no-merges; }; f\"\nlast = log -1 --stat\n    lg = log --all --graph --pretty=format:\"%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %Cblue&lt;%an&gt;%Creset\" --abbrev-commit --date=relative\n    open = \"!f() {\\n local type=\\\"${1:-branch}\\\"\\n local target=\\\"${2:-HEAD}\\\"\\n local current_upstream=\\\"$(git for-each-ref --format=\\\"%(upstream:remotename)\\\" \\\"$(git symbolic-ref -q \\\"$target\\\")\\\")\\\"\\n local first_remote=\\\"$(git remote show | head -n 1)\\\"\\n local remote=${current_upstream:-$first_remote}\\n remote=${upstream:-origin}\\n\\n if [ \\\"$type\\\" = \\\"branch\\\" ] || [ \\\"$type\\\" = \\\"pr\\\" ]; then\\n # get full name (i.e. refs/heads/*; refs/remotes/*/*); src: https://stackoverflow.com/a/9753364\\n target=\\\"$(git rev-parse --symbolic-full-name \\\"$target\\\")\\\"\\n\\n if [ \\\"$target\\\" != \\\"${target#\\\"refs/remotes/\\\"}\\\" ]; then\\n # extract from remote branch reference\\n target=\\\"${target#\\\"refs/remotes/\\\"}\\\"\\n else\\n # extract from local branch reference; src: https://stackoverflow.com/a/9753364\\n target=\\\"$(git for-each-ref --format=\\\"%(upstream:short)\\\" \\\"$target\\\")\\\"\\n fi\\n # split remote/branch\\n remote=\\\"${target%%/*}\\\"\\n target=\\\"${target#\\\"$remote/\\\"}\\\"\\n\\n if [ -z \\\"$remote\\\" ]; then\\n echo \\\"Branch ($2) does not point to a remote repository.\\\" &gt;&amp;2\\n return 2\\n fi\\n fi\\n\\n local repo_url=\\\"$(git remote get-url \\\"$remote\\\" | sed -E -e \\\"s/(\\\\.(com|org|io))\\\\:/\\\\1\\\\//\\\" -e \\\"s/git@/https:\\\\/\\\\//\\\" -e \\\"s/\\\\.git$//\\\")\\\"\\n if [ -z \\\"$repo_url\\\" ]; then\\n echo \\\"Cannot open: no remote repository configured under ($remote)\\\" &gt;&amp;2\\n return 1\\n fi\\n\\n case \\\"$(echo \\\"$repo_url\\\" | tr \\\"[:upper:]\\\" \\\"[:lower:]\\\")\\\" in\\n *github*)\\n case \\\"$type\\\" in\\n \\\"repo\\\") ;;\\n \\\"commit\\\") repo_url=\\\"$repo_url/commit/$(git rev-parse \\\"$target\\\")\\\" ;;\\n \\\"pr\\\")  repo_url=\\\"$repo_url/compare/$target?quick_pull=1\\\" ;;\\n \\\"tag\\\") repo_url=\\\"$repo_url/releases/tag/$target\\\" ;;\\n \\\"branch\\\") repo_url=\\\"$repo_url/tree/$target\\\" ;;\\n *) echo \\\"Unsupported action: $type\\\" &gt;&amp;2 ; return 1 ;;\\n esac\\n ;;\\n *bitbucket*)\\n case \\\"$type\\\" in\\n \\\"repo\\\") ;;\\n \\\"commit\\\") repo_url=\\\"$repo_url/commits/$(git rev-parse \\\"$target\\\")\\\" ;;\\n \\\"pr\\\")  repo_url=\\\"$repo_url/pull-requests/new?source=$target\\\" ;;\\n \\\"tag\\\") repo_url=\\\"$repo_url/src/$target\\\" ;;\\n \\\"branch\\\") repo_url=\\\"$repo_url/src/$target\\\" ;;\\n *) echo \\\"Unsupported action: $type\\\" &gt;&amp;2 ; return 1 ;;\\n esac\\n ;;\\n *gitlab*)\\n case \\\"$type\\\" in\\n \\\"repo\\\") ;;\\n \\\"commit\\\") repo_url=\\\"$repo_url/-/commit/$(git rev-parse \\\"$target\\\")\\\" ;;\\n \\\"pr\\\")  repo_url=\\\"$repo_url/-/merge_requests/new?merge_request[source_branch]=$target\\\" ;;\\n \\\"tag\\\") repo_url=\\\"$repo_url/-/tags/$target\\\" ;;\\n \\\"branch\\\") repo_url=\\\"$repo_url/-/tree/$target\\\" ;;\\n *) echo \\\"Unsupported action: $type\\\" &gt;&amp;2 ; return 1 ;;\\n esac\\n ;;\\n *azure*)\\n case \\\"$type\\\" in\\n \\\"repo\\\") ;;\\n \\\"commit\\\") repo_url=\\\"$repo_url/commit/$(git rev-parse \\\"$target\\\")\\\" ;;\\n \\\"pr\\\")  repo_url=\\\"$repo_url/pullrequestcreate?sourceRef=$target\\\" ;;\\n \\\"tag\\\") repo_url=\\\"$repo_url?version=GT$target\\\" ;;\\n \\\"branch\\\") repo_url=\\\"$repo_url?version=GB$target\\\" ;;\\n *) echo \\\"Unsupported action: $type\\\" &gt;&amp;2 ; return 1 ;;\\n esac\\n ;;\\n *review*|*gerrit*)\\n local gerrit_repo_url=$(git config gerrit.web-ui-url)\\n if [ -z \\\"$gerrit_repo_url\\\" ]; then\\n echo \\\"Unknown Gerrit URL: git config gerrit.web-ui-url &lt;url&gt;\\\" &gt;&amp;2\\n return 1\\n fi\\n case \\\"$type\\\" in\\n \\\"repo\\\") repo_url=\\\"$gerrit_repo_url\\\" ;;\\n \\\"commit\\\") repo_url=\\\"$gerrit_repo_url/q/commit:$(git rev-parse \\\"$target\\\")\\\" ;;\\n \\\"tag\\\") repo_url=\\\"$gerrit_repo_url/q/tag:$target\\\" ;;\\n \\\"branch\\\") repo_url=\\\"$gerrit_repo_url/q/branch:$target\\\" ;;\\n \\\"search\\\") repo_url=\\\"$gerrit_repo_url/q/$target\\\" ;;\\n *) echo \\\"Unsupported action: $type\\\" &gt;&amp;2 ; return 1 ;;\\n esac\\n ;;\\n *) echo \\\"Unsupported repository type: $repo_url\\\" &gt;&amp;2 ; return 1 ;;\\n esac\\n\\n case \\\"$(uname -sr)\\\" in\\n Darwin*) open \\\"$repo_url\\\" ;; # macOS\\n Linux*Microsoft*) explorer.exe \\\"$repo_url\\\" ;; # WSL\\n Linux*) xdg-open \\\"$repo_url\\\" ;; # Linux\\n CYGWIN*|MINGW*|MINGW32*|MSYS*) powershell start $repo_url ;; # Windows\\n *) echo \\\"Unsupported OS $(uname -sr)\\\" &gt;&amp;2 ; return 1 ;;\\n esac\\n\\n}; f\"\nremotes = remote -v\n    start = !git init &amp;&amp; git commit --allow-empty -m 'Initial commit'\ntags = tag -n\n    this = !git init &amp;&amp; git add --all &amp;&amp; git commit -m 'Initial commit'\n# git rebase --onto &lt;what-branch&gt; &lt;from-exclusive&gt;@{1} &lt;up-to-inclusive&gt;\nrebase-onto = \"!f() { git rebase --onto \\\"$1\\\" \\\"$1@{1}\\\" \\\"$2\\\"; }; f\"\nundo = reset --soft HEAD^\n    unstage = reset HEAD --\n    whoami = !git config --global user.name &amp;&amp; git config --global user.email\n\n[commit]\ntemplate = ~/.gitmessage\n\n[core]\nattributesFile = ~/.gitattributes\n    excludesfile = ~/.gitignore_global\n\n[diff]\nalgorithm = patience\n    renameLimit = 999999\n\n[diff \"json.gz\"]\nbinary = true\ntextconv = \"!f(){ gzcat --suffix .gz \\\"$1\\\" | jq; }; f\"\n\n[filter \"lfs\"]\nrequired = true\nclean = git-lfs clean -- %f\n    smudge = git-lfs smudge -- %f\n    process = git-lfs filter-process\n\n[fetch]\nprune = true\n\n[gitreview]\nnotopic = true\n\n[init]\ndefaultBranch = main\n\n[merge]\nff = false\nautoStash = true\nrenameLimit = 999999\n\n[pull]\nrebase = true\n\n[push]\ndefault = current\n\n[rebase]\nautoSquash = true\nautoStash = true\n\n[rerere]\nenabled = true\n</code></pre> <pre><code>### Java / Kotlin ###\n# Compiled class file\n*.class\n\n# Log file\n*.log\n\n# BlueJ files\n*.ctxt\n\n# Mobile Tools for Java (J2ME)\n.mtj.tmp/\n\n# virtual machine crash logs\nhs_err_pid*\nreplay_pid*\n\n### Linux ###\n*~\n\n# temporary files which can be created if a process still has a handle open of a deleted file\n.fuse_hidden*\n\n# KDE directory preferences\n.directory\n\n# Linux trash folder which might appear on any partition or disk\n.Trash-*\n\n# .nfs files are created when an open file is removed but is still being accessed\n.nfs*\n\n### macOS ###\n# General\n.DS_Store\n.AppleDouble\n.LSOverride\n\n# Icon must end with two \\r\nIcon\n\n\n# Thumbnails\n._*\n\n# Files that might appear in the root of a volume\n.DocumentRevisions-V100\n.fseventsd\n.Spotlight-V100\n.TemporaryItems\n.Trashes\n.VolumeIcon.icns\n.com.apple.timemachine.donotpresent\n\n# Directories potentially created on remote AFP share\n.AppleDB\n.AppleDesktop\nNetwork Trash Folder\nTemporary Items\n.apdisk\n\n### macOS Patch ###\n# iCloud generated files\n*.icloud\n\n### Windows ###\n# Windows thumbnail cache files\nThumbs.db\nThumbs.db:encryptable\nehthumbs.db\nehthumbs_vista.db\n\n# Dump file\n*.stackdump\n\n# Folder config file\n[Dd]esktop.ini\n\n# Recycle Bin used on file shares\n$RECYCLE.BIN/\n\n# Windows Installer files\n*.cab\n*.msi\n*.msix\n*.msm\n*.msp\n\n# Windows shortcuts\n*.lnk\n</code></pre> <pre><code>* text=auto\n\n*.bat text eol=crlf\n\n*.jar binary\n*.png binary\n*.gif binary\n*.jpg binary\n*.jpeg binary\n\n*.json.gz diff=json.gz\n</code></pre> <pre><code>#!/usr/bin/env bash\n\ngit config --global alias.open '!f() {\n    local type=\"${1:-branch}\"\n    local target=\"${2:-HEAD}\"\n    local current_upstream=\"$(git for-each-ref --format=\"%(upstream:remotename)\" \"$(git symbolic-ref -q \"$target\")\")\"\n    local first_remote=\"$(git remote show | head -n 1)\"\n    local remote=${current_upstream:-$first_remote}\n    remote=${upstream:-origin}\n\n    if [ \"$type\" = \"branch\" ] || [ \"$type\" = \"pr\" ]; then\n        # get full name (i.e. refs/heads/*; refs/remotes/*/*); src: https://stackoverflow.com/a/9753364\n        target=\"$(git rev-parse --symbolic-full-name \"$target\")\"\n\n        if [ \"$target\" != \"${target#\"refs/remotes/\"}\" ]; then\n            # extract from remote branch reference\n            target=\"${target#\"refs/remotes/\"}\"\n        else\n            # extract from local branch reference; src: https://stackoverflow.com/a/9753364\n            target=\"$(git for-each-ref --format=\"%(upstream:short)\" \"$target\")\"\n        fi\n        # split remote/branch\n        remote=\"${target%%/*}\"\n        target=\"${target#\"$remote/\"}\"\n\n        if [ -z \"$remote\" ]; then\n            echo \"Branch ($2) does not point to a remote repository.\" &gt;&amp;2\n            return 2\n        fi\n    fi\n\n    local repo_url=\"$(git remote get-url \"$remote\" | sed -E -e \"s/(\\.(com|org|io))\\:/\\1\\//\" -e \"s/git@/https:\\/\\//\" -e \"s/\\.git$//\")\"\n    if [ -z \"$repo_url\" ]; then\n        echo \"Cannot open: no remote repository configured under ($remote)\" &gt;&amp;2\n        return 1\n    fi\n\n    case \"$(echo \"$repo_url\" | tr \"[:upper:]\" \"[:lower:]\")\" in\n        *github*)\n            case \"$type\" in\n                \"repo\") ;;\n                \"commit\") repo_url=\"$repo_url/commit/$(git rev-parse \"$target\")\" ;;\n                \"pr\")     repo_url=\"$repo_url/compare/$target?quick_pull=1\" ;;\n                \"tag\")    repo_url=\"$repo_url/releases/tag/$target\" ;;\n                \"branch\") repo_url=\"$repo_url/tree/$target\" ;;\n                *) echo \"Unsupported action: $type\" &gt;&amp;2 ; return 1 ;;\n            esac\n            ;;\n        *bitbucket*)\n            case \"$type\" in\n                \"repo\") ;;\n                \"commit\") repo_url=\"$repo_url/commits/$(git rev-parse \"$target\")\" ;;\n                \"pr\")     repo_url=\"$repo_url/pull-requests/new?source=$target\" ;;\n                \"tag\")    repo_url=\"$repo_url/src/$target\" ;;\n                \"branch\") repo_url=\"$repo_url/src/$target\" ;;\n                *) echo \"Unsupported action: $type\" &gt;&amp;2 ; return 1 ;;\n            esac\n            ;;\n        *gitlab*)\n            case \"$type\" in\n                \"repo\") ;;\n                \"commit\") repo_url=\"$repo_url/-/commit/$(git rev-parse \"$target\")\" ;;\n                \"pr\")     repo_url=\"$repo_url/-/merge_requests/new?merge_request[source_branch]=$target\" ;;\n                \"tag\")    repo_url=\"$repo_url/-/tags/$target\" ;;\n                \"branch\") repo_url=\"$repo_url/-/tree/$target\" ;;\n                *) echo \"Unsupported action: $type\" &gt;&amp;2 ; return 1 ;;\n            esac\n            ;;\n        *azure*)\n            case \"$type\" in\n                \"repo\") ;;\n                \"commit\") repo_url=\"$repo_url/commit/$(git rev-parse \"$target\")\" ;;\n                \"pr\")     repo_url=\"$repo_url/pullrequestcreate?sourceRef=$target\" ;;\n                \"tag\")    repo_url=\"$repo_url?version=GT$target\" ;;\n                \"branch\") repo_url=\"$repo_url?version=GB$target\" ;;\n                *) echo \"Unsupported action: $type\" &gt;&amp;2 ; return 1 ;;\n            esac\n            ;;\n        *review*|*gerrit*)\n            local gerrit_repo_url=$(git config gerrit.web-ui-url)\n            if [ -z \"$gerrit_repo_url\" ]; then\n                echo \"Unknown Gerrit URL: git config gerrit.web-ui-url &lt;url&gt;\" &gt;&amp;2\n                return 1\n            fi\n            case \"$type\" in\n                \"repo\")   repo_url=\"$gerrit_repo_url\" ;;\n                \"commit\") repo_url=\"$gerrit_repo_url/q/commit:$(git rev-parse \"$target\")\" ;;\n                \"tag\")    repo_url=\"$gerrit_repo_url/q/tag:$target\" ;;\n                \"branch\") repo_url=\"$gerrit_repo_url/q/branch:$target\" ;;\n                \"search\") repo_url=\"$gerrit_repo_url/q/$target\" ;;\n                *) echo \"Unsupported action: $type\" &gt;&amp;2 ; return 1 ;;\n            esac\n            ;;\n        *) echo \"Unsupported repository type: $repo_url\" &gt;&amp;2 ; return 1 ;;\n    esac\n\n    case \"$(uname -sr)\" in\n        Darwin*)                       open \"$repo_url\" ;;           # macOS\n        Linux*Microsoft*)              explorer.exe \"$repo_url\" ;;   # WSL\n        Linux*)                        xdg-open \"$repo_url\" ;;       # Linux\n        CYGWIN*|MINGW*|MINGW32*|MSYS*) powershell start $repo_url ;; # Windows\n        *) echo \"Unsupported OS $(uname -sr)\" &gt;&amp;2 ; return 1 ;;\n    esac\n\n}; f'\n</code></pre>"},{"location":"git/#alias-to-function","title":"Alias to function","text":"~/.gitconfig<pre><code>[alias]\nhello = \"!f() { echo \\\"Hello, ${1:-World}!\\\" ; }; f\"\n</code></pre>"},{"location":"git/#authors-with-commit-count","title":"Authors with commit count","text":"~/.gitconfig<pre><code>[alias]\nauthors = !git log --pretty=format:%aN | sort | uniq -c | sort -rn\n</code></pre>"},{"location":"git/#change-author-without-changing-dates","title":"Change author without changing dates","text":"<pre><code>git -c rebase.instructionFormat='%s%nexec GIT_COMMITTER_DATE=\"%cD\" git commit --amend --author=&lt;author&gt; --no-edit' rebase -i &lt;refspec&gt;\n</code></pre>"},{"location":"git/#check-if-something-can-be-pushed","title":"Check if something can be pushed","text":"<pre><code>git log &lt;sha1&gt;..HEAD [--oneline] --exit-code # 1:yes, 0:no\n</code></pre>"},{"location":"git/#check-if-something-has-changed","title":"Check if something has changed","text":"<pre><code>git diff [--cached] [--stat] [--quiet] --exit-code -- [&lt;pathspec&gt;\u2026] # 1:yes, 0:no\n</code></pre> <p>or</p> <pre><code>git diff-index [--cached] [--stat] [--quiet] --exit-code HEAD # 1:yes, 0:no\n</code></pre>"},{"location":"git/#commit-with-message-from-standard-input","title":"Commit with message from standard input","text":"<pre><code>( \\\necho -e \"Hello, World!\" ; \\\nany-command-that-will-produce-text-output ; \\\n) | git commit --file -\n</code></pre>"},{"location":"git/#default-commit-message","title":"Default commit message","text":"<pre><code>git config --global commit.template ~/.gitmessage\n</code></pre>"},{"location":"git/#diffing-gzip-ed-json-files","title":"Diffing Gzip-ed JSON files","text":"~/.gitattributes<pre><code>*.json.gz diff=json.gz\n</code></pre> ~/.gitconfig<pre><code>[core]\nattributesFile = ~/.gitattributes\n[diff \"json.gz\"]\nbinary = true\ntextconv = \"f() { uncompress -c \\\"$1\\\" | jq ; }; f\"\n# OR # textconv = sh -c 'uncompress -c \"$0\" | jq'\n# OR with: zcat, gzcat, etc.\n</code></pre> <ul> <li> <p>Before   <pre><code>diff --git a/example.json.gz b/example.json.gz\nindex 4ecec5e..ae04c42 100644\nBinary files a/example.json.gz and b/example.json.gz differ\n</code></pre></p> </li> <li> <p>After   <pre><code>diff --git a/example.json.gz b/example.json.gz\nindex 4ecec5e..ae04c42 100644\n--- a/example.json.gz\n+++ b/example.json.gz\n@@ -1,3 +1,3 @@\n{\n-  \"key\": true\n+  \"key\": false\n}\n</code></pre></p> </li> </ul> <p>\ud83d\udd17</p>"},{"location":"git/#diffing-with-patience","title":"Diffing with patience","text":"~/.gitconfig<pre><code>[diff]\n# git config --global diff.algorithm patience\nalgorithm = patience\n</code></pre>"},{"location":"git/#executable-file-permission-on-windows","title":"Executable file permission on Windows","text":"<pre><code>git add --chmod=+x -- &lt;file&gt;\n</code></pre> <p>or</p> <pre><code>git update-index --chmod=+x &lt;file&gt;\n</code></pre>"},{"location":"git/#ignoring-commits-in-the-blame-view","title":"Ignoring commits in the blame view","text":".git-blame-ignore-revs<pre><code># Reformat code\n44e8ca9a329dbb7a673b55cd25fbe982f10572fa\n# Add newline at end of files\n2f5f618ff431f87687e7446f0980849a88d01d9a\n</code></pre> <ul> <li>Manually     <pre><code>git blame --ignore-revs-file .git-blame-ignore-revs &lt;file&gt;\n</code></pre></li> <li>Automatically     <pre><code># Ignore revisions listed in the file, one unabbreviated object name per line.\ngit config --global blame.ignoreRevsFile .git-blame-ignore-revs\n# Mark any lines that have had a commit skipped using --ignore-rev with a `?`\ngit config --global blame.markIgnoredLines true\n# Mark any lines that were added in a skipped commit and can not be attributed with a `*`\ngit config --global blame.markUnblamableLines true\n</code></pre></li> </ul> <p>\ud83d\udd17</p>"},{"location":"git/#list-objects-by-size","title":"List objects by size","text":"<pre><code>git rev-list --objects --all |\ngit cat-file --batch-check='%(objecttype) %(objectname) %(objectsize) %(rest)' |\nsed -n 's/^blob //p' |\nsort --numeric-sort --key=2 |\ncut -c 1-12,41- |\n$(command -v gnumfmt || echo numfmt) --field=2 --to=iec-i --suffix=B --padding=7 --round=nearest\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"git/#most-changed-files","title":"Most changed files","text":"<ul> <li> <p>Paths   <pre><code>git rev-list --objects --all | awk '$2' | sort -k2 | uniq -cf1 | sort -rn | head\n</code></pre></p> </li> <li> <p>Blobs   <pre><code>git rev-list --objects --all | awk '$2' | sort -k2 | uniq -cf1 | sort -rn |\nwhile read frequency sample file\n    do [[ \"blob\" == \"$(git cat-file -t $sample)\" ]] &amp;&amp; echo -e \"$frequency\\t$file\";\ndone | head\n</code></pre></p> </li> </ul> <p>\ud83d\udd17</p>"},{"location":"git/#most-insertions-and-deletions","title":"Most insertions and deletions","text":"<pre><code>git log --format=format:\"%h %s\" --shortstat \\\n| perl -00 -ne '\n      my ($hash, $subject, $files, $insertions, $deletions) = $_ =~ /(?:[0-9a-f]+\\n)*([0-9a-f]+)(?: ?(.*))\\n(?: (\\d+) files? changed,)?(?: (\\d+) insertions?...,?)?(?: (\\d+) deletions?...)?/g;\n      printf \"%s\\t%d\\t+%d\\t-%d\\t%s\\n\", $hash, $insertions + $deletions, $insertions, $deletions, $subject;\n    ' \\\n| sort -k 2 -nr \\\n| head\n</code></pre>"},{"location":"git/#override-urls-or-protocols","title":"Override URLs or protocols","text":"<pre><code>git config --global url.\"https://github\".insteadOf \"git://github\"\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"git/#print-changes-between-two-refs","title":"Print changes between two refs","text":"<pre><code>git log --topo-order --pretty=format:\"%h ~ %s\" \"$1..${2:-HEAD}\" --no-merges\n</code></pre>"},{"location":"git/#rebase-dependent-branch","title":"Rebase dependent branch","text":"<pre><code># git rebase --onto &lt;what-branch&gt; &lt;from-exclusive&gt;@{1} &lt;up-to-inclusive&gt;\ngit rebase --onto featureA featureA@{1} featureB\n</code></pre>"},{"location":"git/#recursive-gc","title":"Recursive gc","text":"<pre><code>find . -name '*.git' -execdir sh -c 'cd {} &amp;&amp; git gc' \\;\n</code></pre>"},{"location":"git/#renormalize-line-endings","title":"Renormalize line endings","text":"<pre><code>git add --renormalize .\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"git/#signing-commits-with-gpg","title":"Signing commits with GPG","text":"<p>\ud83d\udd17 \ud83d\udd17</p>"},{"location":"github/","title":"\ud83d\udc19 GitHub","text":""},{"location":"github/#cancel-workflows-with-the-same-reference","title":"Cancel workflows with the same reference","text":"<pre><code>concurrency:\ngroup: ${{ github.head_ref }}\ncancel-in-progress: true\n</code></pre>"},{"location":"github/#clone-github-gists","title":"Clone GitHub gists","text":"<pre><code>git clone https://gist.github.com/YOUR_REPOSITORY.git\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"github/#clone-github-wikis","title":"Clone GitHub wikis","text":"<pre><code>git clone https://github.com/YOUR_USERNAME/YOUR_REPOSITORY.wiki.git\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"github/#comment-on-new-issues-and-prs-with-gh-cli","title":"Comment on new issues and PRs with gh CLI","text":".github/workflows/comment-new-issue-and-pr.yaml<pre><code>name: '\ud83d\udcac Comment on new issue and PRs'\n\non:\nissues:\ntypes: [opened]\npull_request:\ntypes: [opened]\n\nenv:\nGITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n\njobs:\ncomment:\nruns-on: ubuntu-latest\nsteps:\n- uses: actions/checkout@v3\n\n- if: github.event_name == 'issues'\nrun: gh issue comment $ISSUE_NUMBER --body \"Thank you for opening this issue!\"\nenv:\nISSUE_NUMBER: ${{ github.event.issue.number }}\n\n- if: github.event_name == 'pull_request'\nrun: gh issue comment $PR_NUMBER --body \"Thank you for opening this pull request!\"\nenv:\nPR_NUMBER: ${{ github.event.pull_request.number }}\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"github/#commit-from-workflow","title":"Commit from workflow","text":"<pre><code>jobs:\ncommit:\nruns-on: ubuntu-latest\nsteps:\n- uses: actions/checkout@v3\n- run: |\ngit config --global user.name \"Simon Marquis\"\ngit config --global user.email \"SimonMarquis@users.noreply.github.com\"\ngit commit -m \"Hello, World!\" --allow-empty\ngit push\n</code></pre>"},{"location":"github/#embedded-gists","title":"Embedded Gists","text":"<pre><code>&lt;script src=\"https://gist.github.com/&lt;user&gt;/&lt;id&gt;.js\"&gt;&lt;/script&gt;\n</code></pre> <p>or a specific file:</p> <pre><code>&lt;script src=\"https://gist.github.com/&lt;user&gt;/&lt;id&gt;.js?file=&lt;filename&gt;\"&gt;&lt;/script&gt;\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"github/#environment-variables","title":"Environment variables","text":"<pre><code>name: Greeting on variable day\non: workflow_dispatch\nenv:\nDAY_OF_WEEK: Monday\njobs:\ngreeting_job:\nruns-on: ubuntu-latest\nenv:\nGreeting: Hello\nsteps:\n- run: echo \"$Greeting $First_Name. Today is $DAY_OF_WEEK!\"\nenv:\nFirst_Name: Mona\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"github/#executing-step-regardless-of-status","title":"Executing step regardless of status","text":"<p>Quote</p> <p>Note: Avoid using <code>always()</code> for any task that could suffer from a critical failure, for example: getting sources, otherwise the workflow may hang until it times out. If you want to run a job or step regardless of its success or failure, use the recommended alternative: <code>success() || failure()</code>. \ud83d\udd17</p> <pre><code>steps:\n- run: ...\n\n- name: \ud83d\udc4e\nif: ${{ always() }}\nrun: ...\n\n- name: \ud83d\udc4d\nif: ${{ success() || failure() }}\nrun: ...\n</code></pre>"},{"location":"github/#fork-detection-on-pr","title":"Fork detection on PR","text":"<pre><code>on: pull_request\njobs:\nnon-fork:\nif: ${{ !github.event.pull_request.head.repo.fork }}\nname: Will NOT run on forks\nfork-only:\nif: ${{ github.event.pull_request.head.repo.fork }}\nname: Will ONLY run on forks\n</code></pre>"},{"location":"github/#glob-patterns-checks","title":"Glob patterns checks","text":"<p>If the pattern does not match any files, this returns an empty string.</p> <pre><code>- name: 'Only if it contains any text file'\nif: hashFiles('**/*.txt') != ''\nrun: echo \"yes\"\n</code></pre>"},{"location":"github/#googles-maven-repository-for-dependabot","title":"Google's Maven repository for dependabot","text":".github/dependabot.yml<pre><code>version: 2\nupdates:\n  - package-ecosystem: \"gradle\"\n    directory: \"/\"\n    schedule:\n      interval: \"daily\"\n    registries: \"*\"\n    labels: [ ]\nregistries:\n  maven-google:\n    type: \"maven-repository\"\n    url: \"https://maven.google.com\"\n    replaces-base: true\n</code></pre>"},{"location":"github/#job-outputs","title":"Job outputs","text":"<pre><code>jobs:\njob1:\nruns-on: ubuntu-latest\noutputs:\noutput1: ${{ steps.step1.outputs.foo }}\noutput2: ${{ steps.step2.outputs.baz }}\nsteps:\n- id: step1\nrun: echo \"foo=bar\" &gt;&gt; $GITHUB_OUTPUT\n- id: step2\nrun: echo \"baz=qux\" &gt;&gt; $GITHUB_OUTPUT\njob2:\nruns-on: ubuntu-latest\nneeds: job1\nsteps:\n- run: echo ${{needs.job1.outputs.output1}} ${{needs.job1.outputs.output2}}\n</code></pre>"},{"location":"github/#job-summary","title":"Job summary","text":"<pre><code>- name: Generate Job summary\nrun: |\necho \"# Hello, World!\" &gt;&gt; $GITHUB_STEP_SUMMARY\necho \"\" &gt;&gt; $GITHUB_STEP_SUMMARY # this is a blank line\necho \"- a\" &gt;&gt; $GITHUB_STEP_SUMMARY\necho \"- b\" &gt;&gt; $GITHUB_STEP_SUMMARY\necho \"- c\" &gt;&gt; $GITHUB_STEP_SUMMARY\n</code></pre> <pre><code># Hello, World!\n\n- a\n- b\n- c\n</code></pre>"},{"location":"github/#matching-multiple-steps-outcome","title":"Matching multiple steps outcome","text":"<p>Warning</p> <p>A status check function call is required, otherwise an implicit <code>success()</code> is will be applied.</p> <pre><code>steps:\n- id: foo\nrun: ...\n\n- name: \ud83d\udc4e\nif: ${{ always() &amp;&amp; (steps.foo.outcome == \"success\" || steps.foo.outcome == \"failure) }}\nrun: ...\n\n- name: \ud83d\udc4d\nif: ${{ always() &amp;&amp; contains(fromJSON('[\"success\", \"failure\"]'), steps.foo.outcome) }}\nrun: ...\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"github/#matrix-strategy","title":"Matrix strategy","text":"<pre><code>jobs:\njob:\nruns-on: ubuntu-latest\nstrategy:\nmatrix:\njava-version: ['11', '17', '19']\nsteps:\n- uses: actions/setup-java@v3\nwith:\ndistribution: 'temurin'\njava-version: ${{ matrix.java-version }}\n- run: java --version\n</code></pre>"},{"location":"github/#print-messages-in-workflow-steps","title":"Print messages in workflow steps","text":"<pre><code>runs-on: ubuntu-latest\nsteps:\n- run: echo \"::debug::This is a debug message\"\n- run: echo \"::notice::This is a notice message\"\n- run: echo \"::warning::This is a warning message\"\n- run: |\necho \"::group::Group title\"\necho \"Inside group\"\necho \"::endgroup::\"\n</code></pre>"},{"location":"github/#rename-workflow-at-runtime","title":"Rename workflow at runtime","text":"<pre><code>name: Build\nrun-name: Build by @${{ github.actor }}\n</code></pre>"},{"location":"github/#restrict-workflow-to-a-specific-repository","title":"Restrict workflow to a specific repository","text":"<pre><code>jobs:\ndeploy:\nif: github.repository == 'UserName/RepositoryName'\n</code></pre>"},{"location":"github/#reuse-local-composite-action","title":"Reuse local composite action","text":".github/actions/hello/action.yml<pre><code>name: 'Hello'\ndescription: 'Say Hello to someone'\ninputs:\nwho:\ndescription: 'Who?'\ndefault: 'World'\nrequired: true\noutputs:\nresult:\ndescription: \"Random number\"\nvalue: ${{ steps.compute.outputs.result }}\nruns:\nusing: composite\nsteps:\n- id: compute\nrun: echo \"result=Hello, $WHO!\" &gt;&gt; $GITHUB_OUTPUT\nshell: bash\nenv:\nWHO: ${{ inputs.who }}\n</code></pre> .github/workflows/test.yml<pre><code>on: workflow_dispatch\njobs:\nbuild:\nruns-on: ubuntu-latest\nsteps:\n- uses: actions/checkout@v3\n- uses: .github/actions/hello\nwith:\nwho: Bob\n</code></pre> <p>\ud83d\udd17</p> <p>\ud83d\udd17</p>"},{"location":"github/#secret-file-in-github-actions","title":"Secret file in GitHub Actions","text":"<p>Create a new secret with https://github.com/[user]/[project]/settings/secrets/actions/new</p> <ul> <li>Name: <code>MY_SECRET</code></li> <li>Value: base64 representation of the file content <code>base64 --wrap=0 secret.json</code></li> </ul> .github/workflows/my_workflow.yml<pre><code>jobs:\nmy_job:\nname: My Job\nruns-on: ubuntu-latest\nsteps:\n\n- name: Create secret.json\nrun: echo \"$MY_SECRET\" | base64 --decode &gt; secret.json\nenv:\nMY_SECRET: ${{ secrets.MY_SECRET }}\n\n- name: Check file\nrun: stat secret.json\n\n- name: Delete secret.json\nrun: rm secret.json\nif: always()\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"github/#setting-an-environment-variable","title":"Setting an environment variable","text":"<pre><code>steps:\n- name: Set the value\nrun: echo \"foo=bar\" &gt;&gt; $GITHUB_ENV\n- name: Use the value\nrun: echo \"${{ env.foo }}\"\n</code></pre>"},{"location":"github/#setting-an-output-parameter","title":"Setting an output parameter","text":"<pre><code>steps:\n- id: foo\nrun: echo \"BAR=BAZ\" &gt;&gt; $GITHUB_OUTPUT\n- run: echo \"${{ steps.foo.outputs.BAR }}\"\n</code></pre>"},{"location":"github/#share-artifacts-between-jobs","title":"Share artifacts between jobs","text":"<p>Quote</p> <p>Note: You can only download artifacts in a workflow that were uploaded during the same workflow run. \ud83d\udd17</p> <pre><code>jobs:\nsave-job:\nsteps:\n- run: echo \"...\" &gt; output.txt\n- uses: actions/upload-artifact@v3\nwith:\nname: output\npath: output.txt\nload-job:\nneeds: save-job\nsteps:\n- uses: actions/download-artifact@v3\nwith:\nname: output\n- run: cat output.txt\n\n\nTo download an artifact from a separate workflow run, you can use the actions/download-artifact action. For example, you can download the artifact named output-log-file.\n\njobs:\nexample-job:\nsteps:\n- name: Download a single artifact\n</code></pre>"},{"location":"github/#skipping-workflow-runs","title":"Skipping workflow runs","text":"<p>Quote</p> <p>Workflows that would otherwise be triggered using <code>on: push</code> or <code>on: pull_request</code> won't be triggered if you add any of the following strings to the commit message in a push, or the HEAD commit of a pull request:</p> <ul> <li><code>[skip ci]</code></li> <li><code>[ci skip]</code></li> <li><code>[no ci]</code></li> <li><code>[skip actions]</code></li> <li><code>[actions skip]</code></li> </ul> <p>Alternatively, you can end the commit message with two empty lines followed by either:</p> <ul> <li><code>skip-checks:true</code></li> <li><code>skip-checks: true</code></li> </ul> <p>To request checks for a commit, end the commit message with two empty lines followed by <code>request-checks: true</code>.</p> <p>\ud83d\udd17 \ud83d\udd17</p>"},{"location":"github/#ternary-operator","title":"Ternary operator","text":"<pre><code>FOO: ${{ &lt;condition&gt; &amp;&amp; &lt;true&gt; || &lt;false&gt; }}\n</code></pre> <p>Example</p> <pre><code>API_ENV: ${{ github.ref_name == 'main' &amp;&amp; 'prod' || 'staging' }}\n</code></pre> <p>Warning</p> <p>If the value of <code>&lt;true&gt;</code> is falsy, the result of the expression will be <code>&lt;false&gt;</code>.</p>"},{"location":"github/#workflow-input-types","title":"Workflow input types","text":"<pre><code>on:\nworkflow_dispatch:\ninputs:\nname:\ntype: string\nrequired: true\nage:\ntype: number\nrequired: true\nsize:\ntype: choice\nrequired: true\noptions:\n- s\n- m\n- l\ntest:\ntype: boolean\ndefault: false\nenv:\ntype: environment\njobs:\njob:\nruns-on: ubuntu-latest\nsteps:\n- run: echo \"name=$INPUT_NAME age=$INPUT_AGE size=$INPUT_SIZE test=$INPUT_TEST env=$INPUT_ENV\"\nenv:\nINPUT_NAME: ${{ github.event.inputs.name }}\nINPUT_AGE:  ${{ github.event.inputs.age }}\nINPUT_SIZE: ${{ github.event.inputs.size }}\nINPUT_TEST: ${{ github.event.inputs.test }}\nINPUT_ENV:  ${{ github.event.inputs.env }}\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"gradle/","title":"\ud83d\udc18 Gradle","text":"<p>Info</p> <ul> <li>Documentation</li> <li>Releases</li> <li>Distributions</li> <li>Checksums</li> </ul>"},{"location":"gradle/#cleanup-caches-and-build-directories","title":"Cleanup caches and build directories","text":"<p>Global cache</p>  Linux Apple <pre><code>for d in ~/.gradle/{.tmp,build-scan-data,caches,daemon,jdks,native,wrapper}; do\ntest -d \"$d\" &amp;&amp; du --human-readable --summarize \"$d\" &amp;&amp; rm --recursive \"$d\"\ndone\n</code></pre> <pre><code>for d in ~/.gradle/{.tmp,build-scan-data,caches,daemon,jdks,native,wrapper}; do\ntest -d \"$d\" &amp;&amp; du -hs \"$d\" &amp;&amp; rm -rf \"$d\"\ndone\n</code></pre> <p>Local cache</p>  Linux Apple <pre><code>test -d .gradle &amp;&amp; du --human-readable --summarize .gradle &amp;&amp; rm --recursive .gradle\n</code></pre> <pre><code>test -d .gradle &amp;&amp; du -hs .gradle &amp;&amp; rm -rf .gradle\n</code></pre> <p>Build directories</p>  Linux Apple <pre><code>find . -type d -name 'build' -prune -exec du --human-readable --summarize '{}' \\; -exec rm --recursive '{}' \\;\n</code></pre> <pre><code>find . -type d -name 'build' -prune -exec du -hs '{}' \\; -exec rm -rf '{}' \\;\n</code></pre>"},{"location":"gradle/#declaring-a-repository-filter","title":"Declaring a repository filter","text":"<p>Quote</p> <p>Gradle exposes an API to declare what a repository may or may not contain.</p> <p>By default, repositories include everything and exclude nothing:  </p> <ul> <li>If you declare an include, then it excludes everything but what is included.</li> <li>If you declare an exclude, then it includes everything but what is excluded.</li> <li>If you declare both includes and excludes, then it includes only what is explicitly included and not excluded.</li> </ul> <p>See RepositoryContentDescriptor for all available methods.</p> <pre><code>repositories {\nmaven {\nurl = uri(\"https://repo.mycompany.com/maven2\")\ncontent {\n// this repository *only* contains artifacts with group \"my.company\"\nincludeGroup(\"my.company\")\n}\n}\nmavenCentral {\ncontent {\n// this repository contains everything BUT artifacts with group starting with \"my.company\"\nexcludeGroupByRegex(\"my\\\\.company.*\")\n}\n}\n}\n</code></pre> <p>Warning</p> <p>Filters declared using the repository-level content filter are not exclusive. This means that declaring that a repository includes an artifact doesn\u2019t mean that the other repositories can\u2019t have it either: you must declare what every repository contains in extension.</p> <p>\ud83d\udd17</p>"},{"location":"gradle/#declaring-content-exclusively-found-in-one-repository","title":"Declaring content exclusively found in one repository","text":"<pre><code>repositories {\n// This repository will _not_ be searched for artifacts in my.company despite being declared first\nmavenCentral()\nexclusiveContent {\nforRepository {\nmaven {\nurl = uri(\"https://repo.mycompany.com/maven2\")\n}\n}\nfilter {\n// this repository *only* contains artifacts with group \"my.company\"\nincludeGroup(\"my.company\")\n}\n}\n}\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"gradle/#download-dependencies-upfront","title":"Download dependencies upfront","text":"<p>This relies on the dependency verification feature:</p> <pre><code>./gradlew assemble lint test connectedAndroidTest --dry-run --write-verification-metadata sha256\n</code></pre> <p>This will then create <code>gradle/verification-metadata.dryrun.xml</code> as a side-effect.</p> <p>Quote</p> <p>Because <code>--dry-run</code> doesn\u2019t execute tasks, this would be much faster, but it will miss any resolution happening at task execution time.</p>"},{"location":"gradle/#gradle-properties-are-not-passed-to-included-builds","title":"Gradle properties are not passed to included builds","text":"<p>When requesting an included build like this:</p> settings.gradle.kts<pre><code>pluginManagement {\nincludeBuild(\"build-logic\")\n}\n</code></pre> <p>Gradle properties from the default <code>gradle.properties</code> are not passed to it. Instead you must have a dedicated <code>build-logic/gradle.properties</code>, or use a symbolic link.</p> <p>\ud83d\udd17</p>"},{"location":"gradle/#gradle-tasks","title":"Gradle tasks","text":"<pre><code>Build Setup tasks\n-----------------\ninit - Initializes a new Gradle build.\nwrapper - Generates Gradle wrapper files.\n\nGradle Enterprise tasks\n-----------------------\nbuildScanPublishPrevious - Publishes the data captured by the last build.\nprovisionGradleEnterpriseAccessKey - Provisions a new access key for this build environment.\n\nHelp tasks\n----------\njavaToolchains - Displays the detected java toolchains.\nprojects - Displays the sub-projects of root project.\nproperties - Displays the properties of root project.\n</code></pre>"},{"location":"gradle/#kotlin-extensions","title":"Kotlin extensions","text":"<pre><code>fun Project.isRootProject() = rootProject === this\n\nfun Project.isJava() = isJavaLibrary() || project.pluginManager.hasPlugin(\"java\")\nfun Project.isJavaLibrary() = project.pluginManager.hasPlugin(\"java-library\")\n\nfun Project.isKotlin() = isKotlinAndroid() || isKotlinJvm()\nfun Project.isKotlinAndroid() = pluginManager.hasPlugin(\"org.jetbrains.kotlin.android\")\nfun Project.isKotlinJvm() = pluginManager.hasPlugin(\"org.jetbrains.kotlin.jvm\")\n\nfun Project.isAndroid() = isAndroidApplication() || isAndroidLibrary() || isAndroidTest() || isAndroidDynamicFeature()\nfun Project.isAndroidApplication() = plugins.hasPlugin(AppPlugin::class.java)\nfun Project.isAndroidLibrary() = plugins.hasPlugin(LibraryPlugin::class.java)\nfun Project.isAndroidTest() = plugins.hasPlugin(TestPlugin::class.java)\nfun Project.isAndroidDynamicFeature() = plugins.hasPlugin(DynamicFeaturePlugin::class.java)\n\nfun Project.isUsingKapt() = pluginManager.hasPlugin(\"org.jetbrains.kotlin.kapt\")\nfun Project.isUsingKsp() = pluginManager.hasPlugin(\"com.google.devtools.ksp\")\nfun Project.isUsingLint() = pluginManager.hasPlugin(\"com.android.internal.lint\")\n\n\n/**\n * Best-effort tries to apply an [action] on a task with matching [name]. If the task doesn't exist\n * at the time this is called, a [TaskContainer.whenTaskAdded] callback is added to match on the\n * name and execute the action when it's added.\n *\n * This approach has caveats, namely that you won't get an immediate failure or indication if you've\n * requested action on a task that may never be added. This is intended to be similar to the\n * behavior of [PluginManager.withPlugin].\n */\nfun TaskContainer.withName(name: String, action: Action&lt;Task&gt;) {\ntry {\nnamed(name, action)\n} catch (_: UnknownTaskException) {\nwhenTaskAdded {\nif (this@whenTaskAdded.name == name) action(this)\n}\n}\n}\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"gradle/#list-project-properties","title":"List project properties","text":"<pre><code>gradlew properties\n\n# To get a specific property\ngradlew -q properties --console=plain | grep \"^&lt;my-property&gt;:\" | awk '{printf $2}'\n\n# Or on newer versions\ngradlew -q properties --property=&lt;my-property&gt;\n</code></pre>"},{"location":"gradle/#override-build-type-attribute","title":"Override build type attribute","text":"<pre><code>implementation(project(\":lib\")) {\nattributes {\nattribute(BuildTypeAttr.ATTRIBUTE, objects.named&lt;BuildTypeAttr&gt;(DEBUG))\n}\n}\n</code></pre>"},{"location":"gradle/#override-version-catalog-versions","title":"Override Version Catalog versions","text":"<pre><code>dependencyResolutionManagement {\nversionCatalogs {\nval prefix = \"libs_version_\"\nval overrides = providers.systemPropertiesPrefixedBy(prefix)\n.get().mapKeys { (key, _) -&gt; key.removePrefix(prefix) }\nmaybeCreate(\"libs\").apply {\nif (overrides.isNotEmpty()) logger.lifecycle(\"Overriding versions $overrides\")\noverrides.forEach { (key, value) -&gt; version(key, value) }\n}\n}\n}\n</code></pre> <pre><code>gradlew --system-prop \"libs_version_=1.2.3\" --system-prop \"libs_version_=3.2.1\"\n# or simpler\ngradlew -Dlibs_version_foo=1.2.3 -Dlibs_version_bar=3.2.1\n</code></pre> <pre><code>Overriding versions {foo=1.2.3, bar=3.2.1}\n</code></pre>"},{"location":"gradle/#project-properties","title":"Project properties","text":"<p>You can add properties directly to your Project object via the <code>-P</code> command line option. Gradle can also set project properties when it sees specially-named system properties or environment variables.</p> <ul> <li> <p>Setting a project property via a system property:   <pre><code>org.gradle.project.foo=bar\n</code></pre></p> </li> <li> <p>Setting a project property via an environment variable:   <pre><code>ORG_GRADLE_PROJECT_foo=bar\n</code></pre></p> </li> </ul> <p>\ud83d\udd17</p>"},{"location":"gradle/#reproducible-builds","title":"Reproducible builds","text":"build.gradle.kts<pre><code>tasks.withType&lt;AbstractArchiveTask&gt; {\nisPreserveFileTimestamps = false\nisReproducibleFileOrder = true\n}\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"gradle/#system-properties","title":"System properties","text":"<p>Using the <code>-D</code> command-line option, you can pass a system property to the JVM which runs Gradle. You can also set system properties in <code>gradle.properties</code> files with the prefix <code>systemProp.</code>.</p> gradle.properties<pre><code>systemProp.gradle.user.home=/gradle\n</code></pre> <p>Info</p> <p>command-line options take precedence over system properties.</p> <p>\ud83d\udd17</p>"},{"location":"gradle/#test-fixtures","title":"Test fixtures","text":"<p>Producer</p> repo/build.gradle.kts<pre><code>plugins {\nkotlin(\"jvm\")\n`java-test-fixtures`\n}\n\ndependencies {\n// Dependencies of test fixtures (not leaked to consumers)\ntestFixturesImplementation(\"...\")\n}\n</code></pre> repo/src/main/kotlin/com/example/Repository.kt<pre><code>fun interface Repository {\noperator fun invoke(id: String): Boolean\n}\n</code></pre> repo/src/testFixtures/kotlin/com/example/FakeRepository.kt<pre><code>class FakeRepository(\nprivate val block: (id: String) -&gt; Boolean = ::fail\n): Repository {\noverride fun invoke(id: String): Boolean = block(id)\n}\n</code></pre> <p>Consumer</p> app/build.gradle.kts<pre><code>plugins {\nkotlin(\"jvm\")\n}\n\ndependencies {\nimplementation(project(\":repo\"))\ntestImplementation(testFixtures(project(\":repo\")))\n}\n</code></pre> app/src/test/kotlin/com/example/Test.kt<pre><code>class Test {\n\n@Test\nfun test() {\nval repository: Repository = FakeRepository { id: String -&gt; todo() }\n/* ... */\n}\n\n}\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"gradle/#upgrading-the-gradle-wrapper","title":"Upgrading the Gradle Wrapper","text":"<pre><code># Update the version in gradle/wrapper/gradle-wrapper.properties\n./gradlew wrapper --gradle-version x.y.z --distribution-type bin\n# Update the in gradle-wrapper.jar\n./gradlew wrapper\n# Validate the version\n./gradlew --version\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"gradle/#version-catalog-extensions-and-delegates","title":"Version Catalog extensions and delegates","text":"<p>Extension to access <code>VersionCatalog</code>:</p> <pre><code>fun Project.versionCatalog(name: String = \"libs\"): VersionCatalog =\nproject.extensions.getByType&lt;VersionCatalogsExtension&gt;().named(name)\n</code></pre> <p>Extensions to fetch versions, libraries, plugins and bundles from a <code>VersionCatalog</code> as delegates:</p> <pre><code>fun VersionCatalog.versions(): ReadOnlyProperty&lt;Any?, VersionConstraint&gt; = ReadOnlyProperty { _, property -&gt;\nfindVersion(property.name).orElseThrow {\nIllegalStateException(\"Version alias named ${property.name} doesn't exist in catalog named $name\")\n}\n}\n\nfun VersionCatalog.libraries(): ReadOnlyProperty&lt;Any?, Provider&lt;MinimalExternalModuleDependency&gt;&gt; = ReadOnlyProperty { _, property -&gt;\nfindLibrary(property.name).orElseThrow {\nIllegalStateException(\"Library alias named ${property.name} doesn't exist in catalog named $name\")\n}\n}\n\nfun VersionCatalog.plugins(): ReadOnlyProperty&lt;Any?, Provider&lt;PluginDependency&gt;&gt; = ReadOnlyProperty { _, property -&gt;\nfindPlugin(property.name).orElseThrow {\nIllegalStateException(\"Plugin alias named ${property.name} doesn't exist in catalog named $name\")\n}\n}\n\nfun VersionCatalog.bundles(): ReadOnlyProperty&lt;Any?, Provider&lt;ExternalModuleDependencyBundle&gt;&gt; = ReadOnlyProperty { _, property -&gt;\nfindBundle(property.name).orElseThrow {\nIllegalStateException(\"Bundle alias named ${property.name} doesn't exist in catalog named $name\")\n}\n}\n</code></pre> <p>This can then be used like this in a custom <code>Plugin</code>:</p> gradle/libs.versions.toml<pre><code>[versions]\nkotlin = \"1.7.10\"\n\n[plugins]\norg-jetbrains-kotlin-android = { id = \"org.jetbrains.kotlin.android\", version.ref = \"kotlin\" }\n\n[bundles]\nexample = [\"lib1\", \"lib2\"]\n\n[libraries]\nexample1 = \"com.example:lib1:#\"\nexample2 = \"com.example:lib2:#\"\nkotlinxCoroutinesCore = { group = \"org.jetbrains.kotlinx\", name = \"kotlinx-coroutines-core\", version = \"1.6.4\" }\n</code></pre> <pre><code>class MyCatalog(catalog: VersionCatalog): VersionCatalog by catalog {\nval kotlin by versions() // \"1.7.10\"\nval `org-jetbrains-kotlin-android` by plugins() // \"org.jetbrains.kotlin.android:1.7.10\"\nval example by bundles() // [\"com.example:lib1:#\", \"com.example:lib2:#\"]\nval kotlinxCoroutinesCore by library() // \"org.jetbrains.kotlinx:kotlinx-coroutines-core:1.6.4\"\n}\n\nclass MyPlugin : Plugin&lt;Project&gt; {\noverride fun apply(target: Project) {\nval catalog = MyCatalog(target.versionCatalog())\ndependencies {\nadd(\"implementation\", catalog.kotlinxCoroutinesCore)\n}\n}\n}\n</code></pre>"},{"location":"gradle/#version-declaration-semantics","title":"Version declaration semantics","text":"<ul> <li>An exact version: e.g. <code>1.3</code>, <code>1.3.0-beta3</code>, <code>1.0-20150201.131010-1</code></li> <li>A Maven-style version range: e.g. <code>[1.0,)</code>, <code>[1.1, 2.0)</code>, <code>(1.2, 1.5]</code></li> <li>A prefix version range: e.g. <code>1.+</code>, <code>1.3.+</code></li> <li>A latest-status version: e.g. <code>latest.integration</code>, <code>latest.release</code></li> <li>A Maven <code>SNAPSHOT</code> version identifier: e.g. <code>1.0-SNAPSHOT</code>, <code>1.4.9-beta1-SNAPSHOT</code></li> </ul> <p>Shorthand notation for strict dependencies</p> <pre><code>dependencies {\n// short-hand notation with !!\nimplementation(\"org.slf4j:slf4j-api:1.7.15!!\")\n// is equivalent to\nimplementation(\"org.slf4j:slf4j-api\") {\nversion {\nstrictly(\"1.7.15\")\n}\n}\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"gradle/#versions-checks","title":"Versions checks","text":"Gradle<pre><code>GradleVersion.current() &gt;= GradleVersion.version(\"8.0\")\n</code></pre> Java<pre><code>JavaVersion.current() &gt;= JavaVersion.VERSION_17\n</code></pre>"},{"location":"gradle/#welcome-message","title":"Welcome message","text":"<p>Quote</p> <p>Controls whether Gradle should print a welcome message. If set to <code>never</code> then the welcome message will be suppressed. If set to <code>once</code> then the message is printed once for each new version of Gradle. Default is <code>once</code>.</p> gradle.properties<pre><code>org.gradle.welcome=never\n</code></pre>"},{"location":"html/","title":"\ud83d\udcdc HTML","text":""},{"location":"html/#elements","title":"Elements","text":""},{"location":"html/#blockquote-figure-figcaption","title":"<code>blockquote</code> <code>figure</code> <code>figcaption</code>","text":"<pre><code>&lt;figure&gt;\n    &lt;blockquote cite=\"https://example.org/\"&gt;\n        &lt;p&gt;This domain is for use in illustrative examples in documents. You may use this domain in literature without prior coordination or asking for permission.&lt;/p&gt;\n    &lt;/blockquote&gt;\n    &lt;figcaption&gt;\u2014Example Domain, &lt;cite&gt;@example.org&lt;/cite&gt;&lt;/figcaption&gt;\n&lt;/figure&gt;\n</code></pre> <p>This domain is for use in illustrative examples in documents. You may use this domain in literature without prior coordination or asking for permission.</p> \u2014Example Domain, @example.org"},{"location":"html/#del-ins","title":"<code>del</code> <code>ins</code>","text":"<pre><code>&lt;blockquote&gt;\n    There is &lt;del&gt;nothing&lt;/del&gt; &lt;ins&gt;no code&lt;/ins&gt; either good or bad, but &lt;del&gt;thinking&lt;/del&gt; &lt;ins&gt;running it&lt;/ins&gt; makes it so.\n&lt;/blockquote&gt;\n</code></pre>      There is nothing no code either good or bad, but thinking running it makes it so."},{"location":"html/#details-summary","title":"<code>details</code> <code>summary</code>","text":"<pre><code>&lt;details open&gt;\n    &lt;summary&gt;Details&lt;/summary&gt;\n    &lt;p&gt;Something small enough to escape casual notice.&lt;/p&gt;\n&lt;/details&gt;\n</code></pre> Details <p>Something small enough to escape casual notice.</p>"},{"location":"html/#input","title":"<code>input</code>","text":""},{"location":"html/#button","title":"<code>button</code>","text":"<pre><code>&lt;input type=\"button\" value=\"Button\"&gt;\n</code></pre>"},{"location":"html/#checkbox","title":"<code>checkbox</code>","text":"<pre><code>&lt;fieldset&gt;\n    &lt;legend&gt;Select:&lt;/legend&gt;\n    &lt;input type=\"checkbox\" id=\"check\" name=\"check\" checked&gt;\n    &lt;label for=\"check\"&gt;Checkbox&lt;/label&gt;\n&lt;/fieldset&gt;\n</code></pre> Select: Checkbox"},{"location":"html/#color","title":"<code>color</code>","text":"<pre><code>&lt;input type=\"color\" value=\"#000000\"&gt;\n</code></pre>"},{"location":"html/#date","title":"<code>date</code>","text":"<pre><code>&lt;input type=\"date\" value=\"2038-01-19\" min=\"2000-01-01\" max=\"2100-12-31\"&gt;\n</code></pre>"},{"location":"html/#datetime-local","title":"<code>datetime-local</code>","text":"<pre><code>&lt;input type=\"datetime-local\" value=\"2038-01-19T03:14:08\" min=\"2000-01-01T00:00\" max=\"2100-12-31T23:59:59\"&gt;\n</code></pre>"},{"location":"html/#email","title":"<code>email</code>","text":"<pre><code>&lt;input type=\"email\" placeholder=\"user@example.org\"&gt;\n</code></pre>"},{"location":"html/#file","title":"<code>file</code>","text":"<pre><code>&lt;input type=\"file\" accept=\"image/png, image/jpeg\"&gt;\n</code></pre>"},{"location":"html/#image","title":"<code>image</code>","text":"<pre><code>&lt;input type=\"image\" src=\"../assets/images/favicon.png\"&gt;\n</code></pre>"},{"location":"html/#month","title":"<code>month</code>","text":"<pre><code>&lt;input type=\"month\" value=\"2050-06\" min=\"2000-01\" max=\"2100-12\"&gt;\n</code></pre>"},{"location":"html/#number","title":"<code>number</code>","text":"<pre><code>&lt;input type=\"number\" value=\"50\" min=\"0\" max=\"100\"&gt;\n</code></pre>"},{"location":"html/#password","title":"<code>password</code>","text":"<pre><code>&lt;input type=\"password\" placeholder=\"\u2026\"&gt;\n</code></pre>"},{"location":"html/#radio","title":"<code>radio</code>","text":"<pre><code>&lt;fieldset&gt;\n    &lt;legend&gt;Select:&lt;/legend&gt;\n    &lt;input type=\"radio\" id=\"a\" name=\"test\" checked&gt;\n    &lt;label for=\"a\"&gt;A&lt;/label&gt;\n    &lt;input type=\"radio\" id=\"b\" name=\"test\"&gt;\n    &lt;label for=\"b\"&gt;B&lt;/label&gt;\n    &lt;input type=\"radio\" id=\"c\" name=\"test\"&gt;\n    &lt;label for=\"c\"&gt;C&lt;/label&gt;\n&lt;/fieldset&gt;\n</code></pre> Select: A B C"},{"location":"html/#range","title":"<code>range</code>","text":"<pre><code>&lt;input type=\"range\" value=\"5\" min=\"0\" max=\"10\"&gt;\n</code></pre>"},{"location":"html/#reset","title":"<code>reset</code>","text":"<pre><code>&lt;form&gt;\n    &lt;input type=\"text\" placeholder=\"\u2026\"&gt;\n    &lt;input type=\"reset\" value=\"Reset\"&gt;\n&lt;/form&gt;\n</code></pre>"},{"location":"html/#tel","title":"<code>tel</code>","text":"<pre><code>&lt;input type=\"tel\" placeholder=\"\u2026\"&gt;\n</code></pre>"},{"location":"html/#text","title":"<code>text</code>","text":"<pre><code>&lt;input type=\"text\" placeholder=\"\u2026\"&gt;\n</code></pre>"},{"location":"html/#time","title":"<code>time</code>","text":"<pre><code>&lt;input type=\"time\" min=\"08:00\" max=\"18:00\"&gt;\n</code></pre>"},{"location":"html/#url","title":"<code>url</code>","text":"<pre><code>&lt;input type=\"url\" placeholder=\"\u2026\"&gt;\n</code></pre>"},{"location":"html/#week","title":"<code>week</code>","text":"<pre><code>&lt;input type=\"week\" min=\"2000-W10\" max=\"2100-W40\"&gt;\n</code></pre>"},{"location":"html/#mark","title":"<code>mark</code>","text":"<pre><code>Most &lt;mark&gt;salamander&lt;/mark&gt;s are nocturnal, and hunt for insects, worms, and other small creatures.\n</code></pre> <p>Most salamanders are nocturnal, and hunt for insects, worms, and other small creatures.</p>"},{"location":"html/#meta","title":"<code>meta</code>","text":""},{"location":"html/#theme-color","title":"<code>theme-color</code>","text":"<p>Quote</p> <p>The <code>theme-color</code> value for the <code>name</code> attribute of the <code>&lt;meta&gt;</code> element indicates a suggested color that user agents should use to customize the display of the page or of the surrounding user interface. If specified, the <code>content</code> attribute must contain a valid CSS <code>&lt;color&gt;</code>.</p> <pre><code>&lt;meta name=\"theme-color\" media=\"(prefers-color-scheme: light)\" content=\"cyan\" /&gt;\n&lt;meta name=\"theme-color\" media=\"(prefers-color-scheme: dark)\" content=\"black\" /&gt;\n</code></pre>"},{"location":"html/#meter","title":"<code>meter</code>","text":"<pre><code>&lt;meter min=\"0\" max=\"100\" low=\"33\" high=\"66\" optimum=\"80\" value=\"25\"&gt;&lt;/meter&gt;\n&lt;meter min=\"0\" max=\"100\" low=\"33\" high=\"66\" optimum=\"80\" value=\"50\"&gt;&lt;/meter&gt;\n&lt;meter min=\"0\" max=\"100\" low=\"33\" high=\"66\" optimum=\"80\" value=\"75\"&gt;&lt;/meter&gt;\n</code></pre>"},{"location":"html/#progress","title":"<code>progress</code>","text":"<pre><code>&lt;progress max=\"100\" value=\"75\"&gt;&lt;/progress&gt;\n</code></pre>"},{"location":"html/#select-optgroup-option","title":"<code>select</code> <code>optgroup</code> <code>option</code>","text":"<pre><code>&lt;select&gt;\n    &lt;optgroup label=\"Theropods\"&gt;\n        &lt;option&gt;Tyrannosaurus&lt;/option&gt;\n        &lt;option&gt;Velociraptor&lt;/option&gt;\n        &lt;option&gt;Deinonychus&lt;/option&gt;\n    &lt;/optgroup&gt;\n    &lt;optgroup label=\"Sauropods\"&gt;\n        &lt;option&gt;Diplodocus&lt;/option&gt;\n        &lt;option&gt;Saltasaurus&lt;/option&gt;\n        &lt;option&gt;Apatosaurus&lt;/option&gt;\n    &lt;/optgroup&gt;\n&lt;/select&gt;\n</code></pre> <p> Tyrannosaurus Velociraptor Deinonychus Diplodocus Saltasaurus Apatosaurus </p>"},{"location":"html/#emoji-favicon","title":"Emoji favicon","text":"<pre><code>&lt;head&gt;\n  &lt;link rel=\"icon\" type=\"image/svg+xml\" href=\"data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 width=%22256%22 height=%22256%22 viewBox=%220 0 100 100%22&gt;&lt;text x=%2250%%22 y=%2250%%22 dominant-baseline=%22central%22 text-anchor=%22middle%22 font-size=%2290%22&gt;\ud83d\uddd3\ufe0f&lt;/text&gt;&lt;/svg&gt;\"/&gt;\n&lt;/head&gt;\n</code></pre> <p>And here is the decoded SVG content:</p> <pre><code>&lt;svg xmlns=\"http://www.w3.org/2000/svg\" width=\"256\" height=\"256\" viewBox=\"0 0 100 100\"&gt;\n&lt;text x=\"50%\" y=\"50%\" dominant-baseline=\"central\" text-anchor=\"middle\" font-size=\"90\"&gt;\ud83d\uddd3\ufe0f&lt;/text&gt;\n&lt;/svg&gt;\n</code></pre> <p>Test <p>\ud83d\udd17</p>"},{"location":"intellij-idea/","title":"\ud83d\udce6 IntelliJ IDEA","text":""},{"location":"intellij-idea/#code-formatting-as-a-weak-warning","title":"Code formatting as a weak warning","text":"<p><code>File</code> \u2192 <code>Settings</code> \u2192 <code>Editor</code> \u2192 <code>Inspections</code> \u2192 <code>File is not formatted according to project settings</code></p> <p>\ud83d\udd17</p>"},{"location":"intellij-idea/#find-and-replace-with-regex-capturing-groups","title":"Find and replace with regex capturing groups","text":"<ul> <li>Search: <code>&lt;h2&gt;(?&lt;title&gt;.*?)&lt;/h2&gt;</code></li> <li>Replace: <code>&lt;h1&gt;${title}&lt;/h1&gt;</code></li> </ul> <p>\ud83d\udd17</p>"},{"location":"intellij-idea/#ksp-generated-code","title":"KSP generated code","text":"<ul> <li>JVM   <pre><code>kotlin {\nsourceSets.main {\nkotlin.srcDir(\"build/generated/ksp/main/kotlin\")\n}\nsourceSets.test {\nkotlin.srcDir(\"build/generated/ksp/test/kotlin\")\n}\n}\n</code></pre></li> <li>Android   <pre><code>androidComponents.beforeVariants {\nkotlin.sourceSets.register(it.name) {\nkotlin.srcDir(file(\"$buildDir/generated/ksp/${it.name}/kotlin\"))\n}\n}\n</code></pre></li> </ul> <p>\ud83d\udd17</p>"},{"location":"intellij-idea/#plugins","title":"Plugins","text":"<ul> <li>ADB Idea</li> <li>Atom Material Icons</li> <li>File Expander</li> <li>XWin Keymap</li> </ul>"},{"location":"intellij-idea/#project-icon","title":"Project icon","text":"<pre><code>!.idea/icon.png\n!.idea/icon_dark.png\n</code></pre>"},{"location":"intellij-idea/#required-plugins","title":"Required plugins","text":"<p>Ctrl+Alt+S \u2192 <code>Build, Execution, Deployment</code> \u2192 <code>Required Plugins</code>.</p> .idea/externalDependencies.xml<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project version=\"4\"&gt;\n&lt;component name=\"ExternalDependencies\"&gt;\n&lt;plugin id=\"org.editorconfig.editorconfigjetbrains\" /&gt;\n&lt;/component&gt;\n&lt;/project&gt;\n</code></pre> <p>\ud83d\udd17 \ud83d\udd17</p>"},{"location":"intellij-idea/#shortcuts","title":"Shortcuts","text":"Shortcut Description Ctrl+Shift+P Type of expression Ctrl+Shift+I Quick definition"},{"location":"java/","title":"\u2615 Java","text":""},{"location":"java/#uncaughtexceptionhandler","title":"UncaughtExceptionHandler","text":"<p>Quote</p> <p>When a thread is about to terminate due to an uncaught exception the Java Virtual Machine will query the thread for its <code>UncaughtExceptionHandler</code> using <code>Thread.getUncaughtExceptionHandler()</code> and will invoke the handler's <code>uncaughtException</code> method, passing the thread and the exception as arguments.</p> <pre><code>// Keep a reference to the default handler\nval default = Thread.getDefaultUncaughtExceptionHandler()\n\n// Override the default handler\nThread.setDefaultUncaughtExceptionHandler { thread: Thread, throwable: Throwable -&gt;\nwhen (throwable) {\n/* Check if it should be swallowed */\nis MyUncaughtException -&gt; Unit\n/* Otherwise rethrow to the default handler */\nelse -&gt; default?.uncaughtException(thread, throwable)\n}\n}\n</code></pre>"},{"location":"javascript/","title":"\ud83e\udea2 JavaScript","text":""},{"location":"javascript/#comments-in-json","title":"Comments in JSON","text":"<p>TL;DR: JSON is data-only. If you include a comment, then it must be data too.</p> <pre><code>{\n\"//\": \"This is a comment\",\n\"key\": \"value\"\n}\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"javascript/#map-object-entries","title":"Map object entries","text":"<pre><code>const mapObject = (obj, fn) =&gt; Object.fromEntries(Object.entries(obj).map(([k, v]) =&gt; [k, fn(v)]));\n</code></pre> <p>JSON stringify object values</p> <p><pre><code>mapObject({key: {foo: \"bar\"}}, (v) =&gt; JSON.stringify(v));\n</code></pre> <pre><code>{key: '{\"foo\":\"bar\"}'}\n</code></pre> </p>"},{"location":"javascript/#named-capturing-group-regex","title":"Named capturing group regex","text":"<pre><code>const semver = /^(?&lt;major&gt;\\d+)(?:\\.(?&lt;minor&gt;\\d+)(?:\\.(?&lt;patch&gt;\\d+))?)?(?:-(?&lt;label&gt;.+))?$/;\n\nconst result = \"1.2.3-alpha\".match(semver);\nresult.groups.major; // '1'\nresult.groups.minor; // '2'\nresult.groups.patch; // '3'\nresult.groups.label; // 'alpha'\n</code></pre> <p>\ud83d\udd17 \ud83d\udd17 \ud83d\udd17</p>"},{"location":"javascript/#optional-chaining-operator","title":"Optional chaining operator","text":"<pre><code>// The old way\nval result = (obj || {}).data;\n// The new way\nval result = obj?.data;\n</code></pre> <p>\ud83d\udd17 \ud83d\udd17</p>"},{"location":"junit/","title":"\ud83e\uddea JUnit","text":""},{"location":"junit/#assume-jdk-version","title":"Assume JDK version","text":"<pre><code>import kotlin.reflect.KClass\nimport static org.junit.Assume.assumeTrue\n\nfun KClass&lt;System&gt;.jdk(): String? = System.getProperty(\"java.specification.version\")\nfun KClass&lt;System&gt;.hasJdk17() = (jdk()?.substringBefore(\".\")?.toInt() ?: 0) &gt;= 17\n\n@Test\nfun runOnlyOnJdk17AndAbove() {\nassumeTrue(\"System has JDK 17\", System::class.hasJdk17())\n/* ... */\n}\n</code></pre>"},{"location":"junit/#flaky-testrule","title":"Flaky TestRule","text":"<pre><code>import org.junit.rules.TestRule\nimport org.junit.runner.Description\nimport org.junit.runners.model.Statement\n\n/**\n * @property reason The reason explaining what is flaky in the test, and any corresponding JIRA ticket.\n * @property retry The number of retry allowed to make the test pass successfully.\n */\nannotation class Flaky(\nval reason: String,\nval retry: Int = DEFAULT_RETRY_COUNT,\n) {\ncompanion object {\ninternal const val DEFAULT_RETRY_COUNT = 3\n}\n}\n\n/**\n * Repeat a test multiple times and ignore errors until the retry count is reached.\n *\n * ```\n * @get:Rule\n * val rule = FlakyTestRule()\n *\n * @Test @Flaky(retry = 10)\n * fun test() { ... }\n * ```\n */\nclass FlakyTestRule(private val applyToAll: Boolean = false) : TestRule {\n\nprivate fun Description.iterations() = annotations.filterIsInstance&lt;Flaky&gt;()\n.takeUnless { it.isEmpty() }\n?.sumOf { it.retry }\n?.also { require(it &gt; 0) { \"Flaky retry count must be &gt; 0\" } }\n?.inc() ?: DEFAULT_RETRY_COUNT.takeIf { applyToAll }\n\noverride fun apply(\nstatement: Statement,\ndescription: Description,\n): Statement = when (val iterations = description.iterations()) {\nnull -&gt; statement\nelse -&gt; object : Statement() {\noverride fun evaluate() {\nvar cause: Throwable? = null\nrepeat(iterations) { iteration -&gt;\nrunCatching { statement.evaluate() }.fold(\nonSuccess = { return println(\"FlakyTestRule: [${description.displayName}] ${\"succeeded after ${iteration.inc()} iterations.\"}\") },\nonFailure = { cause = it.also { it.printStackTrace() } },\n)\n}\nthrow FlakyTestRuleException(iterations, description, cause)\n}\n}\n}\n\nprivate class FlakyTestRuleException(iterations: Int, description: Description, cause: Throwable?) : IllegalStateException(\"Giving up on test [${description.displayName}] after $iterations iterations.\", cause)\n\n}\n</code></pre>"},{"location":"junit/#locale-testrule","title":"Locale TestRule","text":"<pre><code>import org.junit.rules.ExternalResource\nimport java.util.Locale\nimport java.util.Locale.*\n\nclass LocaleTestRule(private val locale: Locale) : ExternalResource() {\n\nprivate lateinit var default: Locale\n\noverride fun before() {\ndefault = getDefault()\nsetDefault(locale)\n}\n\noverride fun after() = setDefault(default)\n\n}\n</code></pre>"},{"location":"junit/#repeat-testrule","title":"Repeat TestRule","text":"<pre><code>import org.junit.rules.TestRule\nimport org.junit.runner.Description\nimport org.junit.runners.model.Statement\n\n/**\n * @property iterations The number to repeated iterations required to let a [org.junit.Test] pass successfully.\n */\nannotation class Repeat(val iterations: Int)\n\n/**\n * Repeat a test multiple times and throw any occurring error.\n * Inspiration taken from [ShampooRule](https://gist.github.com/JakeWharton/7fe7deb1f7f4a795c120) by Jake Wharton.\n *\n * ```\n * @get:Rule\n * val rule = RepeatTestRule()\n *\n * @Test @Repeat(iterations = 10)\n * fun test() { ... }\n * ```\n */\nclass RepeatTestRule : TestRule {\n\nprivate fun Description.iterations() = annotations.filterIsInstance&lt;Repeat&gt;()\n.takeUnless { it.isEmpty() }\n?.sumOf { it.iterations }\n?.also { require(it &gt; 0) { \"Repeat count must be &gt; 0\" } }\n?.inc()\n\noverride fun apply(\nstatement: Statement,\ndescription: Description,\n): Statement = when (val iterations = description.iterations()) {\nnull -&gt; statement\nelse -&gt; object : Statement() {\noverride fun evaluate() = repeat(iterations) { iteration -&gt;\nkotlin.runCatching {\nstatement.evaluate()\n}.onFailure {\nthrow RepeatTestRuleException(iteration.inc(), description, cause = it)\n}\n}\n}\n}\n\nprivate class RepeatTestRuleException(iterations: Int, description: Description, cause: Throwable?) : IllegalStateException(\"[${description.displayName}] failed after $iterations iterations.\", cause)\n\n}\n</code></pre>"},{"location":"junit/#timezone-testrule","title":"TimeZone TestRule","text":"<pre><code>import org.junit.rules.ExternalResource\nimport java.util.TimeZone\nimport java.util.TimeZone.*\n\nclass TimeZoneTestRule(private val tz: TimeZone) : ExternalResource() {\n\nprivate lateinit var default: TimeZone\n\noverride fun before() {\ndefault = getDefault()\nsetDefault(tz)\n}\n\noverride fun after() = setDefault(default)\n\n}\n</code></pre>"},{"location":"kotlin/","title":"\ud83e\uddd1\u200d\ud83d\udcbb Kotlin","text":"<p> Kotlin Playground</p>"},{"location":"kotlin/#annotations-array-notation","title":"Annotations array notation","text":"<pre><code>@[Inject Named(\"foo\")]\nlateinit var foo: String\n\n/* is equivalent to */\n\n@Inject @Named(\"foo\")\nlateinit var foo: String\n</code></pre> <p>If you have multiple annotations with the same target, you can avoid repeating the target by adding brackets after the target and putting all the annotations inside the brackets: \ud83d\udd17</p> <pre><code>@set:[Inject VisibleForTesting Named(\"foo\")]\nlateinit var foo: String\n</code></pre>"},{"location":"kotlin/#bitflags","title":"BitFlags","text":"<pre><code>import kotlin.experimental.*\n\ninline fun Long.hasFlag(flag: Long): Boolean = flag and this == flag\ninline fun Long.withFlag(flag: Long): Long = this or flag\ninline fun Long.minusFlag(flag: Long): Long = this and flag.inv()\n\ninline fun Int.hasFlag(flag: Int): Boolean = flag and this == flag\ninline fun Int.withFlag(flag: Int): Int = this or flag\ninline fun Int.minusFlag(flag: Int): Int = this and flag.inv()\n\ninline fun Short.hasFlag(flag: Short): Boolean = flag and this == flag\ninline fun Short.withFlag(flag: Short): Short = this or flag\ninline fun Short.minusFlag(flag: Short): Short = this and flag.inv()\n\ninline fun Byte.hasFlag(flag: Byte): Boolean = flag and this == flag\ninline fun Byte.withFlag(flag: Byte): Byte = this or flag\ninline fun Byte.minusFlag(flag: Byte): Byte = this and flag.inv()\n</code></pre>"},{"location":"kotlin/#calling-internal-code","title":"Calling internal code","text":"<p>The internal visibility modifier means that the member is visible within the same module. \ud83d\udd17</p> project1/src/main/kotlin/Main.kt<pre><code>internal fun foo(any: Bar) = println(any)\ninternal class Bar(bar: Bar? = null)\ninternal val baz = Bar()\n</code></pre> project2/src/main/kotlin/Main.kt<pre><code>@Suppress(\"INVISIBLE_REFERENCE\", \"INVISIBLE_MEMBER\")\nfoo(Bar(baz))\n</code></pre>"},{"location":"kotlin/#check-if-a-class-is-in-the-classpath","title":"Check if a class is in the classpath","text":"<pre><code>internal inline fun &lt;R&gt; String.ifInClasspath(value: () -&gt; R): R? = if (isInClasspath()) value() else null\n\ninternal fun String.isInClasspath(): Boolean = kotlin.runCatching {\nClass.forName(this)\n}.fold(\nonSuccess = { true },\nonFailure = { false },\n)\n</code></pre>"},{"location":"kotlin/#coroutines-cancellationexception-with-runcatching","title":"Coroutine's CancellationException with runCatching","text":"<p><code>kotlin.runCatching</code> is not coroutines-aware, and therefore does not automatically rethrow <code>CancellationException</code>.</p> <pre><code>package kotlinx.coroutines\n\n/**\n * Executes [kotlin.runCatching] but rethrow any [CancellationException].\n * @see kotlin.runCatching\n */\nsuspend inline fun &lt;R&gt; runSuspendCatching(block: () -&gt; R): Result&lt;R&gt; = runCatching(block).onFailure {\nif (it is CancellationException) throw it\n}\n\n/**\n * Executes [kotlin.runCatching] but rethrow any [CancellationException].\n * @see kotlin.runCatching\n */\nsuspend inline fun &lt;T, R&gt; T.runSuspendCatching(block: T.() -&gt; R): Result&lt;R&gt; = runCatching(block).onFailure {\nif (it is CancellationException) throw it\n}\n</code></pre> <p>\ud83e\uddd1\u200d\ud83d\udcbb</p>"},{"location":"kotlin/#deeprecursivefunction","title":"DeepRecursiveFunction","text":"<p>Quote</p> <p>Defines deep recursive function that keeps its stack on the heap, which allows very deep recursive computations that do not use the actual call stack. As a rule of thumb, it should be used if recursion goes deeper than a thousand calls.</p> <pre><code>class Tree(val left: Tree? = null, val right: Tree? = null)\n\nval tree = generateSequence(Tree(), ::Tree).take(100_000).last()\n\n/* Regular recursive depth will produce a StackOverflowError */\nfun Tree?.recursiveDepth(): Int =\nif (this == null) 0 else max(left.recursiveDepth(), right.recursiveDepth()) + 1\n\nprintln(tree.recursiveDepth()) // StackOverflowError\n\n/* DeepRecursiveFunction using heap stack instead of call stack */\nval deepRecursiveDepth = DeepRecursiveFunction&lt;Tree?, Int&gt; {\nif (it == null) 0 else max(callRecursive(it.left), callRecursive(it.right)) + 1\n}\n\nprintln(deepRecursiveDepth(tree)) // \ud83d\udc4d\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"kotlin/#execute-commands-in-subprocess","title":"Execute commands in subprocess","text":"<p>On Windows (), you'll probably need to prefix the command with <code>cmd /c</code>.</p> <pre><code>/**\n * ```\n * val status: String = \"\"\"git status\"\"\".exec()\n * ```\n */\nfun @receiver:Language(\"bash\") String.exec() = Runtime.getRuntime().exec(this).text()\n\n/**\n * ```\n * val diff: String = \"\"\"git diff\"\"\".execute {\n *     environment() += (\"GIT_DIFF_OPTS\" to \"--unified=10\")\n * }.text()\n * ```\n */\nfun @receiver:Language(\"bash\") String.execute(\nworkingDir: File = Paths.get(\".\").toFile(),\nredirectOutput: ProcessBuilder.Redirect = ProcessBuilder.Redirect.PIPE,\nredirectError: ProcessBuilder.Redirect = ProcessBuilder.Redirect.PIPE,\nconfigure: ProcessBuilder.() -&gt; Unit = {},\n): Process = ProcessBuilder(\"\"\"\\s\"\"\".toRegex().split(this))\n.directory(workingDir)\n.redirectOutput(redirectOutput)\n.redirectError(redirectError)\n.apply(configure)\n.start()\n\nprivate fun Process.text() = apply { waitFor() }.inputStream.bufferedReader().use { it.readText().trim() }\n</code></pre>"},{"location":"kotlin/#expect-test-failures","title":"Expect test failures","text":"<p>The following way of checking a test throws is strongly discouraged because of this single reason: it will succeed wherever the exception comes from, including from the setup code.</p> <pre><code>@Test(expected = ArithmeticException::class)\nfun test() { /* ... */ }\n</code></pre> <p>Instead, the better solution is to use:</p> <pre><code>@Test\nfun kotlinTest() {\nkotlin.test.assertFailsWith&lt;ArithmeticException&gt; { 1/0 }\n}\n\n@Test()\nfun junit() {\norg.junit.jupiter.api.assertThrows&lt;ArithmeticException&gt; { 1/0 }\n}\n</code></pre> <p>Also, the <code>expected</code> parameter has been removed from JUnit5.</p>"},{"location":"kotlin/#extensions","title":"Extensions","text":""},{"location":"kotlin/#collections","title":"Collections","text":"<pre><code>fun &lt;T&gt; Sequence&lt;T&gt;.repeat() = sequence { while (true) yieldAll(this@repeat) }\n\nfun &lt;T&gt; Sequence&lt;T&gt;.repeat(n: Int) = sequence { repeat(n) inner@{ yieldAll(this@repeat) } }\n\ninline fun &lt;T, R&gt; Iterable&lt;T&gt;.foldInPlace(\ninitial: R,\noperation: R.(T) -&gt; Unit,\n): R = fold(initial) { acc: R, t: T -&gt; acc.apply { operation(t) } }\n\ninline fun &lt;T&gt; Iterable&lt;T&gt;.partitionIndexed(\npredicate: (index: Int, T) -&gt; Boolean,\n): Pair&lt;List&lt;T&gt;, List&lt;T&gt;&gt; = withIndex()\n.partition { (index, value) -&gt; predicate(index, value) }\n.map { it.map(IndexedValue&lt;T&gt;::value) }\n</code></pre>"},{"location":"kotlin/#maths","title":"Maths","text":"<pre><code>@JvmName(\"intProduct\")\nfun Iterable&lt;Int&gt;.product(): Long = fold(1L, Long::times)\n\n@JvmName(\"longProduct\")\nfun Iterable&lt;Long&gt;.product(): Long = fold(1L, Long::times)\n\nfun &lt;T&gt; Iterable&lt;T&gt;.cartesianSquare(): List&lt;Pair&lt;T, T&gt;&gt; = flatMap { v -&gt; map { v to it } }\n\n/**\n * Euclid's algorithm for finding the greatest common divisor of a and b.\n */\nfun gcd(a: Int, b: Int): Int = if (b == 0) a.absoluteValue else gcd(b, a % b)\nfun gcd(f: Int, vararg n: Int): Int = n.fold(f, ::gcd)\nfun Iterable&lt;Int&gt;.gcd(): Int = reduce(::gcd)\n\n/**\n * Euclid's algorithm for finding the greatest common divisor of a and b.\n */\nfun gcd(a: Long, b: Long): Long = if (b == 0L) a.absoluteValue else gcd(b, a % b)\nfun gcd(f: Long, vararg n: Long): Long = n.fold(f, ::gcd)\nfun Iterable&lt;Long&gt;.gcd(): Long = reduce(::gcd)\n\n/**\n * Find the least common multiple of a and b using the gcd of a and b.\n */\nfun lcm(a: Int, b: Int) = (a * b) / gcd(a, b)\nfun lcm(f: Int, vararg n: Int): Long = n.map { it.toLong() }.fold(f.toLong(), ::lcm)\nfun Iterable&lt;Int&gt;.lcm(): Long = map { it.toLong() }.reduce(::lcm)\n\n/**\n * Find the least common multiple of a and b using the gcd of a and b.\n */\nfun lcm(a: Long, b: Long) = (a * b) / gcd(a, b)\nfun lcm(f: Long, vararg n: Long): Long = n.fold(f, ::lcm)\nfun Iterable&lt;Long&gt;.lcm(): Long = reduce(::lcm)\n\n/**\n * Simple algorithm to find the primes of the given Long.\n */\nfun Long.primes(): Sequence&lt;Long&gt; = sequence {\nvar n = this@primes\nvar j = 2L\nwhile (j * j &lt;= n) {\nwhile (n % j == 0L) {\nyield(j)\nn /= j\n}\nj++\n}\nif (n &gt; 1) yield(n)\n}\n</code></pre>"},{"location":"kotlin/#misc","title":"Misc","text":"<pre><code>inline fun &lt;reified T : Any&gt; Any?.cast(): T = this as T\n\noperator fun String.times(n: Int) = repeat(n)\n\nfun &lt;A, B&gt; Pair&lt;A, B&gt;.swap(): Pair&lt;B, A&gt; = Pair(second, first)\n\ninline fun &lt;T, R&gt; Pair&lt;T, T&gt;.map(transform: (T) -&gt; R): Pair&lt;R, R&gt; = transform(first) to transform(second)\n</code></pre>"},{"location":"kotlin/#normalize-line-endings","title":"Normalize line endings","text":"<pre><code>fun String.normalizeLineEndings(\nreplacement: String = System.lineSeparator(),\n) = replace(\"\"\"\\r\\n?\"\"\".toRegex(), replacement)\n</code></pre>"},{"location":"kotlin/#permutations-combinations","title":"Permutations &amp; Combinations","text":"<pre><code>fun &lt;T&gt; List&lt;T&gt;.permutations(): List&lt;List&lt;T&gt;&gt; {\nif (isEmpty()) return emptyList()\nif (size == 1) return listOf(this)\nval elementToInsert = first()\nreturn drop(1).permutations().flatMap { p -&gt; List(size) { p.toMutableList().apply { add(it, elementToInsert) } } }\n}\n\nfun &lt;T&gt; List&lt;T&gt;.permutationsSequence(): Sequence&lt;List&lt;T&gt;&gt; {\nif (isEmpty()) return emptySequence()\nif (size == 1) return sequenceOf(this)\nval elementToInsert = first()\nreturn drop(1).permutationsSequence()\n.flatMap { p -&gt; List(size) { p.toMutableList().apply { add(it, elementToInsert) } } }\n}\n\nfun &lt;T&gt; List&lt;T&gt;.pairs(): Sequence&lt;Pair&lt;T, T&gt;&gt; = sequence {\nfor (i in 0 until size - 1)\nfor (j in i + 1 until size) {\nyield(this@pairs[i] to this@pairs[j])\nyield(this@pairs[j] to this@pairs[i])\n}\n}\n</code></pre>"},{"location":"kotlin/#filter-non-null-values-in-a-map","title":"Filter non-null values in a Map","text":"<p>Kotlin already has a <code>Iterable&lt;T?&gt;.filterNotNull(): List&lt;T&gt;</code> but nothing for <code>Map</code>s. \ud83e\udd37</p> <pre><code>/**\n * Returns a map containing all key-value pairs with values that are not `null`.\n * The returned map preserves the entry iteration order of the original map.\n *\n * @see filterNotNull\n */\n@Suppress(\"UNCHECKED_CAST\")\nfun &lt;K, V: Any&gt; Map&lt;K, V?&gt;.filterNotNullValues(): Map&lt;K, V&gt; = filterValues { it != null } as Map&lt;K, V&gt;\n</code></pre>"},{"location":"kotlin/#implicit-lamda-result-with-run-and-let","title":"Implicit lamda result with run and let","text":"<p>When using the following syntax, both doSomething() and fallback() will be exectued when the return value of the lambda is null.</p> <pre><code>// AVOID\nsomethingNullable?.run { doSomething() } ?: fallback()\nsomethingNullable?.let { it.doSomething() } ?: fallback()\n// PREFER\nsomethingNullable?.also { it.doSomething() } ?: fallback()\n</code></pre>"},{"location":"kotlin/#infinitely-repeating-sequence","title":"Infinitely repeating Sequence","text":"<pre><code>fun &lt;T&gt; Sequence&lt;T&gt;.repeat() = sequence { while (true) yieldAll(this@repeat) }\nfun &lt;T&gt; Sequence&lt;T&gt;.repeat(n: Int) = sequence { repeat(n) inner@{ yieldAll(this@repeat) } }\n</code></pre>"},{"location":"kotlin/#invoke-operator-on-companion-objects","title":"Invoke operator on Companion objects","text":"<pre><code>class Operation {\ncompanion object {\noperator fun invoke(block: () -&gt; Unit) = block()\n}\n}\n\nfun main() = Operation { }\n</code></pre>"},{"location":"kotlin/#invoke-operator-on-coroutines-dispatchers","title":"Invoke operator on Coroutines Dispatchers","text":"<pre><code>import kotlinx.coroutines.invoke\nimport kotlinx.coroutines.Dispatchers.IO\n\nsuspend fun main() = IO { /* ... */ }\n</code></pre>"},{"location":"kotlin/#kotlin-script","title":"Kotlin script","text":"<ul> <li>REPL Worksheet file <code>*.ws.kts</code></li> <li>Simple but extendable utility scripts <code>*.main.kts</code> \ud83d\udd17 Keep \ud83d\udd17 Github \ud83d\udd17 Docs</li> </ul> <pre><code>#!/usr/bin/env kotlin\n\n@file:Repository(\"https://repo1.maven.org/maven2\")\n@file:DependsOn(\"org.jetbrains.kotlinx:kotlinx-coroutines-core:1.6.0\")\n@file:CompilerOptions(\"-Xopt-in=kotlinx.coroutines.ExperimentalCoroutinesApi\")\n\nimport kotlinx.coroutines.runBlocking\n\n\nrunBlocking { println(\"Hello, World!\")\n}\n</code></pre>"},{"location":"kotlin/#language-injection","title":"Language injection","text":"<pre><code>@org.intellij.lang.annotations.Language(\"JSON\")\nval json = \"\"\"{\"key\": \"value\"}\"\"\"\n\nprintln(/*language=JSON*/ \"\"\"{\"key\": \"value\"}\"\"\")\n</code></pre>"},{"location":"kotlin/#lazymutable","title":"LazyMutable","text":"<pre><code>var lazyMutable by lazyMutable { Random.nextInt() }\n\nfun &lt;T&gt; lazyMutable(initializer: () -&gt; T): LazyMutable&lt;T&gt; = LazyMutable(initializer)\n\nclass LazyMutable&lt;T&gt;(val initializer: () -&gt; T) : ReadWriteProperty&lt;Any?, T&gt; {\n\nprivate object NotInitialized\n\nprivate var prop: Any? = NotInitialized\n\n@Suppress(\"UNCHECKED_CAST\")\noverride fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): T =\nif (prop == NotInitialized) {\nsynchronized(this) {\nreturn if (prop == NotInitialized) initializer().also { prop = it } else prop as T\n}\n} else prop as T\n\noverride fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: T) = synchronized(this) {\nprop = value\n}\n}\n</code></pre>"},{"location":"kotlin/#maincoroutinerule","title":"MainCoroutineRule","text":"<p>\ud83d\udd17</p> <pre><code>import kotlinx.coroutines.Dispatchers\nimport kotlinx.coroutines.ExperimentalCoroutinesApi\nimport kotlinx.coroutines.test.StandardTestDispatcher\nimport kotlinx.coroutines.test.UnconfinedTestDispatcher\nimport kotlinx.coroutines.test.resetMain\nimport kotlinx.coroutines.test.setMain\nimport org.junit.rules.TestWatcher\nimport org.junit.runner.Description\n\n/**\n * Sets the main coroutines dispatcher to a [StandardTestDispatcher] for unit testing.\n * A [StandardTestDispatcher] provides control over the execution of coroutines.\n * Alternatively, you can use an [UnconfinedTestDispatcher].\n *\n * Declare it as a JUnit Rule:\n *\n * ```\n * @get:Rule\n * var mainCoroutineRule = MainCoroutineRule()\n * ```\n *\n * Then, use `runTest` to execute your tests.\n */\n@ExperimentalCoroutinesApi\nclass MainCoroutineRule(val dispatcher: TestDispatcher = StandardTestDispatcher()) : TestWatcher() {\n\noverride fun starting(description: Description) = Dispatchers.setMain(dispatcher)\n\noverride fun finished(description: Description) = Dispatchers.resetMain()\n\n}\n</code></pre>"},{"location":"kotlin/#map-parallelized","title":"Map parallelized","text":"<pre><code>suspend fun &lt;T, R&gt; Iterable&lt;T&gt;.mapParallelized(\npermits: Int = Int.MAX_VALUE,\ntransform: suspend (T) -&gt; R,\n): List&lt;R&gt; = coroutineScope {\nval semaphore = Semaphore(permits)\nmap { async { semaphore.withPermit { transform(it) } } }.awaitAll()\n}\n\nsuspend fun &lt;T, R&gt; Iterable&lt;T&gt;.mapParallelized(\ndispatcher: CoroutineDispatcher = Dispatchers.Default,\nparallelism: Int = Int.MAX_VALUE,\ntransform: suspend (T) -&gt; R,\n): List&lt;R&gt; = coroutineScope {\nval limited = dispatcher.limitedParallelism(parallelism)\nmap { async(limited) { transform(it) } }.awaitAll()\n}\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"kotlin/#migrate-source-folders-from-java-to-kotlin","title":"Migrate source folders from Java to Kotlin","text":"<pre><code>find . -depth -type d -path \"*/src/*\" -name \"java\" -exec git mv \"{}\" \"{}\"/../kotlin \\;\n</code></pre>"},{"location":"kotlin/#mockk-extension-to-wait-indefinitely","title":"MockK extension to wait indefinitely","text":"<pre><code>import io.mockk.*\nimport kotlinx.coroutines.*\n\n/**\n * Stub block to never return.\n *\n * Used to define what behaviour is going to be mocked.\n * @see [io.mockk.coJustRun]\n */\nfun coJustAwait(\nstubBlock: suspend MockKMatcherScope.() -&gt; Unit\n) = coEvery(stubBlock) coAnswers {\nawaitCancellation()\n}\n</code></pre>"},{"location":"kotlin/#nowhenbranchmatchedexception","title":"NoWhenBranchMatchedException","text":"<p>Using the <code>java.io.Serializable</code> interface (or custom <code>android.os.Parcelable</code> code) for sealed classe objects might lead to <code>kotlin.NoWhenBranchMatchedException</code> while using the Kotlin's <code>when</code> expression. The reason is fairly simple but not obvious\u2026</p> <p>When an object is serialized and then deserialized, the result won't be the same object instance anymore. But unfortunately, the Kotlin compiler does not warn us about this. Which means the following test code will fail without any warning:</p> <pre><code>sealed class SealedClass : Serializable {\nobject SealedObject: SealedClass()\n}\n\n@Test\nfun test() = SealedObject.serialize().deserialize&lt;SealedObject&gt;().check()\n\nfun SealedClass.check() = when(this) {\nSealedObject -&gt; Unit\n// This will crash here with: kotlin.NoWhenBranchMatchedException\n}\n</code></pre> <p>Even the <code>Add remaining branches</code> context action will fall into this issue.  What must be done instead is to check for structural equality (<code>==</code>) instead of referential equality (<code>===</code>).</p> <pre><code>fun SealedClass.check() = when(this) {\nis SealedObject -&gt; Unit\n// This will no longer crash\n}\n</code></pre> <p>This is also the case when creating mock objects (with MockK or Mockito).</p>"},{"location":"kotlin/#property-delegate-to-cancel-previous-job","title":"Property delegate to cancel previous Job","text":"<pre><code>import kotlinx.coroutines.Job\nimport kotlin.properties.ReadWriteProperty\nimport kotlin.reflect.KProperty\n\n/**\n * This delegate takes care of cancelling the previous [Job] when a new one is assigned.\n */\nclass CancelPreviousJob : ReadWriteProperty&lt;Any?, Job?&gt; {\nprivate var job: Job? = null\noverride operator fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): Job? = job\noverride operator fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: Job?) {\njob?.cancel()\njob = value\n}\n}\n</code></pre> <pre><code>var job by CancelPreviousJob()\njob = launch { /* ... */ }\n/* ... */\njob = launch { /* ... */ }\n</code></pre>"},{"location":"kotlin/#read-resource-file","title":"Read resource file","text":"<pre><code>object Resources {\nfun readText(name: String): String = this::class.java.classLoader.getResource(name)?.readText().orEmpty()\n}\n</code></pre>"},{"location":"kotlin/#recursive-flatmap","title":"Recursive flatMap","text":"<pre><code>internal fun &lt;T&gt; T.recursiveFlatMap(\ntransform: (T) -&gt; Iterable&lt;T&gt;,\n): List&lt;T&gt; = listOf(this) + transform(this).flatMap {\nit.recursiveFlatMap(transform)\n}\n</code></pre> <pre><code>data class Node(val id: String, val children: List&lt;Node&gt; = emptyList())\n\nval node = Node(\"1\", children = listOf(Node(\"2\", children = listOf(Node(\"3\")))))\nval nodes = node.recursiveFlatMap(Node::children)\n// [Node(id=1, children=[Node(id=2, children=[Node(id=3)])]), Node(id=2, children=[Node(id=3)]), Node(id=3)]\n</code></pre>"},{"location":"kotlin/#regex-destructuring","title":"Regex destructuring","text":"<pre><code>val regex = \"\"\"(\\d+)-(\\d+)-(\\d+)\"\"\".toRegex()\n\nfun String.toDate(input: String): Date? = regex.find(this)\n?.destructured\n?.let { (y, m, d) -&gt;\nDate(year = y.toInt(), month = m.toInt(), day = d.toInt())\n}\n</code></pre>"},{"location":"kotlin/#regex-destructuring-capturing-groups","title":"Regex destructuring capturing groups","text":"<pre><code>operator fun MatchResult.getValue(\nthisRef: Any?,\nproperty: KProperty&lt;*&gt;\n): String = groups[property.name]!!.value\n\nval regex = \"\"\"(?&lt;year&gt;\\d{4})-(?&lt;month&gt;\\d{1,2})-(?&lt;day&gt;\\d{1,2})\"\"\".toRegex()\nval result = regex.find(\"2022-10-12\") ?: return\n\nval year: String by result\nval month: String by result\nval day: String by result\n\nprintln(\"$year-$month-$day\")\n</code></pre>"},{"location":"kotlin/#reified-generic-in-virtual-functions","title":"Reified generic in virtual functions","text":"<pre><code>interface Repository&lt;T: Any&gt; {\nfun get(key: String, clazz: KClass&lt;T&gt;) : T\n}\n\ninline fun &lt;reified T: Any&gt; Repository&lt;T&gt;.get(key: String): T = get(key, T::class)\n\nfun main(repository: Repository&lt;Int&gt;) {\nval int = repository[\"key\", Int::class]\n// becomes\nval int = repository[\"key\"]\n}\n</code></pre>"},{"location":"kotlin/#require-an-instance-type","title":"Require an instance type","text":"<pre><code>import kotlin.contracts.*\n\n/**\n * Throws an [IllegalArgumentException] if the [value] is not of type [T].\n */\n@OptIn(ExperimentalContracts::class)\ninline fun &lt;reified T&gt; requireInstanceOf(value: Any?): T {\ncontract { returns() implies (value is T) }\nreturn requireInstanceOf(value) {\n\"Required value was ${if (value == null) \"null\" else value::class.qualifiedName} instead of ${T::class.qualifiedName}\"\n}\n}\n\n/**\n * Throws an [IllegalArgumentException] with the result of calling [lazyMessage] if the [value] is not of type [T].\n */\n@OptIn(ExperimentalContracts::class)\ninline fun &lt;reified T&gt; requireInstanceOf(value: Any?, lazyMessage: () -&gt; Any): T {\ncontract { returns() implies (value is T) }\nrequire(value is T, lazyMessage)\nreturn value\n}\n</code></pre>"},{"location":"kotlin/#retry-coroutine-operations","title":"Retry coroutine operations","text":"<pre><code>import kotlinx.coroutines.*\nimport kotlin.time.*\n\nsuspend fun &lt;T&gt; retry(\ntimes: Int,\ndelay: Duration,\nblock: suspend  () -&gt; T,\n): T {\nrequire(times &gt; 1) { \"Expected times &gt; 1, but had $times\" }\nrepeat(times - 1) {\nkotlin.runCatching { block() }\n.onSuccess { return it }\n.onFailure { delay(delay) }\n}\nreturn block()\n}\n</code></pre>"},{"location":"kotlin/#sealed-object-instances","title":"Sealed object instances","text":"<p> SimonMarquis/SealedObjectInstances</p> <pre><code>import kotlin.reflect.KClass\n\nfun &lt;T : Any&gt; KClass&lt;T&gt;.sealedObjectInstances() = recursiveSealedObjectInstances()\n\nprivate tailrec fun &lt;T : Any&gt; KClass&lt;T&gt;.recursiveSealedObjectInstances(\nsealedSubclasses: List&lt;KClass&lt;out T&gt;&gt; = listOf(this),\nacc: Set&lt;T&gt; = emptySet(),\n): Set&lt;T&gt; = when {\nsealedSubclasses.isEmpty() -&gt; acc\nelse -&gt; recursiveSealedObjectInstances(\nacc = acc + sealedSubclasses.mapNotNull { it.objectInstance },\nsealedSubclasses = sealedSubclasses.flatMap { it.sealedSubclasses },\n)\n}\n</code></pre> <pre><code>fun main() = Sealed::class.sealedObjectInstances()\n.joinToString(separator = \"\\n\") { it.javaClass.name }\n.let(::println)\n\n// Sealed$SealedObject\n// Sealed$SealedObject$NestedSealedObject\n// ExternalSealedObject\n// Sealed$SubSealed$SubSealedObject\n\nsealed class Sealed {\nobject SealedObject : Sealed() {\nobject NestedSealedObject : Sealed()\n}\nsealed class SubSealed : Sealed() {\nobject SubSealedObject : SubSealed()\ndata class DataSubSealed(val any: Any) : SubSealed()\n}\n}\nobject ExternalSealedObject : Sealed()\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"kotlin/#semver","title":"SemVer","text":"<pre><code>data class SemVer(\nval major: Int = 0,\nval minor: Int = 0,\nval patch: Int = 0,\nval label: String? = null\n) : Comparable&lt;SemVer&gt; {\n\ncompanion object {\nfun parse(version: String): SemVer {\nval pattern = Regex(\"\"\"(\\d+)(?:\\.(\\d+)(?:\\.(\\d+))?)?(?:-(.+))?\"\"\")\nval result = pattern.matchEntire(version)\n?: throw IllegalArgumentException(\"Invalid version string [$version]\")\nreturn SemVer(\nmajor = result.groupValues[1].toIntOrNull() ?: 0,\nminor = result.groupValues[2].toIntOrNull() ?: 0,\npatch = result.groupValues[3].toIntOrNull() ?: 0,\nlabel = result.groupValues[4].let { it.ifEmpty { null } }\n)\n}\n}\n\ninit {\nrequire(major &gt;= 0) { \"Major version must be a positive number\" }\nrequire(minor &gt;= 0) { \"Minor version must be a positive number\" }\nrequire(patch &gt;= 0) { \"Patch version must be a positive number\" }\nlabel?.let { require(it.matches(Regex(\"\"\".+\"\"\"))) { \"Label is not valid\" } }\n}\n\noverride fun toString(): String = buildString {\nappend(\"$major.$minor.$patch\")\nlabel?.let { append(\"-$it\") }\n}\n\n/**\n     * @return a negative integer, zero, or a positive integer as this object is less than, equal to, or greater than the specified object.\n     */\noverride fun compareTo(other: SemVer): Int {\nif (major != other.major) return major.compareTo(other.major)\nif (minor != other.minor) return minor.compareTo(other.minor)\nif (patch != other.patch) return patch.compareTo(other.patch)\nif (label == other.label) return 0\nif (label.isNullOrEmpty()) return 1 // 1.0.0 &gt; 1.0.0-alpha\nif (other.label.isNullOrEmpty()) return -1  // 1.0.0-alpha &lt; 1.0.0\nreturn label.compareTo(other.label, ignoreCase = true)\n}\n\n}\n</code></pre>"},{"location":"kotlin/#singleton","title":"Singleton","text":"<pre><code>open class Singleton&lt;out T, in A&gt;(creator: (A) -&gt; T) {\n\nprivate var creator: ((A) -&gt; T)? = creator\n\n@Volatile\nprivate var instance: T? = null\n\nfun instance(arg: A): T {\nval i = instance\nif (i != null) return i\nreturn synchronized(this) {\nval i2 = instance\nif (i2 != null) {\ni2\n} else {\nval created = creator!!(arg)\ninstance = created\ncreator = null\ncreated\n}\n}\n}\n}\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"kotlin/#synchronize-a-map-with-a-new-map-of-values","title":"Synchronize a Map with a new Map of values","text":"<pre><code>/**\n * Synchronize this [MutableMap] with a new [Map] of items, based on their keys.\n * @param onRemoved is called for each removed entry.\n * @param update is called for each entry that must be updated, with the corresponding [T] data.\n * @param onAdded is called for each new entry that must be inserted, and for which you need to provide a corresponding [Value].\n */\nfun &lt;Key, Value, T&gt; MutableMap&lt;Key, Value&gt;.sync(\nitems: Map&lt;Key, T&gt;,\nonRemoved: (entry: Map.Entry&lt;Key, Value&gt;) -&gt; Unit,\nupdate: (entry: MutableMap.MutableEntry&lt;Key, Value&gt;, data: T) -&gt; Unit,\nonAdded: (entry: Map.Entry&lt;Key, T&gt;) -&gt; Value,\n) = apply {\nval itemsToRemove = filterKeys { it !in items }\nval itemsToUpdate = items.filterKeys { it in this }\nval itemsToAdd = items.filterKeys { it !in this }\n\n// Remove\nentries.removeAll(itemsToRemove.entries)\nitemsToRemove.forEach { onRemoved(it) }\n\n// Update\nentries.forEach { update(it, itemsToUpdate[it.key]!!) }\n\n// Add\nitemsToAdd.forEach { put(it.key, onAdded(it)) }\n}\n</code></pre>"},{"location":"kotlin/#takewhileinclusive","title":"takeWhileInclusive","text":"<p>Similar to <code>fun &lt;T&gt; Sequence&lt;T&gt;.takeWhile(predicate: (T) -&gt; Boolean): Sequence&lt;T&gt;</code> but also includes the next non-matching element as well.</p> <pre><code>fun &lt;T&gt; Sequence&lt;T&gt;.takeWhileInclusive(predicate: (T) -&gt; Boolean): Sequence&lt;T&gt; {\nvar shouldContinue = true\nreturn takeWhile { shouldContinue.also { _ -&gt; shouldContinue = predicate(it) } }\n}\n</code></pre> <p>\ud83d\udd17 \ud83d\udd17</p>"},{"location":"kotlin/#timeout-for-async-operations","title":"Timeout for async operations","text":"<pre><code>suspend fun &lt;T&gt; Deferred&lt;T&gt;.await(\nduration: Duration,\ndefaultValue: T,\n): T = withTimeout(duration) { await() } ?: defaultValue\n</code></pre>"},{"location":"kotlin/#warnings-as-errors","title":"Warnings as errors","text":"<pre><code>tasks.withType&lt;KotlinCompile&gt; {\nkotlinOptions {\nallWarningsAsErrors = true\n}\n}\n</code></pre>"},{"location":"mac/","title":"\ud83c\udf4e Mac","text":""},{"location":"mac/#alttab","title":"AltTab","text":"<p>AltTab brings the power of Windows alt-tab to macOS.</p>"},{"location":"mac/#brewfile","title":"Brewfile","text":"<pre><code># Generate Brewfile\nbrew bundle dump\n\n# Install content of Brewfile\nbrew bundle install --file &lt;path&gt;\n</code></pre> Personal Brewfile <pre><code>tap \"hashicorp/tap\"\ntap \"homebrew/bundle\"\ntap \"homebrew/cask\"\ntap \"homebrew/core\"\ntap \"jakewharton/repo\"\ntap \"mdogan/zulu\"\nbrew \"jpeg-xl\"\nbrew \"autojump\"\nbrew \"bat\"\nbrew \"cloc\"\nbrew \"commitizen\"\nbrew \"coreutils\"\nbrew \"fdupes\"\nbrew \"unbound\"\nbrew \"gnutls\"\nbrew \"tesseract\"\nbrew \"ffmpeg\"\nbrew \"node\"\nbrew \"firebase-cli\"\nbrew \"gh\"\nbrew \"git-lfs\"\nbrew \"python@3.10\"\nbrew \"git-review\"\nbrew \"gitleaks\"\nbrew \"gnupg\"\nbrew \"gping\"\nbrew \"libheif\"\nbrew \"libraw\"\nbrew \"imagemagick\"\nbrew \"jadx\"\nbrew \"jdupes\"\nbrew \"jq\"\nbrew \"kdoctor\"\nbrew \"kotlin\"\nbrew \"mitmproxy\"\nbrew \"mkdocs\"\nbrew \"ncdu\"\nbrew \"node-sass\"\nbrew \"node@14\"\nbrew \"pinentry-mac\"\nbrew \"scrcpy\"\nbrew \"tree\"\nbrew \"hashicorp/tap/vault\"\nbrew \"jakewharton/repo/dependency-watch\"\nbrew \"jakewharton/repo/diffuse\"\ncask \"android-platform-tools\"\ncask \"docker\"\ncask \"flipper\"\ncask \"google-cloud-sdk\"\ncask \"keystore-explorer\"\ncask \"stats\"\ncask \"zulu-jdk11\"\ncask \"zulu-jdk17\"\n</code></pre>"},{"location":"mac/#defaults","title":"Defaults","text":"<pre><code># Set the icon size of Dock items in pixels.\ndefaults write com.apple.dock \"tilesize\" -int 36 &amp;&amp; killall Dock\n# Show recently used apps in a separate section of the Dock.\ndefaults write com.apple.dock \"show-recents\" -bool false &amp;&amp; killall Dock\n# Change the Dock minimize animation.\ndefaults write com.apple.dock \"mineffect\" -string \"scale\" &amp;&amp; killall Dock\n# Faster keyboard execution.\ndefaults write NSGlobalDomain InitialKeyRepeat -int 15\ndefaults write NSGlobalDomain KeyRepeat -int 2\n# Show all file extensions in the Finder.\ndefaults write NSGlobalDomain \"AppleShowAllExtensions\" -bool true &amp;&amp; killall Finder\n# Show hidden files in the Finder.\ndefaults write com.apple.finder \"AppleShowAllFiles\" -bool true &amp;&amp; killall Finder\n# Show path bar in the bottom of the Finder windows\ndefaults write com.apple.finder \"ShowPathbar\" -bool true &amp;&amp; killall Finder\n# Choose whether to display a warning when changing a file extension.\ndefaults write com.apple.finder \"FXEnableExtensionChangeWarning\" -bool false &amp;&amp; killall Finder\n# Flash clock time separators\ndefaults write com.apple.menuextra.clock \"FlashDateSeparators\" -bool true &amp;&amp; killall SystemUIServer\n# Set menubar digital clock format\ndefaults write com.apple.menuextra.clock \"DateFormat\" -string \"\\\"EEE d MMM HH:mm:ss\\\"\" &amp;&amp; killall SystemUIServer\n# How frequently Activity Monitor should update its data, in seconds.\ndefaults write com.apple.ActivityMonitor \"UpdatePeriod\" -int 1 &amp;&amp; killall Activity\\ Monitor\n# Disable full stop with double-space.\ndefaults write NSGlobalDomain NSAutomaticPeriodSubstitutionEnabled -bool false\n# Disable automatic capitalization\ndefaults write NSGlobalDomain NSAutomaticCapitalizationEnabled -bool false\n# Disable smart dashes\ndefaults write NSGlobalDomain NSAutomaticDashSubstitutionEnabled -bool false\n# Disable smart quotes\ndefaults write NSGlobalDomain NSAutomaticQuoteSubstitutionEnabled -bool false\n# Disable auto-correct\ndefaults write NSGlobalDomain NSAutomaticSpellingCorrectionEnabled -bool false\n# Disable the annoying line marks\ndefaults write com.apple.Terminal ShowLineMarks -bool false\n\n# Restart the service in order to propagate changes.\nkillall SystemUIServer\n</code></pre>"},{"location":"mac/#karabiner","title":"Karabiner","text":"<p>Karabiner-Elements is a powerful utility for keyboard customization on macOS Location: <code>~/.config/karabiner</code></p> <p>PC-Style configuration:</p> <pre><code>{\n\"global\":{\n\"check_for_updates_on_startup\":true,\"show_in_menu_bar\":true,\"show_profile_name_in_menu_bar\":false},\n\"profiles\":[\n{\n\"complex_modifications\": {\n\"parameters\":{\"basic.simultaneous_threshold_milliseconds\":50,\"basic.to_delayed_action_delay_milliseconds\":500,\"basic.to_if_alone_timeout_milliseconds\":1000,\"basic.to_if_held_down_threshold_milliseconds\":500,\"mouse_motion_to_scroll.speed\":100},\n\"rules\":[\n{\"description\":\"Option(Alt)+Tab as Switch Application (Command+Tab)\",\"manipulators\":[{\"from\":{\"key_code\":\"tab\",\"modifiers\":{\"mandatory\":[\"option\"],\"optional\":[\"any\"]}},\"to\":[{\"key_code\":\"tab\",\"modifiers\":[\"left_command\"]}],\"type\":\"basic\"}]},\n{\"description\":\"PC-Style Copy/Paste/Cut\",\"manipulators\":[{\"from\":{\"key_code\":\"c\",\"modifiers\":{\"mandatory\":[\"control\"],\"optional\":[\"left_shift\"]}},\"to\":[{\"key_code\":\"c\",\"modifiers\":[\"left_command\"]}],\"type\":\"basic\"},{\"from\":{\"key_code\":\"v\",\"modifiers\":{\"mandatory\":[\"control\"],\"optional\":[\"left_shift\"]}},\"to\":[{\"key_code\":\"v\",\"modifiers\":[\"left_command\"]}],\"type\":\"basic\"},{\"from\":{\"key_code\":\"x\",\"modifiers\":{\"mandatory\":[\"control\"],\"optional\":[\"left_shift\"]}},\"to\":[{\"key_code\":\"x\",\"modifiers\":[\"left_command\"]}],\"type\":\"basic\"}]},\n{\"description\":\"PC-Style Undo\",\"manipulators\":[{\"from\":{\"key_code\":\"z\",\"modifiers\":{\"mandatory\":[\"control\"],\"optional\":[\"left_shift\"]}},\"to\":[{\"key_code\":\"z\",\"modifiers\":[\"left_command\"]}],\"type\":\"basic\"}]},\n{\"description\":\"PC-Style Select-All\",\"manipulators\":[{\"from\":{\"key_code\":\"a\",\"modifiers\":{\"mandatory\":[\"control\"],\"optional\":[\"left_shift\"]}},\"to\":[{\"key_code\":\"a\",\"modifiers\":[\"left_command\"]}],\"type\":\"basic\"}]},\n{\"description\":\"PC-Style Save\",\"manipulators\":[{\"from\":{\"key_code\":\"s\",\"modifiers\":{\"mandatory\":[\"control\"],\"optional\":[\"left_shift\"]}},\"to\":[{\"key_code\":\"s\",\"modifiers\":[\"left_command\"]}],\"type\":\"basic\"}]},\n{\"description\":\"PC-Style New\",\"manipulators\":[{\"from\":{\"key_code\":\"n\",\"modifiers\":{\"mandatory\":[\"control\"],\"optional\":[\"left_shift\"]}},\"to\":[{\"key_code\":\"n\",\"modifiers\":[\"left_command\"]}],\"type\":\"basic\"}]},\n{\"description\":\"PC-Style Command Palette\",\"manipulators\":[{\"from\":{\"key_code\":\"p\",\"modifiers\":{\"mandatory\":[\"control\"],\"optional\":[\"left_shift\"]}},\"to\":[{\"key_code\":\"p\",\"modifiers\":[\"left_command\"]}],\"type\":\"basic\"}]},\n{\"description\":\"PC-Style Reload(F5, Ctrl+R)\",\"manipulators\":[{\"from\":{\"key_code\":\"r\",\"modifiers\":{\"mandatory\":[\"control\"],\"optional\":[\"left_shift\"]}},\"to\":[{\"key_code\":\"r\",\"modifiers\":[\"left_command\"]}],\"type\":\"basic\"},{\"from\":{\"key_code\":\"f5\",\"modifiers\":{\"optional\":[\"any\"]}},\"to\":[{\"key_code\":\"r\",\"modifiers\":[\"left_command\"]}],\"type\":\"basic\"}]},\n{\"description\":\"PC-Style New Tab\",\"manipulators\":[{\"from\":{\"key_code\":\"t\",\"modifiers\":{\"mandatory\":[\"control\"],\"optional\":[\"left_shift\"]}},\"to\":[{\"key_code\":\"t\",\"modifiers\":[\"left_command\"]}],\"type\":\"basic\"}]},\n{\"description\":\"PC-Style Find\",\"manipulators\":[{\"from\":{\"key_code\":\"f\",\"modifiers\":{\"mandatory\":[\"control\"],\"optional\":[\"left_shift\"]}},\"to\":[{\"key_code\":\"f\",\"modifiers\":[\"left_command\"]}],\"type\":\"basic\"},{\"from\":{\"key_code\":\"g\",\"modifiers\":{\"mandatory\":[\"control\"],\"optional\":[\"left_shift\"]}},\"to\":[{\"key_code\":\"g\",\"modifiers\":[\"left_command\"]}],\"type\":\"basic\"}]},\n{\"description\":\"PC-Style Open\",\"manipulators\":[{\"from\":{\"key_code\":\"o\",\"modifiers\":{\"mandatory\":[\"control\"],\"optional\":[\"left_shift\"]}},\"to\":[{\"key_code\":\"o\",\"modifiers\":[\"left_command\"]}],\"type\":\"basic\"}]},\n{\"description\":\"PC-Style Bold/Italic/Underline(Ctrl+B/I/U)\",\"manipulators\":[{\"from\":{\"key_code\":\"b\",\"modifiers\":{\"mandatory\":[\"control\"],\"optional\":[\"left_shift\"]}},\"to\":[{\"key_code\":\"b\",\"modifiers\":[\"left_command\"]}],\"type\":\"basic\"},{\"from\":{\"key_code\":\"i\",\"modifiers\":{\"mandatory\":[\"control\"],\"optional\":[\"left_shift\"]}},\"to\":[{\"key_code\":\"i\",\"modifiers\":[\"left_command\"]}],\"type\":\"basic\"},{\"from\":{\"key_code\":\"u\",\"modifiers\":{\"mandatory\":[\"control\"],\"optional\":[\"left_shift\"]}},\"to\":[{\"key_code\":\"u\",\"modifiers\":[\"left_command\"]}],\"type\":\"basic\"}]},\n{\"description\":\"PC-Style Close Window\",\"manipulators\":[{\"from\":{\"key_code\":\"w\",\"modifiers\":{\"mandatory\":[\"control\"],\"optional\":[\"left_shift\"]}},\"to\":[{\"key_code\":\"w\",\"modifiers\":[\"left_command\"]}],\"type\":\"basic\"}]},\n{\"description\":\"PC-Style Emoji Picker (Command+.)\",\"manipulators\":[{\"from\":{\"key_code\":\"period\",\"modifiers\":{\"mandatory\":[\"command\"]}},\"to\":[{\"key_code\":\"spacebar\",\"modifiers\":[\"left_control\",\"left_command\"]}],\"type\":\"basic\"}]},\n{\"description\":\"PC-Style Lock Screen\",\"manipulators\":[{\"from\":{\"key_code\":\"l\",\"modifiers\":{\"mandatory\":[\"option\"]}},\"to\":[{\"key_code\":\"power\",\"modifiers\":[\"left_control\",\"left_shift\"]}],\"type\":\"basic\"}]},\n{\"description\":\"PC-Style Quit Application (Alt+F4 to Command+Q)\",\"manipulators\":[{\"from\":{\"key_code\":\"f4\",\"modifiers\":{\"mandatory\":[\"option\"]}},\"to\":[{\"key_code\":\"q\",\"modifiers\":[\"left_command\"]}],\"type\":\"basic\"}]},\n{\"description\":\"Command+E Opens Finder\",\"manipulators\":[{\"from\":{\"key_code\":\"e\",\"modifiers\":{\"mandatory\":[\"option\"]}},\"to\":[{\"shell_command\":\"open -a 'Finder.app'\"}],\"type\":\"basic\"}]},\n{\"description\":\"Control+Shift+Esc Opens Activity Monitor\",\"manipulators\":[{\"from\":{\"key_code\":\"escape\",\"modifiers\":{\"mandatory\":[\"control\",\"shift\"]}},\"to\":[{\"shell_command\":\"open -a 'Activity Monitor.app'\"}],\"type\":\"basic\"}]},\n{\"description\":\"PC-Style Back/Forward (Alt+Left Arrow/Alt+Right Arrow)\",\"manipulators\":[{\"conditions\":[{\"bundle_identifiers\":[\"^org\\\\.mozilla\\\\.firefox$\",\"^org\\\\.mozilla\\\\.nightly$\",\"^com\\\\.microsoft\\\\.Edge\",\"^com\\\\.microsoft\\\\.edgemac\",\"^com\\\\.google\\\\.Chrome$\",\"^com\\\\.brave\\\\.Browser$\",\"^com\\\\.apple\\\\.Safari$\"],\"type\":\"frontmost_application_if\"}],\"from\":{\"key_code\":\"left_arrow\",\"modifiers\":{\"mandatory\":[\"option\"],\"optional\":[\"any\"]}},\"to\":[{\"key_code\":\"left_arrow\",\"modifiers\":[\"left_command\"]}],\"type\":\"basic\"},{\"conditions\":[{\"bundle_identifiers\":[\"^org\\\\.mozilla\\\\.firefox$\",\"^org\\\\.mozilla\\\\.nightly$\",\"^com\\\\.microsoft\\\\.Edge\",\"^com\\\\.microsoft\\\\.edgemac\",\"^com\\\\.google\\\\.Chrome$\",\"^com\\\\.brave\\\\.Browser$\",\"^com\\\\.apple\\\\.Safari$\"],\"type\":\"frontmost_application_if\"}],\"from\":{\"key_code\":\"right_arrow\",\"modifiers\":{\"mandatory\":[\"option\"],\"optional\":[\"any\"]}},\"to\":[{\"key_code\":\"right_arrow\",\"modifiers\":[\"left_command\"]}],\"type\":\"basic\"}]},\n{\"description\":\"PC-Style Control+Delete/Backspace\",\"manipulators\":[{\"from\":{\"key_code\":\"delete_or_backspace\",\"modifiers\":{\"mandatory\":[\"control\"],\"optional\":[\"any\"]}},\"to\":[{\"key_code\":\"delete_or_backspace\",\"modifiers\":[\"option\"]}],\"type\":\"basic\"}]}\n]\n},\n\"devices\":[],\n\"fn_function_keys\":[\n{\"from\":{\"key_code\":\"f1\"},\"to\":[{\"consumer_key_code\":\"display_brightness_decrement\"}]},\n{\"from\":{\"key_code\":\"f2\"},\"to\":[{\"consumer_key_code\":\"display_brightness_increment\"}]},\n{\"from\":{\"key_code\":\"f3\"},\"to\":[{\"apple_vendor_keyboard_key_code\":\"mission_control\"}]},\n{\"from\":{\"key_code\":\"f4\"},\"to\":[{\"apple_vendor_keyboard_key_code\":\"spotlight\"}]},\n{\"from\":{\"key_code\":\"f5\"},\"to\":[{\"consumer_key_code\":\"dictation\"}]},\n{\"from\":{\"key_code\":\"f6\"},\"to\":[{\"key_code\":\"f6\"}]},\n{\"from\":{\"key_code\":\"f7\"},\"to\":[{\"consumer_key_code\":\"rewind\"}]},\n{\"from\":{\"key_code\":\"f8\"},\"to\":[{\"consumer_key_code\":\"play_or_pause\"}]},\n{\"from\":{\"key_code\":\"f9\"},\"to\":[{\"consumer_key_code\":\"fast_forward\"}]},\n{\"from\":{\"key_code\":\"f10\"},\"to\":[{\"consumer_key_code\":\"mute\"}]},\n{\"from\":{\"key_code\":\"f11\"},\"to\":[{\"consumer_key_code\":\"volume_decrement\"}]},\n{\"from\":{\"key_code\":\"f12\"},\"to\":[{\"consumer_key_code\":\"volume_increment\"}]}\n],\n\"name\":\"Default profile\",\n\"parameters\":{\"delay_milliseconds_before_open_device\":1000},\n\"selected\":true,\n\"simple_modifications\":[{\"from\":{\"apple_vendor_top_case_key_code\":\"keyboard_fn\"},\"to\":[{\"key_code\":\"left_control\"}]},{\"from\":{\"key_code\":\"left_control\"},\"to\":[{\"apple_vendor_top_case_key_code\":\"keyboard_fn\"}]}],\n\"virtual_hid_keyboard\":{\"country_code\":0,\"indicate_sticky_modifier_keys_state\":true,\"mouse_key_xy_scale\":100}\n}\n]\n}\n</code></pre> <p>\ud83d\udd17 \ud83d\udd17</p>"},{"location":"mac/#stats","title":"Stats","text":"<p>macOS system monitor in your menu bar</p>"},{"location":"mac/#unnaturalscrollwheels","title":"UnnaturalScrollWheels","text":"<p>Invert scroll direction for physical scroll wheels while maintaining \"Natural\" scrolling for trackpads on MacOS.</p>"},{"location":"markdown/","title":"\ud83d\udcc4 Markdown","text":"<p>Danger</p> <p>Most of these entries are only compatible with GFM.  View on GitHub</p>"},{"location":"markdown/#blockquote-highlight","title":"Blockquote highlight","text":"<p> View on GitHub</p> <p>[!NOTE] Highlights information that users should take into account, even when skimming.</p> <p>[!IMPORTANT] Crucial information necessary for users to succeed.</p> <p>[!WARNING] Critical content demanding immediate user attention due to potential risks.</p> <p>The initial syntax used on GitHub was:</p> <ul> <li>Single line</li> </ul> <p>Note This is a single line note</p> <p>Warning This is a single line warning</p> <ul> <li>Multiline</li> </ul> <p>Note This is a multiline note</p> <p>Warning This is a multiline warning</p> <p>\ud83d\udd17</p>"},{"location":"markdown/#details-summary","title":"Details summary","text":"<p>Toggle with the <code>open</code> attribute in the <code>&lt;details&gt;</code> tag.</p> Details <pre><code>&lt;details open&gt;\n    &lt;summary&gt;Details&lt;/summary&gt;\n    Something small enough to escape casual notice.\n&lt;/details&gt;\n</code></pre>"},{"location":"markdown/#diff","title":"Diff","text":"<pre><code>- Hello, World!\n+ Hello, Simon!\n</code></pre>"},{"location":"markdown/#footnotes","title":"Footnotes","text":"<p> View on GitHub</p> <p>Here is a simple footnote[^1].</p> <p>[^1]: My reference.</p> <p>\ud83d\udd17</p>"},{"location":"markdown/#geojson","title":"GeoJSON","text":"<p> View on GitHub</p> <p>Specs &amp; Viewer</p> <pre><code>{\n    \"type\": \"FeatureCollection\",\n    \"features\": [\n        {\n            \"type\": \"Feature\",\n            \"properties\": {\n                \"label\": \"Paris\"\n            },\n            \"geometry\": {\n                \"type\": \"Point\",\n                \"coordinates\": [\n                    2.3522,\n                    48.8566\n                ]\n            }\n        },\n        {\n            \"type\": \"Feature\",\n            \"properties\": {\n                \"label\": \"France\"\n            },\n            \"geometry\": {\n                \"type\": \"Polygon\",\n                \"coordinates\": [\n                    [\n                        [\n                            -5.225,\n                            41.333\n                        ],\n                        [\n                            9.55,\n                            41.333\n                        ],\n                        [\n                            9.55,\n                            41.333\n                        ],\n                        [\n                            9.55,\n                            51.2\n                        ],\n                        [\n                            -5.225,\n                            51.2\n                        ],\n                        [\n                            -5.225,\n                            41.333\n                        ]\n                    ]\n                ]\n            }\n        }\n    ]\n}\n</code></pre>"},{"location":"markdown/#github-custom-emojis","title":"GitHub Custom Emojis","text":"<p> View on GitHub</p> <ul> <li> <code>:atom:</code></li> <li>:basecamp: <code>:basecamp:</code></li> <li>:basecampy: <code>:basecampy:</code></li> <li>:bowtie: <code>:bowtie:</code></li> <li>:electron: <code>:electron:</code></li> <li>:feelsgood: <code>:feelsgood:</code></li> <li>:finnadie: <code>:finnadie:</code></li> <li>:goberserk: <code>:goberserk:</code></li> <li>:godmode: <code>:godmode:</code></li> <li>:hurtrealbad: <code>:hurtrealbad:</code></li> <li>:neckbeard: <code>:neckbeard:</code></li> <li>:octocat: <code>:octocat:</code></li> <li>:rage1: <code>:rage1:</code></li> <li>:rage2: <code>:rage2:</code></li> <li>:rage3: <code>:rage3:</code></li> <li>:rage4: <code>:rage4:</code></li> <li>:shipit: <code>:shipit:</code></li> <li>:suspect: <code>:suspect:</code></li> <li>:trollface: <code>:trollface:</code></li> </ul> <p>\ud83d\udd17</p>"},{"location":"markdown/#image-with-reference-link","title":"Image with reference link","text":"<pre><code>[![alt text][image]][hyperlink]\n\n[hyperlink]: https://\u2026\n[image]: https://\u2026 \"tooltip\"\n</code></pre>"},{"location":"markdown/#keyboard","title":"Keyboard","text":"<p>Ctrl + Alt + Suppr</p>"},{"location":"markdown/#maths","title":"Maths","text":"<p> View on GitHub</p> <p>This sentence uses <code>$</code> delimiters to show math inline:  $\\sqrt{3x-1}+(1+x)^2$</p> <p>The Cauchy-Schwarz Inequality</p> <p>$$\\left( \\sum_{k=1}^n a_k b_k \\right)^2 \\leq \\left( \\sum_{k=1}^n a_k^2 \\right) \\left( \\sum_{k=1}^n b_k^2 \\right)$$</p> <pre><code>\\left( \\sum_{k=1}^n a_k b_k \\right)^2 \\leq \\left( \\sum_{k=1}^n a_k^2 \\right) \\left( \\sum_{k=1}^n b_k^2 \\right)\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"markdown/#mermaid","title":"Mermaid","text":"<pre><code>graph LR\n    A[Square Rect] -- Link text --&gt; B((Circle))\n    A --&gt; C(Round Rect)\n    B --&gt; D{Rhombus}\n    C --&gt; D</code></pre>"},{"location":"markdown/#prefers-color-scheme","title":"Prefers color scheme","text":"<pre><code>&lt;picture&gt;\n  &lt;source media=\"(prefers-color-scheme: dark)\" srcset=\"https://user-images.githubusercontent.com/25423296/163456776-7f95b81a-f1ed-45f7-b7ab-8fa810d529fa.png\"&gt;\n  &lt;img alt=\"Shows an illustrated sun in light color mode and a moon with stars in dark color mode.\" src=\"https://user-images.githubusercontent.com/25423296/163456779-a8556205-d0a5-45e2-ac17-42d089e3c3f8.png\"&gt;\n&lt;/picture&gt;\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"markdown/#reference-labels","title":"Reference labels","text":"<p> View on GitHub</p> <p>https://github.com/SimonMarquis/TIL/labels/bug \u2022 https://github.com/SimonMarquis/TIL/labels/enhancement \u2022 https://github.com/SimonMarquis/TIL/labels/good%20first%20issue \u2022 https://github.com/SimonMarquis/TIL/labels/help%20wanted \u2022 https://github.com/SimonMarquis/TIL/labels/invalid \u2022 https://github.com/SimonMarquis/TIL/labels/question \u2022 https://github.com/SimonMarquis/TIL/labels/wontfix</p> <p>\ud83d\udd17</p>"},{"location":"markdown/#table-alignment","title":"Table alignment","text":"Left Center Right \u2b24 \u2b24 \u2b24 <pre><code>| Left | Center | Right |\n|:-----|:------:|------:|\n| \u2b24 | \u2b24 | \u2b24 |\n</code></pre>"},{"location":"markdown/#theme-context-for-images","title":"Theme context for images","text":"<p> View on GitHub</p> <p></p> <pre><code>![GitHub-Mark-Light](https://user-images.githubusercontent.com/3369400/139447912-e0f43f33-6d9f-45f8-be46-2df5bbc91289.png#gh-dark-mode-only)![GitHub-Mark-Dark](https://user-images.githubusercontent.com/3369400/139448065-39a229ba-4b06-434b-bc67-616e2ed80c8f.png#gh-light-mode-only)\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"miscellaneous/","title":"\ud83d\udc8e Miscellaneous","text":""},{"location":"miscellaneous/#anonymous-google-profile-images","title":"Anonymous Google profile images","text":"Larger images\u2026"},{"location":"miscellaneous/#apache-distributed-configuration-file","title":"Apache distributed configuration file","text":"<p>Directory indexing:</p> .htaccess<pre><code>Options +Indexes\nIndexOptions Charset=UTF-8 IgnoreCase FancyIndexing FoldersFirst NameWidth=*\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"miscellaneous/#arrows","title":"Arrows","text":"<p><code>2190\u201321FF</code> Arrows</p> <p> <pre><code>\u2190  \u2191  \u2192  \u2193  \u2194  \u2195  \u2196  \u2197  \u2198  \u2199  \u219a  \u219b  \u219c  \u219d  \u219e  \u219f\n\u21a0  \u21a1  \u21a2  \u21a3  \u21a4  \u21a5  \u21a6  \u21a7  \u21a8  \u21a9  \u21aa  \u21ab  \u21ac  \u21ad  \u21ae  \u21af\n\u21b0  \u21b1  \u21b2  \u21b3  \u21b4  \u21b5  \u21b6  \u21b7  \u21b8  \u21b9  \u21ba  \u21bb  \u21bc  \u21bd  \u21be  \u21bf\n\u21c0  \u21c1  \u21c2  \u21c3  \u21c4  \u21c5  \u21c6  \u21c7  \u21c8  \u21c9  \u21ca  \u21cb  \u21cc  \u21cd  \u21ce  \u21cf\n\u21d0  \u21d1  \u21d2  \u21d3  \u21d4  \u21d5  \u21d6  \u21d7  \u21d8  \u21d9  \u21da  \u21db  \u21dc  \u21dd  \u21de  \u21df\n\u21e0  \u21e1  \u21e2  \u21e3  \u21e4  \u21e5  \u21e6  \u21e7  \u21e8  \u21e9  \u21ea  \u21eb  \u21ec  \u21ed  \u21ee  \u21ef\n\u21f0  \u21f1  \u21f2  \u21f3  \u21f4  \u21f5  \u21f6  \u21f7  \u21f8  \u21f9  \u21fa  \u21fb  \u21fc  \u21fd  \u21fe  \u21ff\n</code></pre> </p> <p><code>27F0\u201327FF</code> Supplemental Arrows-A</p> <p> <pre><code>\u27f0  \u27f1  \u27f2  \u27f3  \u27f4  \u27f5  \u27f6  \u27f7  \u27f8  \u27f9  \u27fa  \u27fb  \u27fc  \u27fd  \u27fe  \u27ff\n</code></pre> </p> <p><code>2900\u2013297F</code> Supplemental Arrows-B</p> <p> <pre><code>\u2900  \u2901  \u2902  \u2903  \u2904  \u2905  \u2906  \u2907  \u2908  \u2909  \u290a  \u290b  \u290c  \u290d  \u290e  \u290f\n\u2910  \u2911  \u2912  \u2913  \u2914  \u2915  \u2916  \u2917  \u2918  \u2919  \u291a  \u291b  \u291c  \u291d  \u291e  \u291f\n\u2920  \u2921  \u2922  \u2923  \u2924  \u2925  \u2926  \u2927  \u2928  \u2929  \u292a  \u292b  \u292c  \u292d  \u292e  \u292f\n\u2930  \u2931  \u2932  \u2933  \u2934  \u2935  \u2936  \u2937  \u2938  \u2939  \u293a  \u293b  \u293c  \u293d  \u293e  \u293f\n\u2940  \u2941  \u2942  \u2943  \u2944  \u2945  \u2946  \u2947  \u2948  \u2949  \u294a  \u294b  \u294c  \u294d  \u294e  \u294f\n\u2950  \u2951  \u2952  \u2953  \u2954  \u2955  \u2956  \u2957  \u2958  \u2959  \u295a  \u295b  \u295c  \u295d  \u295e  \u295f\n\u2960  \u2961  \u2962  \u2963  \u2964  \u2965  \u2966  \u2967  \u2968  \u2969  \u296a  \u296b  \u296c  \u296d  \u296e  \u296f\n\u2970  \u2971  \u2972  \u2973  \u2974  \u2975  \u2976  \u2977  \u2978  \u2979  \u297a  \u297b  \u297c  \u297d  \u297e  \u297f\n</code></pre> </p> <p><code>1F800\u20131F8FF</code> Supplemental Arrows-C</p> <p> <pre><code>\ud83e\udc00  \ud83e\udc01  \ud83e\udc02  \ud83e\udc03  \ud83e\udc04  \ud83e\udc05  \ud83e\udc06  \ud83e\udc07  \ud83e\udc08  \ud83e\udc09  \ud83e\udc0a  \ud83e\udc0b           \n\ud83e\udc10  \ud83e\udc11  \ud83e\udc12  \ud83e\udc13  \ud83e\udc14  \ud83e\udc15  \ud83e\udc16  \ud83e\udc17  \ud83e\udc18  \ud83e\udc19  \ud83e\udc1a  \ud83e\udc1b  \ud83e\udc1c  \ud83e\udc1d  \ud83e\udc1e  \ud83e\udc1f\n\ud83e\udc20  \ud83e\udc21  \ud83e\udc22  \ud83e\udc23  \ud83e\udc24  \ud83e\udc25  \ud83e\udc26  \ud83e\udc27  \ud83e\udc28  \ud83e\udc29  \ud83e\udc2a  \ud83e\udc2b  \ud83e\udc2c  \ud83e\udc2d  \ud83e\udc2e  \ud83e\udc2f\n\ud83e\udc30  \ud83e\udc31  \ud83e\udc32  \ud83e\udc33  \ud83e\udc34  \ud83e\udc35  \ud83e\udc36  \ud83e\udc37  \ud83e\udc38  \ud83e\udc39  \ud83e\udc3a  \ud83e\udc3b  \ud83e\udc3c  \ud83e\udc3d  \ud83e\udc3e  \ud83e\udc3f\n\ud83e\udc40  \ud83e\udc41  \ud83e\udc42  \ud83e\udc43  \ud83e\udc44  \ud83e\udc45  \ud83e\udc46  \ud83e\udc47                       \n\ud83e\udc50  \ud83e\udc51  \ud83e\udc52  \ud83e\udc53  \ud83e\udc54  \ud83e\udc55  \ud83e\udc56  \ud83e\udc57  \ud83e\udc58  \ud83e\udc59                 \n\ud83e\udc60  \ud83e\udc61  \ud83e\udc62  \ud83e\udc63  \ud83e\udc64  \ud83e\udc65  \ud83e\udc66  \ud83e\udc67  \ud83e\udc68  \ud83e\udc69  \ud83e\udc6a  \ud83e\udc6b  \ud83e\udc6c  \ud83e\udc6d  \ud83e\udc6e  \ud83e\udc6f\n\ud83e\udc70  \ud83e\udc71  \ud83e\udc72  \ud83e\udc73  \ud83e\udc74  \ud83e\udc75  \ud83e\udc76  \ud83e\udc77  \ud83e\udc78  \ud83e\udc79  \ud83e\udc7a  \ud83e\udc7b  \ud83e\udc7c  \ud83e\udc7d  \ud83e\udc7e  \ud83e\udc7f\n\ud83e\udc80  \ud83e\udc81  \ud83e\udc82  \ud83e\udc83  \ud83e\udc84  \ud83e\udc85  \ud83e\udc86  \ud83e\udc87                       \n\ud83e\udc90  \ud83e\udc91  \ud83e\udc92  \ud83e\udc93  \ud83e\udc94  \ud83e\udc95  \ud83e\udc96  \ud83e\udc97  \ud83e\udc98  \ud83e\udc99  \ud83e\udc9a  \ud83e\udc9b  \ud83e\udc9c  \ud83e\udc9d  \ud83e\udc9e  \ud83e\udc9f\n\ud83e\udca0  \ud83e\udca1  \ud83e\udca2  \ud83e\udca3  \ud83e\udca4  \ud83e\udca5  \ud83e\udca6  \ud83e\udca7  \ud83e\udca8  \ud83e\udca9  \ud83e\udcaa  \ud83e\udcab  \ud83e\udcac  \ud83e\udcad  \n</code></pre> </p> <p><code>2B00\u20132BFF</code> Miscellaneous Symbols and Arrows</p> <p> <pre><code>\u2b00  \u2b01  \u2b02  \u2b03  \u2b04  \u2b05  \u2b06  \u2b07  \u2b08  \u2b09  \u2b0a  \u2b0b  \u2b0c  \u2b0d  \u2b0e  \u2b0f\n\u2b10  \u2b11  \u2b12  \u2b13  \u2b14  \u2b15  \u2b16  \u2b17  \u2b18  \u2b19  \u2b1a  \u2b1b  \u2b1c  \u2b1d  \u2b1e  \u2b1f\n\u2b20  \u2b21  \u2b22  \u2b23  \u2b24  \u2b25  \u2b26  \u2b27  \u2b28  \u2b29  \u2b2a  \u2b2b  \u2b2c  \u2b2d  \u2b2e  \u2b2f\n\u2b30  \u2b31  \u2b32  \u2b33  \u2b34  \u2b35  \u2b36  \u2b37  \u2b38  \u2b39  \u2b3a  \u2b3b  \u2b3c  \u2b3d  \u2b3e  \u2b3f\n\u2b40  \u2b41  \u2b42  \u2b43  \u2b44  \u2b45  \u2b46  \u2b47  \u2b48  \u2b49  \u2b4a  \u2b4b  \u2b4c  \u2b4d  \u2b4e  \u2b4f\n\u2b50  \u2b51  \u2b52  \u2b53  \u2b54  \u2b55  \u2b56  \u2b57  \u2b58  \u2b59  \u2b5a  \u2b5b  \u2b5c  \u2b5d  \u2b5e  \u2b5f\n\u2b60  \u2b61  \u2b62  \u2b63  \u2b64  \u2b65  \u2b66  \u2b67  \u2b68  \u2b69  \u2b6a  \u2b6b  \u2b6c  \u2b6d  \u2b6e  \u2b6f\n\u2b70  \u2b71  \u2b72  \u2b73        \u2b76  \u2b77  \u2b78  \u2b79  \u2b7a  \u2b7b  \u2b7c  \u2b7d  \u2b7e  \u2b7f\n\u2b80  \u2b81  \u2b82  \u2b83  \u2b84  \u2b85  \u2b86  \u2b87  \u2b88  \u2b89  \u2b8a  \u2b8b  \u2b8c  \u2b8d  \u2b8e  \u2b8f\n\u2b90  \u2b91  \u2b92  \u2b93  \u2b94  \u2b95     \u2b97  \u2b98  \u2b99  \u2b9a  \u2b9b  \u2b9c  \u2b9d  \u2b9e  \u2b9f\n\u2ba0  \u2ba1  \u2ba2  \u2ba3  \u2ba4  \u2ba5  \u2ba6  \u2ba7  \u2ba8  \u2ba9  \u2baa  \u2bab  \u2bac  \u2bad  \u2bae  \u2baf\n\u2bb0  \u2bb1  \u2bb2  \u2bb3  \u2bb4  \u2bb5  \u2bb6  \u2bb7  \u2bb8  \u2bb9  \u2bba  \u2bbb  \u2bbc  \u2bbd  \u2bbe  \u2bbf\n\u2bc0  \u2bc1  \u2bc2  \u2bc3  \u2bc4  \u2bc5  \u2bc6  \u2bc7  \u2bc8  \u2bc9  \u2bca  \u2bcb  \u2bcc  \u2bcd  \u2bce  \u2bcf\n\u2bd0  \u2bd1  \u2bd2  \u2bd3  \u2bd4  \u2bd5  \u2bd6  \u2bd7  \u2bd8  \u2bd9  \u2bda  \u2bdb  \u2bdc  \u2bdd  \u2bde  \u2bdf\n\u2be0  \u2be1  \u2be2  \u2be3  \u2be4  \u2be5  \u2be6  \u2be7  \u2be8  \u2be9  \u2bea  \u2beb  \u2bec  \u2bed  \u2bee  \u2bef\n</code></pre> </p>"},{"location":"miscellaneous/#autohotkey","title":"AutoHotkey","text":"<pre><code>;   ! = alt\n;   + = shift\n;   ^ = ctrl\n;   # = win\n\n#NoEnv  ; Recommended for performance and compatibility with future AutoHotkey releases.\n; #Warn  ; Enable warnings to assist with detecting common errors.\nSendMode Input  ; Recommended for new scripts due to its superior speed and reliability.\nSetWorkingDir %A_ScriptDir%  ; Ensures a consistent starting directory.\n\n; make the scroll lock key (ScrLk) toggle all hotkeys.\n$ScrollLock::Suspend\n\n::``right::\u2192\n::``left::\u2190\n::``up::\u2191\n::``down::\u2193\n::``r::\u2192\n::``l::\u2190\n::``u::\u2191\n::``d::\u2193\n::``ur::\u2197\ufe0e\n::``ul::\u2196\n::``dr::\u2198\n::``dl::\u2199\n::``lte::\u2264\n::``gte::\u2265\n\n::\u00e8uro::\u20ac\n</code></pre>"},{"location":"miscellaneous/#bell-code","title":"Bell code","text":"<p><code>echo ^G</code> \ud83d\udd14</p> <p>(<code>^G</code> is Ctrl + G)</p> <p>\ud83d\udd17</p>"},{"location":"miscellaneous/#binary-prefix","title":"Binary prefix","text":"Decimal Value SI 1000 k kilo 10002 M mega 10003 G giga 10004 T tera 10005 P peta 10006 E exa 10007 Z zetta 10008 Y yotta Binary Value IEC Legacy 1024 Ki kibi K kilo 10242 Mi mebi M mega 10243 Gi gibi G giga 10244 Ti tebi T tera 10245 Pi pebi \u2013 10246 Ei exbi \u2013 10247 Zi zebi \u2013 10248 Yi yobi \u2013 <p>\ud83d\udd17</p>"},{"location":"miscellaneous/#bookmarklets","title":"Bookmarklets","text":"<ul> <li>CSS boxes <pre><code>let d = typeof _debug_layout_ === \"undefined\";\n[].forEach.call(document.querySelectorAll(\"*\"), function (a) {\na.style.outline = d\n? \"1px solid #\" + (~~(Math.random() * (1 &lt;&lt; 24))).toString(16)\n: \"\";\n});\nvar _debug_layout_ = d ? true : undefined;\n</code></pre></li> <li>QrCode <pre><code>var _size = 400;\nvar _left = screen.width / 2 - _size / 2;\nvar _top = screen.height / 2 - _size / 2;\nvar _input = prompt(\"QRcode input\", window.getSelection().toString());\nif (_input != null)\nwindow.open(\n\"https://chart.googleapis.com/chart?cht=qr\" +\n\"&amp;chs=\" + _size + \"x\" + _size +\n\"&amp;chld=L|0&amp;choe=UTF-8\" +\n\"&amp;chl=\" + encodeURIComponent(_input),\n\"_blank\",\n\"titlebar=no,menubar=no,scrollbars=no,status=no\" +\n\",width=\" + _size + \",height=\" + _size + \",top=\" + _top + \",left=\" + _left\n);\n</code></pre></li> <li>URL encoder <pre><code>var decoded = prompt(\"URL encoder input:\", window.getSelection().toString());\nif (decoded != null) prompt(\"URL encoder output:\", encodeURIComponent(decoded));\n</code></pre></li> <li>URL decoder <pre><code>var encoded = prompt(\"URL decoder input:\", window.getSelection().toString());\nif (encoded != null) prompt(\"URL decoder output:\", decodeURIComponent(encoded));\n</code></pre></li> <li>Base64 encoder <pre><code>var decoded = prompt(\"Base64 encoder input:\", window.getSelection().toString());\ntry {\nprompt(\"Base64 encoder output:\", btoa(decoded));\n} catch (error) {\nalert(error);\n}\n</code></pre></li> <li>Base64 decoder <pre><code>var encoded = prompt(\"Base64 decoder input:\", window.getSelection().toString());\ntry {\nprompt(\"Base64 decoder output:\", atob(encoded));\n} catch (error) {\nalert(error);\n}\n</code></pre></li> <li>Edit website <pre><code>document.body.contentEditable = \"true\";\ndocument.designMode = \"on\";\n</code></pre></li> <li>Raw HTML <pre><code>data:text/html;charset=utf-8,\n</code></pre></li> </ul> <p>\ud83d\udd17</p>"},{"location":"miscellaneous/#box-drawing-characters","title":"Box drawing characters","text":"<pre><code>\u250c \u252c \u2500 \u2510 \u250f \u2533 \u2501 \u2513 \u2554 \u2566 \u2550 \u2557\n\u251c \u253c \u2500 \u2524 \u2523 \u254b \u2501 \u252b \u2560 \u256c \u2550 \u2563\n\u2502 \u2502 \u2502 \u2502 \u2503 \u2503 \u2503 \u2503 \u2551 \u2551 \u2551 \u2551\n\u2514 \u2534 \u2500 \u2518 \u2517 \u253b \u2501 \u251b \u255a \u2569 \u2550 \u255d\n\n\u2552 \u2564 \u2555 \u2553 \u2565 \u2556 \u250d \u252f \u2511\n\u255e \u256a \u2561 \u255f \u256b \u2562 \u251d \u253f \u2525\n\u2558 \u2567 \u255b \u2559 \u2568 \u255c \u2515 \u2537 \u2519\n\n\u254c \u254e \u254d \u254f\n\u2504 \u2506 \u250a \u2508\n\u2505 \u2507 \u2509 \u250b\n\n\u256d \u256e\n\u2570 \u256f\n\n\u2581 \u2582 \u2583 \u2584 \u2585 \u2586 \u2587 \u2588\n\n\u2589 \u258a \u258b \u258c \u258d \u258e \u258f\n\n\u2591 \u2592 \u2593\n\n\u25f2\u25f1\n\u25f3\u25f0\n\n\u25f6\u25f5\n\u25f7\u25f4\n\n\u25d0\u25d3\n\u25d2\u25d1\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"miscellaneous/#editorconfig","title":"EditorConfig","text":".editorconfig<pre><code>root = true\n\n[*]\ncharset = utf-8\nindent_size = 4\nindent_style = space\ninsert_final_newline = true\nmax_line_length = 200\ntab_width = 4\n\n[{*.kt,*.kts}]\nij_kotlin_code_style_defaults = KOTLIN_OFFICIAL\nij_kotlin_allow_trailing_comma = true\nij_kotlin_allow_trailing_comma_on_call_site = true\nij_kotlin_name_count_to_use_star_import = 2147483647\nij_kotlin_name_count_to_use_star_import_for_members = 2147483647\nij_kotlin_packages_to_use_import_on_demand = unset\n\n[{*.md,*.mdown,*.markdown}]\nindent_size = 2\nindent_style = space\ntrim_trailing_whitespace = false\n\n[{*.yml,*.yaml}]\nindent_size = 2\nindent_style = space\n\n[*.json]\nindent_size = 2\nindent_style = space\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"miscellaneous/#error-pages-illustrations","title":"Error pages illustrations","text":"<p>Youtube monkey error</p> <p> Something went wrong\u2026 </p> <p>Youtube offline</p> <p> Connect to the internetYou're offline. Check your connection. </p>"},{"location":"miscellaneous/#fonts-with-ligatures","title":"Fonts with ligatures","text":"<ul> <li>FiraCode</li> <li>Hack</li> <li>JetBrains Mono</li> </ul>"},{"location":"miscellaneous/#gmail-templates","title":"Gmail templates","text":"<ul> <li>Create a new Google Docs https://docs.new</li> <li>Insert \u2192  Building blocks \u2192 Email draft</li> </ul> <p>Or simply type <code>@email draft</code>.</p>"},{"location":"miscellaneous/#tiniest-data-urls-images","title":"Tiniest data URLs images","text":"<p><code>data:[&lt;mediatype&gt;][;base64],&lt;data&gt;</code></p> <p><code>data:image/svg+xml,&lt;svg xmlns='http://www.w3.org/2000/svg'/&gt;</code></p> <p></p> <p><code>data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==</code> \ud83d\udd17</p> <p></p> <p><code>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQYV2NgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII=</code></p> <p></p> <p><code>data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAA</code></p> <p></p> <p><code>data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wgALCAABAAEBAREA/8QAFBABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQABPxA=</code></p> <p></p>"},{"location":"miscellaneous/#uri","title":"URI","text":"<pre><code>                    hierarchical part\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    authority               path\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u250c\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2510\n  abc://username:password@example.com:123/path/data?key=value#fragid1\n  \u2514\u252c\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518 \u2514\u252c\u2518           \u2514\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u252c\u2500\u2500\u2518\nscheme  user information     host     port            query   fragment\n</code></pre> Examples <pre><code>        userinfo       host      port\n        \u250c\u2500\u2500\u2534\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2534\u2510\nhttps://john.doe@www.example.com:123/forum/questions/?tag=networking&amp;order=newest#top\n\u2514\u2500\u252c\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u252c\u2518\nscheme          authority                  path                  query           fragment\n\nldap://[2001:db8::7]/c=GB?objectClass?one\n\u2514\u252c\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\u2514\u2500\u252c\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\nscheme   authority   path      query\n\nmailto:John.Doe@example.com\n\u2514\u2500\u252c\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\nscheme     path\n\nnews:comp.infosystems.www.servers.unix\n\u2514\u252c\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\nscheme            path\n\ntel:+1-816-555-1212\n\u2514\u252c\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\nscheme    path\n\ntelnet://192.0.2.16:80/\n\u2514\u2500\u252c\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\u2502\nscheme     authority  path\n\nurn:oasis:names:specification:docbook:dtd:xml:4.1.2\n\u2514\u252c\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\nscheme                    path\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"mkdocs/","title":"\ud83d\udcd6 MkDocs","text":""},{"location":"mkdocs/#attribute-lists","title":"Attribute Lists","text":"<pre><code>[Hello, World!](#){: #someid .someclass somekey='some value' }\n</code></pre> <p>Hello, World!</p> <p>\ud83d\udd17</p>"},{"location":"mkdocs/#dependency-management","title":"Dependency management","text":"docs/requirements.txt<pre><code>mkdocs==1.4.3\nmkdocs-material==9.1.16\n</code></pre> <pre><code>pip install --requirement docs/requirements.txt\n</code></pre>"},{"location":"mkdocs/#downloadable-file","title":"Downloadable file","text":"<pre><code>[:material-launch:](assets/example.json){: .md-button }\n[:material-download:](assets/example.json){: .md-button download=\"example.json\" }\n</code></pre>"},{"location":"mkdocs/#environment-variables","title":"Environment variables","text":"mkdocs.yml<pre><code>plugins:\n- foo-plugin:\nenabled: !ENV [CI, GITHUB_ACTIONS, False]\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"mkdocs/#result-box","title":"Result box","text":"Say hello!<pre><code>echo \"Hello, World!\"\n</code></pre> <pre><code>Hello, World!\n</code></pre>"},{"location":"online-tools/","title":"\ud83d\udd78\ufe0f Online tools","text":"<ul> <li>Android Code Search <p>Helps developers view the Android source code as they actually use it</p> </li> <li>Android device art generator <p>Quickly wrap app screenshots in device artwork with this device art generator.</p> </li> <li>App Privacy Policy Generator <p>A simple web app to generate a generic privacy policy for your Android/iOS apps</p> </li> <li>babelmark3 <p>Compare Markdown Implementations</p> </li> <li>Carbon <p>Create and share beautiful images of your source code.</p> </li> <li>crontab guru <p>The quick and simple editor for cron schedule expressions</p> </li> <li>CyberChef <p>The Cyber Swiss Army Knife - a web app for encryption, encoding, compression and data analysis</p> </li> <li>Data URL maker <p>Convert file to <code>data:</code> urls</p> </li> <li>FCM toolbox <p>\ud83d\udcf2 Firebase Cloud Messaging toolbox</p> </li> <li>Free Favicon Maker <p>Create SVG &amp; PNG favicon in seconds!</p> </li> <li>Google Open Source <p>Search all projects for code or files</p> </li> <li>Google Play badge <p>Use these badges in your marketing to promote your content on Google Play</p> </li> <li>Hoppscotch <p>\ud83d\udc7d Open source API development ecosystem</p> </li> <li>httpbin.org <p>A simple HTTP Request &amp; Response Service.</p> </li> <li>IconKitchen <p>App Icon Generator</p> </li> <li>insomnia <p>The open-source, cross-platform API client for GraphQL, REST, WebSockets and gRPC.</p> </li> <li>Kotlin Playground <p>Edit, Run, Share Kotlin Code Online</p> </li> <li>Mermaid Live Editor <p>Edit, preview and share mermaid charts/diagrams.</p> </li> <li>QrCode <p>\ud83c\udfc1 Scan and create QR Codes.</p> </li> <li>RAW pixels viewer <p>This application allows you analyze raw image data, you can display memory dumps of frame buffers, video buffers and uncompressed video files.</p> </li> <li>regex101 <p>Regular expression tester with syntax highlighting, explanation, cheat sheet</p> </li> <li>Replit <p>Collaborative browser based IDE</p> </li> <li>shadow4android <p>Android 9-patch shadow generator</p> </li> <li>ShapeShifter <p>SVG icon animation tool for Android, iOS, and the web</p> </li> <li>ShellCheck <p>finds bugs in your shell scripts.</p> </li> <li>Simple Icons <p>Free SVG icons for popular brands</p> </li> <li>SlidesCodeHighlighter <p>A little web app that helps you copy+paste syntax-highlighted code into slide decks.</p> </li> <li>SQLite Viewer <p>View SQLite file online</p> </li> <li>Squoosh! <p>Make images smaller using best-in-class codecs, right in the browser.</p> </li> <li>SVGOMG <p>Web GUI for SVGO</p> </li> <li>UTF-8 Size <p>A webpage for measuring UTF-8 text</p> </li> <li>Whimsical <p>Visual workspace for thinking and collaboration, combining flowcharts, wireframes, sticky notes, mind maps and docs.</p> </li> </ul>"},{"location":"open-source-projects/","title":"\ud83d\udd13 Open Source projects","text":"<ul> <li>autonomousapps/dependency-analysis-android-gradle-plugin <p>Gradle plugin for JVM projects written in Java, Kotlin, Groovy, or Scala; and Android projects written in Java or Kotlin. Provides advice for managing dependencies and other applied plugins</p> </li> <li>chrisbanes/insetter <p>Insetter is a library to help apps handle WindowInsets more easily</p> </li> <li>ChuckerTeam/chucker <p>An HTTP inspector for Android &amp; OkHTTP (like Charles but on device)</p> </li> <li>coreybutler/nvm-windows <p>A node.js version management utility for Windows. Ironically written in Go.</p> </li> <li>Genymobile/mirror <p>Easy reflection for Java and Android</p> </li> <li>Genymobile/scrcpy <p>Display and control your Android device</p> </li> <li>google/truth <p>Fluent assertions for Java and Android</p> </li> <li>Gradle Doctor <p>The right prescription for your Gradle build.</p> </li> <li>JakeWharton/byteunits <p>Utility classes for converting between granularities of SI and IEC byte units and bit units.</p> </li> <li>JakeWharton/diffuse <p>Diffuse is a tool for diffing APKs, AABs, AARs, and JARs</p> </li> <li>JakeWharton/jardiff <p>A Python script which quickly creates diffs of the public API between two JAR files</p> </li> <li>JakeWharton/picnic <p>A Kotlin DSL and Java/Kotlin builder API for constructing HTML-like tables which can be rendered to text</p> </li> <li>JakeWharton/pidcat <p>Colored logcat script which only shows log entries for a specific application package.</p> </li> <li>JakeWharton/adb-event-mirror <p>Mirror the touch/key/button events of one device onto one or more other devices in real-time</p> </li> <li>JakeWharton/mosaic <p>An experimental tool for building console UI in Kotlin using the Jetpack Compose compiler/runtime</p> </li> <li>JakeWharton/ProcessPhoenix <p>Process Phoenix facilitates restarting your application process.</p> </li> <li>jmfayard/refreshVersions <p>Life is too short to google for dependencies and versions</p> </li> <li>jraska/modules-graph-assert <p>Gradle plugin to keep your modules graph healthy and lean.</p> </li> <li>martinbonnin/Xoxo <p>A wrapper around org.w3c.dom with nicer Kotlin APIs</p> </li> <li>microsoft/winget-cli <p>Windows Package Manager CLI (aka winget)</p> </li> <li>ajalt/mordant <p>Colorful styling for command-line applications.</p> </li> <li>rock3r/deep-clean <p>When Gradle or the IDE let you down, just --nuke all them caches</p> </li> <li>SimonMarquis/Maven-Dependency-Tree <p>\ud83c\udf32 Kotlin script to list transitive dependencies of a Maven artifact.</p> </li> <li>SimonMarquis/SealedObjectInstances <p>A Kotlin Symbol Processor to list sealed object instances.</p> </li> <li>square/moshi <p>A modern JSON library for Kotlin and Java</p> </li> <li>square/leakcanary <p>A memory leak detection library for Android.</p> </li> <li>square/logcat <p>I CAN HAZ LOGZ?</p> </li> <li>square/okhttp <p>Square\u2019s meticulous HTTP client for the JVM, Android, and GraalVM.</p> </li> <li>square/okio <p>A modern I/O library for Android, Java, and Kotlin Multiplatform.</p> </li> <li>square/radiography <p>Text-ray goggles for your Android UI.</p> </li> <li>square/retrofit <p>A type-safe HTTP client for Android and the JVM</p> </li> <li>google/TestParameterInjector <p>A simple yet powerful parameterized test runner for Java.</p> </li> <li>vanniktech/gradle-dependency-graph-generator-plugin <p>Gradle plugin that generates dependency graphs from your project.</p> </li> <li>YarikSOffice/venom <p>A lightweight tool that simplifies testing of the process death scenario.</p> </li> </ul>"},{"location":"puzzlers/","title":"\ud83e\udde9 Puzzlers","text":""},{"location":"puzzlers/#if-else-priorities","title":"if-else priorities","text":"<pre><code>if (a) {\n/**/\n} else if (b) {\n/**/\n} else {\n/**/\n} + x\n</code></pre> <pre><code>if (a) {\n/**/\n} else {\nif (b) {\n/**/\n} else {\n/**/\n} + x\n}\n</code></pre>"},{"location":"regex/","title":"\ud83e\uddee Regex","text":"<ul> <li>https://regex101.com/ <p>Online regex tester and debugger</p> </li> <li>https://www.regular-expressions.info/ <p>Regex Tutorial, Examples and Reference</p> </li> </ul>"},{"location":"regex/#general-tokens","title":"General tokens","text":"<code>\\n</code> Matches a newline character. <code>\\r</code> Matches a carriage return, unicode character <code>U+2185</code>. <code>\\t</code> Matches a tab character. <code>\\f</code> Matches a form-feed character. <code>\\0</code> Matches a null character, most often visually represented in unicode using <code>U+2400</code> <code>\u2400</code>."},{"location":"regex/#anchors","title":"Anchors","text":"<code>^</code> Matches the start of a string without consuming any characters. <code>$</code> Matches the end of a string without consuming any characters.  <code>\\A</code> Matches the start of a string only. Unlike <code>^</code>, this is not affected by multiline mode. <code>\\Z</code> Matches the very end of a string only. Unlike <code>$</code>, this is not affected by multiline mode. <code>\\b</code> Matches, without consuming any characters, immediately between a character matched by <code>\\w</code> and a character not matched by <code>\\w</code> (in either order). <code>\\B</code> Matches, without consuming any characters, at the position between two characters matched by <code>\\w</code> or <code>\\W</code>."},{"location":"regex/#meta-sequences","title":"Meta sequences","text":"<code>.</code> Matches any character other than newline (or including line terminators with the <code>/s</code> flag). <code>a|b</code> Matches either what is before the <code>|</code> or what is after it - in this case <code>a</code> or <code>b</code>. <code>\\s</code> Matches any space, tab or newline character. <code>\\S</code> Matches anything other than a space, tab or newline. <code>\\d</code> Matches any decimal digit. Equivalent to <code>[0-9]</code>. <code>\\D</code> Matches anything other than a decimal/digit. <code>\\w</code> Matches any letter, digit or underscore. Equivalent to <code>[a-zA-Z0-9_]</code>. <code>\\W</code> Matches anything other than a letter, digit or underscore. Equivalent to <code>[^a-zA-Z0-9_]</code>. <code>\\v</code> Matches unicode vertical whitespace. <code>\\#</code> Usually referred to as a <code>backreference</code>, this will match a repeat of the text matched and captured by the capture group <code>#</code> (number) specified. <code>\\xYY</code> Matches the 8-bit character with the given hex value. <code>\\ddd</code> Matches the 8-bit character with the given octal value."},{"location":"regex/#quantifiers","title":"Quantifiers","text":"<code>a?</code> Matches an <code>a</code> character or nothing. <code>a*</code> Greedy quantifier. Matches zero or more consecutive <code>a</code> characters (gready). <code>a*?</code> Lazy quantifier. Matches as few characters as possible (lazy). <code>a*+</code> Possessive quantifier. Matches as many characters as possible; backtracking can't reduce the number of characters matched. Because it is greedy, it will match all the way to the last digit, leaving nothing else for the . to match. <code>a+</code> Matches one or more consecutive <code>a</code> characters. <code>a{3}</code> Matches exactly 3 consecutive <code>a</code> characters. <code>a{3,}</code> Matches at least 3 consecutive <code>a</code> characters. <code>a{3,6}</code> Matches between 3 and 6 (inclusive) consecutive <code>a</code> characters."},{"location":"regex/#group-constructs","title":"Group constructs","text":"<code>(?:...)</code> A non-capturing group allows you to apply quantifiers to part of your regex but does not capture/assign an ID. <code>(...)</code> Isolates part of the full match to be later referred to by ID within the regex or the matches array. IDs start at 1. <code>(?#...)</code> Any text appearing in this group is ignored in the regex. <code>(?P&lt;name&gt;...)</code> This capturing group can be referred to using the given name instead of a number. Alternative notation for <code>(?&lt;name&gt;...)</code> and <code>(?'name'...)</code> when using a PCRE flavor. <code>(?=...)</code> Positive Lookahead. Asserts that the given subpattern can be matched here, without consuming characters <code>(?!...)</code> Negative Lookahead. Starting at the current position in the expression, ensures that the given pattern will not match. Does not consume characters. <code>(?&lt;=...)</code> Positive Lookbehind. Ensures that the given pattern will match, ending at the current position in the expression. The pattern must have a fixed width. Does not consume any characters. <code>(?&lt;!...)</code> Negative Lookbehind. Ensures that the given pattern would not match and end at the current position in the expression. The pattern must have a fixed width. Does not consume characters."},{"location":"regex/#character-classes","title":"Character classes","text":"<code>[abc]</code> Matches either an <code>a</code>, <code>b</code> or <code>c</code> character <code>[^abc]</code> Matches any character except for an <code>a</code>, <code>b</code> or <code>c</code> <code>[a-z]</code> Matches any characters between <code>a</code> and <code>z</code>, including <code>a</code> and <code>z</code>. <code>[^a-z]</code> Matches any characters except those in the range <code>a-z</code>. <code>[a-zA-Z]</code> Matches any characters between <code>a-z</code> or <code>A-Z</code>."},{"location":"sublime-merge/","title":"\ud83d\udd00 Sublime Merge","text":""},{"location":"sublime-merge/#custom-commands","title":"Custom commands","text":"<p><code>Preferences</code> \u2192 <code>Browse Packages</code></p> <ul> <li>Menus</li> <li>Custom Commands</li> </ul> <code>Action.sublime-menu</code><code>Branch.sublime-menu</code><code>Commit.sublime-menu</code><code>Default.sublime-commands</code><code>Diff Context.sublime-menu</code><code>Preferences.sublime-settings</code><code>Remote Branch.sublime-menu</code><code>Tag.sublime-menu</code> <pre><code>[\n{\n\"caption\": \"Open Repository in Explorer\u2026\",\n\"command\": \"open_dir\",\n\"args\": {\n\"dir\": \"$working_dir\"\n}\n}\n]\n</code></pre> <pre><code>[\n{ \"caption\": \"-\", \"id\": \"end\" },\n{\n\"caption\": \"\ud83d\udd17 Open Branch $branch\",\n\"command\": \"git\",\n\"args\": { \"argv\": [\"open\", \"branch\", \"$branch\"] }\n},\n{\n\"caption\": \"\ud83d\udd17 Open Pull Request on $branch\",\n\"command\": \"git\",\n\"args\": { \"argv\": [\"open\", \"pr\", \"$branch\"] }\n}\n]\n</code></pre> <pre><code>[\n{ \"caption\": \"-\", \"id\": \"end\" },\n{\n\"caption\": \"\ud83d\udd17 Open Commit $short_commit\",\n\"command\": \"git\",\n\"args\": { \"argv\": [\"open\", \"commit\", \"$commit\"] }\n}\n]\n</code></pre> <pre><code>[\n{\n\"caption\": \"Status\\tgit status\",\n\"command\": \"git\",\n\"args\": {\"argv\": [\"status\", \"--untracked-files\", \"--verbose\"]}\n},\n{\n\"caption\": \"Status: short\\tgit status --short\",\n\"command\": \"git\",\n\"args\": {\"argv\": [\"status\", \"--short\", \"--untracked-files\", \"--verbose\"]}\n},\n{\n\"caption\": \"Cleanup\\tgit gc\",\n\"command\": \"git\",\n\"args\": {\"argv\": [\"gc\"]}\n},\n{\n\"caption\": \"Version\\tgit --version\",\n\"command\": \"git\",\n\"args\": {\"argv\": [\"--version\"]}\n},\n// Listing\n{\n\"caption\": \"List branches with commit\u2026\",\n\"command\": \"git\",\n\"args\": {\"argv\": [\"branch\", \"--sort=-committerdate\", \"--format=%(committerdate:short) %(refname:short)\", \"--contains\", \"$select_commit\"]}\n},\n{\n\"caption\": \"List tags with commit\u2026\",\n\"command\": \"git\",\n\"args\": {\"argv\": [\"tag\", \"--sort=-creatordate\", \"--format=%(creatordate:short) %(refname:short)\", \"--contains\", \"$select_commit\"]}\n},\n{\n\"caption\": \"List branches merged into branch\u2026\",\n\"command\": \"git\",\n\"args\": {\"argv\": [\"branch\", \"--merged\", \"$select_branch\"]}\n},\n{\n\"caption\": \"List branches not merged into branch\u2026\",\n\"command\": \"git\",\n\"args\": {\"argv\": [\"branch\", \"--no-merged\", \"$select_branch\"]}\n},\n// Code Review\n{\n\"caption\": \"\ud83d\udd17 Open Repository\u2026\",\n\"command\": \"git\",\n\"args\": { \"argv\": [\"open\", \"repo\"] }\n},\n{\n\"caption\": \"\ud83d\udd17 Open Branch\u2026\",\n\"command\": \"git\",\n\"args\": { \"argv\": [\"open\", \"branch\", \"$select_branch\"] }\n},\n{\n\"caption\": \"\ud83d\udd17 Open Pull Request\u2026\",\n\"command\": \"git\",\n\"args\": { \"argv\": [\"open\", \"pr\", \"$select_branch\"] }\n},\n{\n\"caption\": \"\ud83d\udd17 Open Tag\u2026\",\n\"command\": \"git\",\n\"args\": { \"argv\": [\"open\", \"tag\", \"$select_tag\"] }\n},\n{\n\"caption\": \"\ud83d\udd17 Open Commit\u2026\",\n\"command\": \"git\",\n\"args\": { \"argv\": [\"open\", \"commit\", \"$select_commit\"] }\n},\n{\n\"caption\": \"\ud83d\udd17 Open Search\u2026\",\n\"command\": \"git\",\n\"args\": { \"argv\": [\"open\", \"search\", \"$text\"] }\n},\n// Gerrit Review\n{\n\"caption\": \"Review\u2026\\tgit review &lt;branch&gt;\",\n\"command\": \"git\",\n\"args\": {\"argv\": [\"review\", \"$text\", \"--no-rebase\", \"--yes\", \"--verbose\"]}\n},\n{\n\"caption\": \"Review: Setup\\tgit review --setup\",\n\"command\": \"git\",\n\"args\": {\"argv\": [\"review\", \"--setup\", \"--verbose\"]}\n},\n{\n\"caption\": \"Review: List open reviews\\tgit review ---list\",\n\"command\": \"git\",\n\"args\": {\"argv\": [\"review\", \"--list\", \"--verbose\"]}\n},\n{\n\"caption\": \"Review: New ChangeId\u2026\\tgit review --new-changeid\",\n\"command\": \"git\",\n\"args\": {\"argv\": [\"review\", \"--new-changeid\", \"--no-rebase\", \"--verbose\"]}\n},\n{\n\"caption\": \"Review: Dry run\u2026\\tgit review &lt;branch&gt; --dry-run\",\n\"command\": \"git\",\n\"args\": {\"argv\": [\"review\", \"$text\", \"--dry-run\", \"--no-rebase\", \"--yes\", \"--verbose\"]}\n},\n{\n\"caption\": \"Review: Work in progress\u2026\\tgit review &lt;branch&gt; --work-in-progress\",\n\"command\": \"git\",\n\"args\": {\"argv\": [\"review\", \"$text\", \"--work-in-progress\", \"--no-rebase\", \"--yes\", \"--verbose\"]}\n},\n{\n\"caption\": \"Review: Draft\u2026\\tgit review &lt;branch&gt; ---draft\",\n\"command\": \"git\",\n\"args\": {\"argv\": [\"review\", \"$text\", \"--draft\", \"--no-rebase\", \"--yes\", \"--verbose\"]}\n},\n{\n\"caption\": \"Review: Private\u2026\\tgit review &lt;branch&gt; --private\",\n\"command\": \"git\",\n\"args\": {\"argv\": [\"review\", \"$text\", \"--private\", \"--no-rebase\", \"--yes\", \"--verbose\"]}\n},\n{\n\"caption\": \"Review: Download\u2026\\tgit review --download &lt;change&gt;\",\n\"command\": \"git\",\n\"args\": {\"argv\": [\"review\", \"-d\", \"$text\", \"--verbose\"]}\n},\n// Misc\n// git config --global alias.hello \"!f() { echo \\\"Hello, ${1:-World}!\\\" ; }; f\"\n{ \"caption\": \"Test commands \\tHello, World!\", \"command\": \"git\", \"args\": {\"argv\": [\"hello\", \"$text\"] }\n}\n]\n</code></pre> <pre><code>[\n{\n\"caption\": \"Stash file\",\n\"command\": \"git\",\n\"args\": {\"argv\": [\"stash\", \"push\", \"$path\"] }\n}\n]\n</code></pre> <pre><code>{\n\"hide_menu\": true,\n\"always_show_command_status\": true\n}\n</code></pre> <pre><code>[\n{ \"caption\": \"-\", \"id\": \"end\" },\n{\n\"caption\": \"\ud83d\udd17 Open Branch $branch\",\n\"command\": \"git\",\n\"args\": { \"argv\": [\"open\", \"branch\", \"$branch\"] }\n},\n{\n\"caption\": \"\ud83d\udd17 Open Pull Request on $branch\",\n\"command\": \"git\",\n\"args\": { \"argv\": [\"open\", \"pr\", \"$branch\"] }\n}\n]\n</code></pre> <pre><code>[\n{ \"caption\": \"-\", \"id\": \"end\" },\n{\n\"caption\": \"\ud83d\udd17 Open Tag $tag_name\",\n\"command\": \"git\",\n\"args\": { \"argv\": [\"open\", \"tag\", \"$tag_name\"] }\n}\n]\n</code></pre>"},{"location":"sublime-text/","title":"\ud83d\uddc3\ufe0f Sublime Text","text":""},{"location":"sublime-text/#useful-packages","title":"Useful packages","text":"<ul> <li>https://github.com/logcat-org/logcat.tmLanguage</li> <li>https://facelessuser.github.io/MarkdownPreview</li> <li>https://packagecontrol.io/packages/MarkdownTOC</li> <li>https://github.com/ThomasKliszowski/json_reindent</li> <li>https://github.com/SublimeText/AFileIcon</li> </ul>"},{"location":"utils/","title":"\ud83e\uddf0 Utils","text":""},{"location":"utils/#count-lines-of-code","title":"Count lines of code","text":"<pre><code>cloc --fullpath --not-match-d=\"build\" .\n</code></pre>"},{"location":"utils/#create-empty-file-with-specific-size","title":"Create empty file with specific size","text":"<pre><code>truncate --size 10M filename\nfallocate --length 10M filename\n</code></pre>"},{"location":"utils/#diff-between-two-pngs","title":"Diff between two PNGs","text":"<p>Drag&amp;drop two png files, outputs a diff image.</p> <pre><code>@echo off\nfor /f %%a in ('powershell -Command \"Get-Date -format yyyyMMdd-HHmmss\"') do set datetime=%%a\nmagick compare %1 %2 -compose src %datetime%-diff.png\n</code></pre>"},{"location":"utils/#mp4-to-gif","title":"mp4 to gif","text":"Parameter Description <code>-ss</code> start in seconds <code>-t</code> duration in seconds <pre><code>ffmpeg -i input.mp4 -vf \"fps=15,scale=320:-1:flags=lanczos,split[s0][s1];[s0]palettegen[p];[s1][p]paletteuse\" -loop 0 output.gif\n</code></pre> <pre><code>ffmpeg -y -i input.mp4 -vf fps=15,scale=320:-1:flags=lanczos,palettegen palette.png\nffmpeg -i input.mp4 -i palette.png -filter_complex \"fps=15,scale=320:-1:flags=lanczos[x];[x][1:v]paletteuse\" output.gif\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"utils/#ncurses-disk-usage","title":"NCurses Disk Usage","text":"<p>\ud83d\udd17 Ncdu is a disk usage analyzer with an ncurses interface</p> <pre><code>brew install ncdu\n</code></pre>"},{"location":"utils/#web-crawler","title":"Web crawler","text":"<pre><code>wget \\\n--recursive \\\n--no-clobber \\\n--page-requisites \\\n--html-extension \\\n--convert-links \\\n--restrict-file-names=windows \\\n--domains website.com \\\n--no-parent \\\nhttp://www.website.com/\n</code></pre>"},{"location":"windows/","title":"\ud83e\ude9f Windows","text":""},{"location":"windows/#reboot-gpu-driver","title":"Reboot GPU driver","text":"MkDocsGitHub <p>Win+Ctrl+Shift+B</p> <p>Win + Ctrl + Shift + B</p>"},{"location":"windows/#reset-file-ownership","title":"Reset file ownership","text":"<pre><code>REM Make local administrators group owner.\ntakeown /F C:\\files /R /A /D Y\nREM Reset ACLs to defaults.\nicacls C:\\files /reset /T /C /L /Q\n</code></pre> <p>\ud83d\udd17</p>"},{"location":"windows/#uefi-bios","title":"UEFI BIOS","text":"<pre><code>shutdown /r /fw /f /t 0\n</code></pre>"},{"location":"windows/#url-file","title":"URL file","text":"email.url<pre><code>[InternetShortcut]\nURL=mailto:test@example.org\n</code></pre> example.url<pre><code>[InternetShortcut]\nURL=https://example.org\n</code></pre>"},{"location":"yaml/","title":"\ud83d\udccb YAML","text":"<p>YAML Ain't Markup Language</p>"},{"location":"yaml/#front-matter","title":"Front Matter","text":"<p>Front matter is metadata written in YAML, located at the top of a file and wrapped between <code>---</code>.</p> <pre><code>---\ntitle: \ud83d\udc8e Miscellaneous\nauthor: Simon Marquis\nlang: en\nkeywords:\n- Miscellaneous\n- Random\n---\n</code></pre>"},{"location":"yaml/#types","title":"Types","text":""},{"location":"yaml/#null","title":"!!null","text":"<p>Devoid of value.</p> <p>regexp</p> <pre><code>~ # (canonical)\n|null|Null|NULL # (English)\n| # (Empty)\n</code></pre> <pre><code># A document may be null.\n---\n</code></pre> <pre><code>empty:\ncanonical: ~\nenglish: null\nenglish2: Null\nenglish3: NULL\n~: null key\n</code></pre>"},{"location":"yaml/#bool","title":"!!bool","text":"<p>Mathematical Booleans.</p> <p>regexp</p> <pre><code>y|Y|yes|Yes|YES|n|N|no|No|NO\n|true|True|TRUE|false|False|FALSE\n|on|On|ON|off|Off|OFF\n</code></pre> <pre><code>canonical: y\nanswer: NO\nlogical: True\noption: on\n</code></pre>"},{"location":"yaml/#int","title":"!!int","text":"<p>Mathematical integers.</p> <p>regexp</p> <pre><code>[-+]?0b[0-1_]+ # (base 2)\n|[-+]?0[0-7_]+ # (base 8)\n|[-+]?(0|[1-9][0-9_]*) # (base 10)\n|[-+]?0x[0-9a-fA-F_]+ # (base 16)\n|[-+]?[1-9][0-9_]*(:[0-5]?[0-9])+ # (base 60)\n</code></pre> <pre><code>canonical: 685230\ndecimal: +685_230\noctal: 02472256\nhexadecimal: 0x_0A_74_AE\nbinary: 0b1010_0111_0100_1010_1110\nsexagesimal: 190:20:30\n</code></pre>"},{"location":"yaml/#float","title":"!!float","text":"<p>Floating-point approximation to real numbers.</p> <p>regexp</p> <pre><code>[-+]?([0-9][0-9_]*)?\\.[0-9.]*([eE][-+][0-9]+)? (base 10)\n|[-+]?[0-9][0-9_]*(:[0-5]?[0-9])+\\.[0-9_]* (base 60)\n|[-+]?\\.(inf|Inf|INF) # (infinity)\n|\\.(nan|NaN|NAN) # (not a number)\n</code></pre> <pre><code>canonical: 6.8523015e+5\nexponentioal: 685.230_15e+03\nfixed: 685_230.15\nsexagesimal: 190:20:30.15\nnegative infinity: -.inf\nnot a number: .NaN\n</code></pre>"},{"location":"yaml/#str","title":"!!str","text":"<p>Unicode strings, a sequence of zero or more Unicode characters.</p> <pre><code>canonical: Hello, World!\nsingle quotes: 'Hello, World!'\ndouble quotes: \"Hello, World!\"\nfolded: &gt;\nHello,\nWorld!\nliteral: |\nHello,\nWorld!\n</code></pre> <ul> <li> <p>Block Scalar Style \ud83d\udd17</p> <ul> <li><code>folded</code> (<code>&gt;</code>): converts new lines into spaces</li> <li><code>literal</code> (<code>|</code>): preserves new lines and trailing spaces</li> </ul> </li> <li> <p>Block Chomping \ud83d\udd17</p> <ul> <li><code>clip</code>: single newline at end</li> <li><code>strip</code> (<code>-</code>): no newline at end</li> <li><code>keep</code> (<code>+</code>): all newlines from end</li> </ul> </li> </ul> <p>\ud83d\udd17</p>"},{"location":"yaml/#timestamp","title":"!!timestamp","text":"<p>A point in time.</p> <p>regexp</p> <pre><code>[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9] # (ymd)\n|[0-9][0-9][0-9][0-9] # (year)\n -[0-9][0-9]? # (month)\n -[0-9][0-9]? # (day)\n ([Tt]|[ \\t]+)[0-9][0-9]? # (hour)\n :[0-9][0-9] # (minute)\n :[0-9][0-9] # (second)\n (\\.[0-9]*)? # (fraction)\n (([ \\t]*)Z|[-+][0-9][0-9]?(:[0-9][0-9])?)? # (time zone)\n</code></pre> <pre><code>canonical:        2001-12-15T02:59:43.1Z\nvalid iso8601:    2001-12-14t21:59:43.10-05:00\nspace separated:  2001-12-14 21:59:43.10 -5\nno time zone (Z): 2001-12-15 2:59:43.10\ndate (00:00:00Z): 2002-12-14\n</code></pre>"},{"location":"yaml/#binary","title":"!!binary","text":"<p>A sequence of zero or more octets (8 bit values).</p> <pre><code>canonical: !!binary \"\\\nR0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\"\ngeneric: !binary |\nR0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\n</code></pre>"},{"location":"yaml/#seq","title":"!!seq","text":"<p>Collections indexed by sequential integers starting with zero.</p> <pre><code>Block style: !!seq\n- A\n- B\n- C\nFlow style: !!seq [ A, B, C ]\n</code></pre>"},{"location":"yaml/#set","title":"!!set","text":"<p>Unordered set of non-equal values.</p> <pre><code>Block style: !!set\n? A\n? B\n? C\nFlow style: !!set { A, B, C }\n</code></pre>"},{"location":"yaml/#pairs","title":"!!pairs","text":"<p>Ordered sequence of key:value pairs allowing duplicates.</p> <pre><code>Block style: !!pairs\n- A: a\n- B: b\n- C: c\nFlow style: !!pairs [ A: a, B: b, C: c ]\n</code></pre>"},{"location":"yaml/#map","title":"!!map","text":"<p>Associative container, where each key is unique in the association and mapped to exactly one value.</p> <pre><code>Block style: !!map\nA: a\nB: b\nC: c\nFlow style: !!map { A: a, B: b, C: c }\n</code></pre>"},{"location":"yaml/#omap","title":"!!omap","text":"<p>Ordered sequence of key:value pairs without duplicates.</p> <pre><code>Block style: !!omap\nA: a\nB: b\nC: c\nFlow style: !!omap { A: a, B: b, C: c }\n</code></pre>"}]}